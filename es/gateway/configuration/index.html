
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="OpenClaw documentation in 22 languages">
      
      
        <meta name="author" content="John Kelly">
      
      
        <link rel="canonical" href="https://johnakelly-yahoo-com.github.io/openclaw-docs/es/gateway/configuration/">
      
      
        <link rel="prev" href="../configuration-examples/">
      
      
        <link rel="next" href="../discovery/">
      
      
        
          <link rel="alternate" href="/openclaw-docs/" hreflang="en">
        
          <link rel="alternate" href="/openclaw-docs/ja/" hreflang="ja">
        
          <link rel="alternate" href="/openclaw-docs/ko/" hreflang="ko">
        
          <link rel="alternate" href="/openclaw-docs/zh-TW/" hreflang="zh-TW">
        
          <link rel="alternate" href="/openclaw-docs/zh-CN/" hreflang="zh-CN">
        
          <link rel="alternate" href="/openclaw-docs/es/" hreflang="es">
        
          <link rel="alternate" href="/openclaw-docs/fr/" hreflang="fr">
        
          <link rel="alternate" href="/openclaw-docs/de/" hreflang="de">
        
          <link rel="alternate" href="/openclaw-docs/pt-BR/" hreflang="pt-BR">
        
          <link rel="alternate" href="/openclaw-docs/vi/" hreflang="vi">
        
          <link rel="alternate" href="/openclaw-docs/sv/" hreflang="sv">
        
          <link rel="alternate" href="/openclaw-docs/tl/" hreflang="tl">
        
          <link rel="alternate" href="/openclaw-docs/nl/" hreflang="nl">
        
          <link rel="alternate" href="/openclaw-docs/ur/" hreflang="ur">
        
          <link rel="alternate" href="/openclaw-docs/ar/" hreflang="ar">
        
          <link rel="alternate" href="/openclaw-docs/hi/" hreflang="hi">
        
          <link rel="alternate" href="/openclaw-docs/da/" hreflang="da">
        
          <link rel="alternate" href="/openclaw-docs/pl/" hreflang="pl">
        
          <link rel="alternate" href="/openclaw-docs/th/" hreflang="th">
        
          <link rel="alternate" href="/openclaw-docs/tr/" hreflang="tr">
        
          <link rel="alternate" href="/openclaw-docs/my/" hreflang="my">
        
          <link rel="alternate" href="/openclaw-docs/ru/" hreflang="ru">
        
          <link rel="alternate" href="/openclaw-docs/uz/" hreflang="uz">
        
      
      
      <link rel="icon" href="../../../assets/sage-icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Configuración - OpenClaw Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuracion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
These translations are community-maintained. Help improve them on
<a href="https://crowdin.com/project/66aa453b091ff31e16a4cecfeef31b17">Crowdin</a>.

          </div>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../" title="OpenClaw Documentation" class="md-header__button md-logo" aria-label="OpenClaw Documentation" data-md-component="logo">
      <img src="../../../assets/sage-icon.png" alt="OpenDocs" style="height: 1.2rem; width: auto;">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenClaw Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuración
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/openclaw-docs/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/ja/" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/ko/" hreflang="ko" class="md-select__link">
              한국어
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/zh-TW/" hreflang="zh-TW" class="md-select__link">
              繁體中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/zh-CN/" hreflang="zh-CN" class="md-select__link">
              简体中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/es/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/fr/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/de/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/pt-BR/" hreflang="pt-BR" class="md-select__link">
              Português (Brasil)
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/vi/" hreflang="vi" class="md-select__link">
              Tiếng Việt
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/sv/" hreflang="sv" class="md-select__link">
              Svenska
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/tl/" hreflang="tl" class="md-select__link">
              Filipino
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/nl/" hreflang="nl" class="md-select__link">
              Nederlands
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/ur/" hreflang="ur" class="md-select__link">
              اردو
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/ar/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/hi/" hreflang="hi" class="md-select__link">
              हिन्दी
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/da/" hreflang="da" class="md-select__link">
              Dansk
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/pl/" hreflang="pl" class="md-select__link">
              Polski
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/th/" hreflang="th" class="md-select__link">
              ไทย
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/tr/" hreflang="tr" class="md-select__link">
              Türkçe
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/my/" hreflang="my" class="md-select__link">
              မြန်မာ
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/ru/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/openclaw-docs/uz/" hreflang="uz" class="md-select__link">
              O'zbek
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
  
    
  
  OpenClaw

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../brave-search/" class="md-tabs__link">
        
  
  
    
  
  Brave Search

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../date-time/" class="md-tabs__link">
        
  
  
    
  
  Fecha y Hora

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../logging/" class="md-tabs__link">
        
  
  
    
  
  Logging

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../network/" class="md-tabs__link">
        
  
  
    
  
  network.md

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../perplexity/" class="md-tabs__link">
        
  
  
    
  
  Perplexity Sonar

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../pi-dev/" class="md-tabs__link">
        
  
  
    
  
  Flujo de trabajo de desarrollo de Pi

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../pi/" class="md-tabs__link">
        
  
  
    
  
  Arquitectura de integración de Pi

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../prose/" class="md-tabs__link">
        
  
  
    
  
  OpenProse

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../tts/" class="md-tabs__link">
        
  
  
    
  
  Texto a Voz

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../vps/" class="md-tabs__link">
        
  
  
    
  
  Alojamiento VPS

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../automation/auth-monitoring/" class="md-tabs__link">
          
  
  
  Automation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../channels/" class="md-tabs__link">
          
  
  
  Channels

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cli/" class="md-tabs__link">
          
  
  
  Cli

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../concepts/agent-loop/" class="md-tabs__link">
          
  
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../debug/node-issue/" class="md-tabs__link">
          
  
  
  Debug

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../diagnostics/flags/" class="md-tabs__link">
          
  
  
  Diagnostics

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../experiments/onboarding-config-protocol/" class="md-tabs__link">
          
  
  
  Experiments

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  Gateway

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../help/" class="md-tabs__link">
          
  
  
  Help

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../hooks/soul-evil/" class="md-tabs__link">
          
  
  
  Hooks

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../install/" class="md-tabs__link">
          
  
  
  Install

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../nodes/" class="md-tabs__link">
          
  
  
  Nodes

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../platforms/" class="md-tabs__link">
          
  
  
  Platforms

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../plugins/agent-tools/" class="md-tabs__link">
          
  
  
  Plugins

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../providers/" class="md-tabs__link">
          
  
  
  Providers

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../refactor/clawnet/" class="md-tabs__link">
          
  
  
  Refactor

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/AGENTS.default/" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../security/CONTRIBUTING-THREAT-MODEL/" class="md-tabs__link">
          
  
  
  Security

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../start/bootstrapping/" class="md-tabs__link">
          
  
  
  Start

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tools/" class="md-tabs__link">
          
  
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../web/" class="md-tabs__link">
          
  
  
  Web

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="OpenClaw Documentation" class="md-nav__button md-logo" aria-label="OpenClaw Documentation" data-md-component="logo">
      <img src="../../../assets/sage-icon.png" alt="OpenDocs" style="height: 1.2rem; width: auto;">
    </a>
    OpenClaw Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenClaw
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../brave-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Brave Search
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../date-time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fecha y Hora
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    network.md
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../perplexity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Perplexity Sonar
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pi-dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Flujo de trabajo de desarrollo de Pi
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura de integración de Pi
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenProse
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Texto a Voz
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Alojamiento VPS
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Automation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Automation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/auth-monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoreo de autenticación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/cron-jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tareas Cron
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/cron-vs-heartbeat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cron vs Heartbeat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/gmail-pubsub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gmail PubSub
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/poll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encuestas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas de automatización
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../automation/webhook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Channels
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Channels
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canales de chat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/bluebubbles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BlueBubbles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/broadcast-groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grupos de difusión
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--experimental"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/channel-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enrutamiento de canales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/discord/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Discord
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/feishu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Feishu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/googlechat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Google Chat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/grammy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    grammY
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/group-messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mensajes de grupo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grupos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/imessage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    iMessage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/line/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LINE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/location/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Análisis de ubicación del canal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/matrix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Matrix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/mattermost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mattermost
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/msteams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft Teams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/nextcloud-talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nextcloud Talk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/nostr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nostr
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/pairing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Emparejamiento
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/signal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Signal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/slack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Slack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/telegram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Telegram
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/tlon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tlon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas de canales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/twitch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Twitch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/whatsapp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WhatsApp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/zalo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zalo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../channels/zalouser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zalo Personal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cli
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cli
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Referencia de la CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/acp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    acp
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    agentes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/approvals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    aprobaciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/browser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    navegador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    channels
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/configure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    configure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/cron/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cron
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    panel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/devices/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dispositivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/directory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    directory
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    docs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/doctor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    doctor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/health/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    salud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    registros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    memoria
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/message/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    message
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    node
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nodes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/onboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    onboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/pairing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    emparejamiento
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/reset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    restablecer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/sandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI de Sandbox
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    seguridad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/sessions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    configuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/status/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    estado
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/tui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/uninstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    desinstalar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    actualizar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/voicecall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    voicecall
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/agent-loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bucle del agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/agent-workspace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Espacio de trabajo del agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Runtime del agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arquitectura del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/compaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compactación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contexto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Características
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/markdown-formatting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Formato Markdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memoria
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/messages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mensajes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/model-failover/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Failover de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/model-providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proveedores de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/multi-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enrutamiento multiagente
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/oauth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OAuth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/presence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Presencia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cola de comandos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/retry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Política de reintentos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/session-pruning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Poda de sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/session-tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramientas de sesión
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gestión de sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/sessions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streaming y fragmentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/system-prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Prompt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/timezone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zonas horarias
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/typebox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TypeBox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/typing-indicators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Indicadores de escritura
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/usage-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seguimiento de uso
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Debug
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    Debug
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../debug/node-issue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fallo de Node + tsx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Diagnostics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    Diagnostics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diagnostics/flags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Indicadores de diagnóstico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Experiments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    Experiments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/onboarding-config-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocolo de Onboarding y Configuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_18_2" >
        
          
          <label class="md-nav__link" for="__nav_18_2" id="__nav_18_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Plans
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_18_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Plans
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/plans/cron-add-hardening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Endurecimiento de Cron Add
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--complete"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/plans/group-policy-hardening/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Endurecimiento de la lista de permitidos de Telegram
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/plans/openresponses-gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plan del Gateway OpenResponses
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_18_3" >
        
          
          <label class="md-nav__link" for="__nav_18_3" id="__nav_18_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Proposals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_18_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Proposals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/proposals/model-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exploración de configuración de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_18_4" >
        
          
          <label class="md-nav__link" for="__nav_18_4" id="__nav_18_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Research
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_18_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Research
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiments/research/memory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Investigación sobre la memoria del espacio de trabajo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" checked>
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Gateway
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    Gateway
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual operativo del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autenticación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../background-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exec en Segundo Plano y Herramienta de Procesos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bonjour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Descubrimiento Bonjour
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bridge-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocolo Bridge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-backends/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backends de CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ejemplos de configuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Configuración
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#validacion-estricta-de-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validación estricta de configuración
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esquema-pistas-de-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Esquema + pistas de UI
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aplicar-reiniciar-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aplicar + reiniciar (RPC)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actualizaciones-parciales-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Actualizaciones parciales (RPC)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-minima-punto-de-partida-recomendado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuración mínima (punto de partida recomendado)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modo-de-autochat-recomendado-para-control-de-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modo de autochat (recomendado para control de grupos)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inclusiones-de-configuracion-include" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inclusiones de configuración ($include)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inclusiones de configuración ($include)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uso-basico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Uso básico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comportamiento-de-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comportamiento de fusión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incluye-anidados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incluye anidados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolucion-de-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resolución de rutas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manejo-de-errores" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manejo de errores
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-configuracion-legal-multicliente" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Configuración legal multi‑cliente
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opciones-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opciones comunes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Opciones comunes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#env-vars-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        Env vars + .env
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#envshellenv-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      
        env.shellEnv (opcional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sustitucion-de-var-env-en-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sustitución de var Env en configuración
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#almacenamiento-de-autenticacion-oauth-claves-de-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        Almacenamiento de autenticación (OAuth + claves de API)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth" class="md-nav__link">
    <span class="md-ellipsis">
      
        auth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentslistidentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.list[].identity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wizard" class="md-nav__link">
    <span class="md-ellipsis">
      
        wizard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        logging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappdmpolicy" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.dmPolicy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappallowfrom" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.allowFrom
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappsendreadreceipts" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.sendReadReceipts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappaccounts-multicuenta" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.accounts (multicuenta)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelstelegramaccounts-channelsdiscordaccounts-channelsgooglechataccounts-channelsslackaccounts-channelsmattermostaccounts-channelssignalaccounts-channelsimessageaccounts" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.telegram.accounts / channels.discord.accounts / channels.googlechat.accounts / channels.slack.accounts / channels.mattermost.accounts / channels.signal.accounts / channels.imessage.accounts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-de-menciones-en-chats-de-grupo-agentslistgroupchat-messagesgroupchat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Control de menciones en chats de grupo (agents.list[].groupChat + messages.groupChat)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control de menciones en chats de grupo (agents.list[].groupChat + messages.groupChat)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limites-de-historial-en-dm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Límites de historial en DM
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#politica-de-grupos-por-canal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Política de grupos (por canal)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enrutamiento-multiagente-agentslist-bindings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enrutamiento multi‑agente (agents.list + bindings)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enrutamiento multi‑agente (agents.list + bindings)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perfiles-de-acceso-por-agente-multiagente" class="md-nav__link">
    <span class="md-ellipsis">
      
        Perfiles de acceso por agente (multi‑agente)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolsagenttoagent-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools.agentToAgent (opcional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagesqueue" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages.queue
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagesinbound" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages.inbound
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-manejo-de-comandos-de-chat" class="md-nav__link">
    <span class="md-ellipsis">
      
        commands (manejo de comandos de chat)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-tiempo-de-ejecucion-del-canal-web-de-whatsapp" class="md-nav__link">
    <span class="md-ellipsis">
      
        web (tiempo de ejecución del canal web de WhatsApp)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelstelegram-transporte-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.telegram (transporte del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsdiscord-transporte-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.discord (transporte del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsgooglechat-webhook-de-chat-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.googlechat (webhook de Chat API)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsslack-modo-socket" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.slack (modo socket)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsmattermost-token-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.mattermost (token del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelssignal-signal-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.signal (signal-cli)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsimessage-cli-de-imsg" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.imessage (CLI de imsg)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsworkspace" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.workspace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsreporoot" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.repoRoot
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsskipbootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.skipBootstrap
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsbootstrapmaxchars" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.bootstrapMaxChars
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsusertimezone" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.userTimezone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultstimeformat" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.timeFormat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variables-de-plantilla" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variables de plantilla
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajestts" class="md-nav__link">
    <span class="md-ellipsis">
      
        mensajes.tts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hablar" class="md-nav__link">
    <span class="md-ellipsis">
      
        hablar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaults" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="agents.defaults">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsclibackends-cli-fallback" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.cliBackends (CLI fallback)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultscontextpruning-tool-result-poding" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.contextPruning (tool-result poding)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultscompaction-reserva-cabecera-memoria-de-flush" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.compaction (reserva cabecera + memoria de flush)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultssandbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.sandbox
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#models-proveedores-personalizados-url-base" class="md-nav__link">
    <span class="md-ellipsis">
      
        models (proveedores personalizados + URL base)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-abierto-zen-proxy-multimodelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Código abierto Zen (proxy multimodelo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zai-glm-47-soporte-para-alias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Z.AI (GLM-4.7) — Soporte para alias
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moonshot-ai-kimi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Moonshot AI (Kimi)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kimi-coding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kimi Coding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sintetico-compatible-con-antropicos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sintético (compatible con Antrópicos)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modelos-locales-lm-studio-configuracion-recomendada" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modelos locales (LM Studio) — configuración recomendada
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimax-m21" class="md-nav__link">
    <span class="md-ellipsis">
      
        MiniMax M2.1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cerebras-glm-46-47" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cerebras (GLM 4.6 / 4.7)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        sesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#habilidades-configuracion-de-habilidades" class="md-nav__link">
    <span class="md-ellipsis">
      
        habilidades (configuración de habilidades)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plugins-extensiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        plugins (extensiones)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-navegador-administrado-por-openclaw" class="md-nav__link">
    <span class="md-ellipsis">
      
        browser (navegador administrado por openclaw)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-textpearance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ui Textpearance)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gateway-modo-servidor-gateway-bind" class="md-nav__link">
    <span class="md-ellipsis">
      
        gateway (modo servidor Gateway + bind)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gatewayreload-configurar-recarga-caliente" class="md-nav__link">
    <span class="md-ellipsis">
      
        gateway.reload (Configurar recarga caliente)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gateway.reload (Configurar recarga caliente)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matrix-de-recarga-caliente-archivos-impacto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matrix de recarga caliente (archivos + impacto)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aislamiento-multiple" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aislamiento múltiple
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hooks-webhooks-de-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      
        hooks (webhooks de Gateway)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvashost-servidor-de-archivos-lantailnet-canvas-recarga-en-vivo" class="md-nav__link">
    <span class="md-ellipsis">
      
        canvasHost (Servidor de archivos LAN/tailnet Canvas + Recarga en vivo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#puente-puente-tcp-antiguo-eliminado" class="md-nav__link">
    <span class="md-ellipsis">
      
        puente (puente TCP antiguo, eliminado)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discoverymdns-modo-bonjour-mdns-broadcast-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        discovery.mdns (modo Bonjour / mDNS broadcast mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discoverywidearea-ancho-de-area-bonjour-unicast-dnsvideo-sd" class="md-nav__link">
    <span class="md-ellipsis">
      
        discovery.wideArea (Ancho de área Bonjour / unicast DNS)[video] SD)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-de-plantilla-de-modelo-multimedia" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variables de plantilla de modelo multimedia
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cron-planificador-de-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron (Planificador de Gateway)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Descubrimiento y transportes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../doctor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Doctor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gateway-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bloqueo del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../health/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comprobaciones de salud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../heartbeat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Heartbeat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../local-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelos locales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multiple-gateways/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Múltiples Gateways
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../network-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo de red
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openai-http-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chat Completions de OpenAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openresponses-http-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API de OpenResponses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pairing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Emparejamiento propiedad del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocolo del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-gateway-readme/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración del Gateway remoto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acceso remoto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandbox-vs-tool-policy-vs-elevated/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandbox vs Política de herramientas vs Elevado
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandboxing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandboxing
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tailscale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tailscale
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools-invoke-http-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API de Invocación de Herramientas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_19_29" >
        
          
          <label class="md-nav__link" for="__nav_19_29" id="__nav_19_29_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_19_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19_29">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seguridad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_20" >
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Help
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    Help
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ayuda
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Depuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Variables de entorno
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Preguntas frecuentes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/submitting-a-pr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Envío de un PR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/submitting-an-issue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Envío de un Issue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pruebas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_21" >
        
          
          <label class="md-nav__link" for="__nav_21" id="__nav_21_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hooks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hooks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../hooks/soul-evil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hook SOUL Evil
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_22" >
        
          
          <label class="md-nav__link" for="__nav_22" id="__nav_22_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Install
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_22">
            <span class="md-nav__icon md-icon"></span>
            
  
    Install
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instalar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ansible
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/bun/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bun (Experimental)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/development-channels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canales de desarrollo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/exe-dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    exe.dev
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/fly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fly.io
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/gcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GCP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/hetzner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hetzner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/installer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Internos del instalador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/macos-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    VMs de macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/migrating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guía de migración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/nix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nix
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node.js
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/uninstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Desinstalar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/updating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actualización
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_23" >
        
          
          <label class="md-nav__link" for="__nav_23" id="__nav_23_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nodes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_23_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_23">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nodes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nodos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/audio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Audio y notas de voz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/camera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Captura de cámara
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soporte de Imágenes y Medios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/location-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comando de ubicación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/media-understanding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comprensión de medios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/talk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modo Talk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas de nodos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nodes/voicewake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Activación por voz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_24" >
        
          
          <label class="md-nav__link" for="__nav_24" id="__nav_24_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Platforms
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_24_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_24">
            <span class="md-nav__icon md-icon"></span>
            
  
    Platforms
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plataformas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/android/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aplicación Android
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/digitalocean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DigitalOcean
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/ios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    App iOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aplicación Linux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/macos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    App de macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/oracle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Oracle Cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/raspberry-pi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Raspberry Pi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows (WSL2)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_24_10" >
        
          
          <label class="md-nav__link" for="__nav_24_10" id="__nav_24_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Mac
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_24_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_24_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Mac
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/bundled-gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gateway en macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/canvas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/child-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ciclo de vida del Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/dev-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración de desarrollo en macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/health/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comprobaciones de salud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/icon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Icono de la barra de menús
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Registro en macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/menu-bar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Barra de menús
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/peekaboo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Peekaboo Bridge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Permisos de macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lanzamiento de macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control remoto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/signing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firma en macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/voice-overlay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Superposición de voz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/voicewake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Activación por voz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/webchat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WebChat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/mac/xpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IPC de macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_25" >
        
          
          <label class="md-nav__link" for="__nav_25" id="__nav_25_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_25_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_25">
            <span class="md-nav__icon md-icon"></span>
            
  
    Plugins
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/agent-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramientas de agente del plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/manifest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manifiesto del plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/voice-call/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin de Llamadas de Voz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/zalouser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin de Zalo Personal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_26" >
        
          
          <label class="md-nav__link" for="__nav_26" id="__nav_26_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Providers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_26_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_26">
            <span class="md-nav__icon md-icon"></span>
            
  
    Providers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proveedores de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/anthropic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anthropic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/bedrock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Amazon Bedrock
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/claude-max-api-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proxy de API de Claude Max
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/cloudflare-ai-gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gateway de IA de Cloudflare
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/deepgram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deepgram
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/github-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Copilot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/glm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelos GLM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/minimax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MiniMax
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio rápido de proveedores de modelos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/moonshot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Moonshot AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/ollama/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ollama
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/openai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/opencode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenCode Zen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/openrouter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenRouter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/qianfan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Qianfan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/qwen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Qwen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/synthetic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Synthetic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/venice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Venice AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/vercel-ai-gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vercel AI Gateway
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/xiaomi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Xiaomi MiMo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../providers/zai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Z.AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_27" >
        
          
          <label class="md-nav__link" for="__nav_27" id="__nav_27_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Refactor
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_27_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_27">
            <span class="md-nav__icon md-icon"></span>
            
  
    Refactor
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refactor/clawnet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Refactorización de Clawnet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refactor/exec-host/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Refactorización del Host de Exec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refactor/outbound-session-mirroring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    refactor/outbound-session-mirroring.md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refactor/plugin-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Refactorización del SDK de Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../refactor/strict-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Validación estricta de configuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_28" >
        
          
          <label class="md-nav__link" for="__nav_28" id="__nav_28_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_28_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_28">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/AGENTS.default/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AGENTS.md — Asistente Personal de OpenClaw (predeterminado)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/RELEASING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lista de verificación de lanzamiento (npm + macOS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api-usage-costs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Uso y costos de la API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/credits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Créditos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/device-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base de datos de modelos de dispositivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/rpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adaptadores RPC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/session-management-compaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Análisis profundo de la gestión de sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pruebas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/token-use/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Uso de tokens y costos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/transcript-hygiene/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Higiene de transcripciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/wizard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Referencia del asistente de incorporación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_28_12" >
        
          
          <label class="md-nav__link" for="__nav_28_12" id="__nav_28_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Templates
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_28_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_28_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Templates
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/AGENTS.dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AGENTS.md - Espacio de trabajo de OpenClaw
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/AGENTS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AGENTS.md - Su espacio de trabajo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/BOOT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BOOT.md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/BOOTSTRAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BOOTSTRAP.md - Hola, Mundo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/HEARTBEAT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HEARTBEAT.md
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/IDENTITY.dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDENTITY.md - Identidad del Agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/IDENTITY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDENTITY.md - ¿Quién soy?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/SOUL.dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOUL.md - El alma de C-3PO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/SOUL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOUL.md - Quién es usted
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/TOOLS.dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TOOLS.md - Notas de herramientas del usuario (editable)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/TOOLS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TOOLS.md - Notas locales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/USER.dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USER.md - Perfil de usuario
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/templates/USER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USER.md - Acerca de su humano
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_29" >
        
          
          <label class="md-nav__link" for="__nav_29" id="__nav_29_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_29_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_29">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/CONTRIBUTING-THREAT-MODEL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contribuir al Modelo de Amenazas de OpenClaw
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/THREAT-MODEL-ATLAS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenClaw Threat Model v1.0
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_30" >
        
          
          <label class="md-nav__link" for="__nav_30" id="__nav_30_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Start
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_30_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_30">
            <span class="md-nav__icon md-icon"></span>
            
  
    Start
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/bootstrapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Arranque del agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/docs-directory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Directorio de documentos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comenzando
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/hubs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hubs de documentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/lore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lore de OpenClaw
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/onboarding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Incorporación (App de macOS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/openclaw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración del asistente personal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio rápido
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/showcase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vitrina
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/wizard-cli-automation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automatización de la CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/wizard-cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Referencia de incorporación por CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start/wizard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Asistente de incorporación (CLI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_31" >
        
          
          <label class="md-nav__link" for="__nav_31" id="__nav_31_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_31_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_31">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramientas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/agent-send/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Envío del agente
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/apply-patch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramienta apply_patch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/browser-linux-troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Solución de problemas del navegador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/browser-login/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio de sesión del navegador
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/browser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Navegador (administrado por OpenClaw)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/chrome-extension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extensión de Chrome
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/clawhub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ClawHub
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/creating-skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creación de Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/elevated/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modo Elevado
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/exec-approvals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Aprobaciones de Exec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/exec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramienta Exec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/firecrawl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firecrawl
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/llm-task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tarea de LLM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/lobster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lobster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/multi-agent-sandbox-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandbox y Herramientas Multi-Agente
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--active"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/reactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reacciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/skills-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuración de Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/slash-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comandos de barra
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/subagents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Subagentes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/thinking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Niveles de Thinking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Herramientas web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_32" >
        
          
          <label class="md-nav__link" for="__nav_32" id="__nav_32_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Web
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_32_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_32">
            <span class="md-nav__icon md-icon"></span>
            
  
    Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/control-ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI de control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/tui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TUI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/webchat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WebChat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#validacion-estricta-de-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validación estricta de configuración
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esquema-pistas-de-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        Esquema + pistas de UI
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aplicar-reiniciar-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aplicar + reiniciar (RPC)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actualizaciones-parciales-rpc" class="md-nav__link">
    <span class="md-ellipsis">
      
        Actualizaciones parciales (RPC)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-minima-punto-de-partida-recomendado" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuración mínima (punto de partida recomendado)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modo-de-autochat-recomendado-para-control-de-grupos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modo de autochat (recomendado para control de grupos)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inclusiones-de-configuracion-include" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inclusiones de configuración ($include)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inclusiones de configuración ($include)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uso-basico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Uso básico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comportamiento-de-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comportamiento de fusión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#incluye-anidados" class="md-nav__link">
    <span class="md-ellipsis">
      
        Incluye anidados
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resolucion-de-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resolución de rutas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manejo-de-errores" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manejo de errores
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-configuracion-legal-multicliente" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo: Configuración legal multi‑cliente
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opciones-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opciones comunes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Opciones comunes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#env-vars-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        Env vars + .env
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#envshellenv-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      
        env.shellEnv (opcional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sustitucion-de-var-env-en-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sustitución de var Env en configuración
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#almacenamiento-de-autenticacion-oauth-claves-de-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        Almacenamiento de autenticación (OAuth + claves de API)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auth" class="md-nav__link">
    <span class="md-ellipsis">
      
        auth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentslistidentity" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.list[].identity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wizard" class="md-nav__link">
    <span class="md-ellipsis">
      
        wizard
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      
        logging
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappdmpolicy" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.dmPolicy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappallowfrom" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.allowFrom
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappsendreadreceipts" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.sendReadReceipts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelswhatsappaccounts-multicuenta" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.whatsapp.accounts (multicuenta)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelstelegramaccounts-channelsdiscordaccounts-channelsgooglechataccounts-channelsslackaccounts-channelsmattermostaccounts-channelssignalaccounts-channelsimessageaccounts" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.telegram.accounts / channels.discord.accounts / channels.googlechat.accounts / channels.slack.accounts / channels.mattermost.accounts / channels.signal.accounts / channels.imessage.accounts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-de-menciones-en-chats-de-grupo-agentslistgroupchat-messagesgroupchat" class="md-nav__link">
    <span class="md-ellipsis">
      
        Control de menciones en chats de grupo (agents.list[].groupChat + messages.groupChat)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control de menciones en chats de grupo (agents.list[].groupChat + messages.groupChat)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limites-de-historial-en-dm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Límites de historial en DM
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#politica-de-grupos-por-canal" class="md-nav__link">
    <span class="md-ellipsis">
      
        Política de grupos (por canal)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enrutamiento-multiagente-agentslist-bindings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enrutamiento multi‑agente (agents.list + bindings)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enrutamiento multi‑agente (agents.list + bindings)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perfiles-de-acceso-por-agente-multiagente" class="md-nav__link">
    <span class="md-ellipsis">
      
        Perfiles de acceso por agente (multi‑agente)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolsagenttoagent-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools.agentToAgent (opcional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagesqueue" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages.queue
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messagesinbound" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages.inbound
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands-manejo-de-comandos-de-chat" class="md-nav__link">
    <span class="md-ellipsis">
      
        commands (manejo de comandos de chat)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#web-tiempo-de-ejecucion-del-canal-web-de-whatsapp" class="md-nav__link">
    <span class="md-ellipsis">
      
        web (tiempo de ejecución del canal web de WhatsApp)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelstelegram-transporte-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.telegram (transporte del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsdiscord-transporte-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.discord (transporte del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsgooglechat-webhook-de-chat-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.googlechat (webhook de Chat API)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsslack-modo-socket" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.slack (modo socket)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsmattermost-token-del-bot" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.mattermost (token del bot)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelssignal-signal-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.signal (signal-cli)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channelsimessage-cli-de-imsg" class="md-nav__link">
    <span class="md-ellipsis">
      
        channels.imessage (CLI de imsg)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsworkspace" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.workspace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsreporoot" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.repoRoot
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsskipbootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.skipBootstrap
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsbootstrapmaxchars" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.bootstrapMaxChars
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsusertimezone" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.userTimezone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultstimeformat" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.timeFormat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      
        messages
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variables-de-plantilla" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variables de plantilla
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mensajestts" class="md-nav__link">
    <span class="md-ellipsis">
      
        mensajes.tts
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hablar" class="md-nav__link">
    <span class="md-ellipsis">
      
        hablar
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaults" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="agents.defaults">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agentsdefaultsclibackends-cli-fallback" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.cliBackends (CLI fallback)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultscontextpruning-tool-result-poding" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.contextPruning (tool-result poding)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultscompaction-reserva-cabecera-memoria-de-flush" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.compaction (reserva cabecera + memoria de flush)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agentsdefaultssandbox" class="md-nav__link">
    <span class="md-ellipsis">
      
        agents.defaults.sandbox
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#models-proveedores-personalizados-url-base" class="md-nav__link">
    <span class="md-ellipsis">
      
        models (proveedores personalizados + URL base)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-abierto-zen-proxy-multimodelo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Código abierto Zen (proxy multimodelo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zai-glm-47-soporte-para-alias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Z.AI (GLM-4.7) — Soporte para alias
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moonshot-ai-kimi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Moonshot AI (Kimi)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kimi-coding" class="md-nav__link">
    <span class="md-ellipsis">
      
        Kimi Coding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sintetico-compatible-con-antropicos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sintético (compatible con Antrópicos)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modelos-locales-lm-studio-configuracion-recomendada" class="md-nav__link">
    <span class="md-ellipsis">
      
        Modelos locales (LM Studio) — configuración recomendada
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minimax-m21" class="md-nav__link">
    <span class="md-ellipsis">
      
        MiniMax M2.1
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cerebras-glm-46-47" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cerebras (GLM 4.6 / 4.7)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        sesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#habilidades-configuracion-de-habilidades" class="md-nav__link">
    <span class="md-ellipsis">
      
        habilidades (configuración de habilidades)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plugins-extensiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        plugins (extensiones)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#browser-navegador-administrado-por-openclaw" class="md-nav__link">
    <span class="md-ellipsis">
      
        browser (navegador administrado por openclaw)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ui-textpearance" class="md-nav__link">
    <span class="md-ellipsis">
      
        ui Textpearance)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gateway-modo-servidor-gateway-bind" class="md-nav__link">
    <span class="md-ellipsis">
      
        gateway (modo servidor Gateway + bind)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gatewayreload-configurar-recarga-caliente" class="md-nav__link">
    <span class="md-ellipsis">
      
        gateway.reload (Configurar recarga caliente)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gateway.reload (Configurar recarga caliente)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matrix-de-recarga-caliente-archivos-impacto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Matrix de recarga caliente (archivos + impacto)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aislamiento-multiple" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aislamiento múltiple
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hooks-webhooks-de-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      
        hooks (webhooks de Gateway)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canvashost-servidor-de-archivos-lantailnet-canvas-recarga-en-vivo" class="md-nav__link">
    <span class="md-ellipsis">
      
        canvasHost (Servidor de archivos LAN/tailnet Canvas + Recarga en vivo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#puente-puente-tcp-antiguo-eliminado" class="md-nav__link">
    <span class="md-ellipsis">
      
        puente (puente TCP antiguo, eliminado)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discoverymdns-modo-bonjour-mdns-broadcast-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        discovery.mdns (modo Bonjour / mDNS broadcast mode)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#discoverywidearea-ancho-de-area-bonjour-unicast-dnsvideo-sd" class="md-nav__link">
    <span class="md-ellipsis">
      
        discovery.wideArea (Ancho de área Bonjour / unicast DNS)[video] SD)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables-de-plantilla-de-modelo-multimedia" class="md-nav__link">
    <span class="md-ellipsis">
      
        Variables de plantilla de modelo multimedia
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cron-planificador-de-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron (Planificador de Gateway)
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="configuracion">Configuración 🔧<a class="headerlink" href="#configuracion" title="Permanent link">&para;</a></h1>
<p>OpenClaw lee una configuración <strong>JSON5</strong> opcional desde <code>~/.openclaw/openclaw.json</code> (se permiten comentarios y comas finales).</p>
<p>Si el archivo falta, OpenClaw usa valores predeterminados razonablemente seguros (agente Pi integrado + sesiones por remitente + espacio de trabajo <code>~/.openclaw/workspace</code>). Por lo general, solo necesita una configuración para:</p>
<ul>
<li>restringir quién puede activar el bot (<code>channels.whatsapp.allowFrom</code>, <code>channels.telegram.allowFrom</code>, etc.)</li>
<li>controlar listas de permitidos de grupos y el comportamiento de menciones (<code>channels.whatsapp.groups</code>, <code>channels.telegram.groups</code>, <code>channels.discord.guilds</code>, <code>agents.list[].groupChat</code>)</li>
<li>personalizar prefijos de mensajes (<code>messages</code>)</li>
<li>establecer el espacio de trabajo del agente (<code>agents.defaults.workspace</code> o <code>agents.list[].workspace</code>)</li>
<li>ajustar los valores predeterminados del agente integrado (<code>agents.defaults</code>) y el comportamiento de sesión (<code>session</code>)</li>
<li>establecer la identidad por agente (<code>agents.list[].identity</code>)</li>
</ul>
<blockquote>
<p><strong>¿Nuevo en la configuración?</strong> Consulte la guía de <a href="../../gateway/configuration-examples">Ejemplos de configuración</a> para ver ejemplos completos con explicaciones detalladas.</p>
</blockquote>
<h2 id="validacion-estricta-de-configuracion">Validación estricta de configuración<a class="headerlink" href="#validacion-estricta-de-configuracion" title="Permanent link">&para;</a></h2>
<p>OpenClaw solo acepta configuraciones que coincidan completamente con el esquema.
Claves desconocidas, tipos malformados o valores inválidos hacen que el Gateway <strong>se niegue a iniciar</strong> por seguridad.</p>
<p>Cuando falla la validación:</p>
<ul>
<li>El Gateway no arranca.</li>
<li>Solo se permiten comandos de diagnóstico (por ejemplo: <code>openclaw doctor</code>, <code>openclaw logs</code>, <code>openclaw health</code>, <code>openclaw status</code>, <code>openclaw service</code>, <code>openclaw help</code>).</li>
<li>Ejecute <code>openclaw doctor</code> para ver los problemas exactos.</li>
<li>Ejecute <code>openclaw doctor --fix</code> (o <code>--yes</code>) para aplicar migraciones/reparaciones.</li>
</ul>
<p>Doctor nunca escribe cambios a menos que usted opte explícitamente por <code>--fix</code>/<code>--yes</code>.</p>
<h2 id="esquema-pistas-de-ui">Esquema + pistas de UI<a class="headerlink" href="#esquema-pistas-de-ui" title="Permanent link">&para;</a></h2>
<p>El Gateway expone una representación JSON Schema de la configuración mediante <code>config.schema</code> para editores de UI.
La UI de Control renderiza un formulario a partir de este esquema, con un editor de <strong>JSON sin procesar</strong> como vía de escape.</p>
<p>Los plugins de canal y las extensiones pueden registrar esquema y pistas de UI para su configuración, de modo que los ajustes del canal
se mantengan basados en esquema entre aplicaciones sin formularios codificados.</p>
<p>Las pistas (etiquetas, agrupación, campos sensibles) se entregan junto con el esquema para que los clientes puedan renderizar
mejores formularios sin codificar conocimiento de la configuración.</p>
<h2 id="aplicar-reiniciar-rpc">Aplicar + reiniciar (RPC)<a class="headerlink" href="#aplicar-reiniciar-rpc" title="Permanent link">&para;</a></h2>
<p>Use <code>config.apply</code> para validar y escribir la configuración completa y reiniciar el Gateway en un solo paso.
Escribe un centinela de reinicio y hace ping a la última sesión activa después de que el Gateway vuelve.</p>
<p>Advertencia: <code>config.apply</code> reemplaza la <strong>configuración completa</strong>. Si desea cambiar solo algunas claves,
use <code>config.patch</code> o <code>openclaw config set</code>. Mantenga una copia de seguridad de <code>~/.openclaw/openclaw.json</code>.</p>
<p>Parámetros:</p>
<ul>
<li><code>raw</code> (string) — carga útil JSON5 para la configuración completa</li>
<li><code>baseHash</code> (opcional) — hash de configuración de <code>config.get</code> (requerido cuando ya existe una configuración)</li>
<li><code>sessionKey</code> (opcional) — clave de la última sesión activa para el ping de activación</li>
<li><code>note</code> (opcional) — nota para incluir en el centinela de reinicio</li>
<li><code>restartDelayMs</code> (opcional) — retraso antes del reinicio (predeterminado 2000)</li>
</ul>
<p>Ejemplo (vía <code>gateway call</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>openclaw<span class="w"> </span>gateway<span class="w"> </span>call<span class="w"> </span>config.get<span class="w"> </span>--params<span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="w"> </span><span class="c1"># capture payload.hash</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>openclaw<span class="w"> </span>gateway<span class="w"> </span>call<span class="w"> </span>config.apply<span class="w"> </span>--params<span class="w"> </span><span class="s1">&#39;{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="s1">  &quot;raw&quot;: &quot;{\\n  agents: { defaults: { workspace: \\&quot;~/.openclaw/workspace\\&quot; } }\\n}\\n&quot;,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="s1">  &quot;baseHash&quot;: &quot;&lt;hash-from-config.get&gt;&quot;,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="s1">  &quot;sessionKey&quot;: &quot;agent:main:whatsapp:dm:+15555550123&quot;,</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="s1">  &quot;restartDelayMs&quot;: 1000</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="s1">}&#39;</span>
</code></pre></div>
<h2 id="actualizaciones-parciales-rpc">Actualizaciones parciales (RPC)<a class="headerlink" href="#actualizaciones-parciales-rpc" title="Permanent link">&para;</a></h2>
<p>Use <code>config.patch</code> para fusionar una actualización parcial en la configuración existente sin sobrescribir
claves no relacionadas. Aplica semántica de JSON merge patch:</p>
<ul>
<li>los objetos se fusionan recursivamente</li>
<li><code>null</code> elimina una clave</li>
<li>los arreglos se reemplazan<br />
  Al igual que <code>config.apply</code>, valida, escribe la configuración, almacena un centinela de reinicio y programa
  el reinicio del Gateway (con una activación opcional cuando se proporciona <code>sessionKey</code>).</li>
</ul>
<p>Parámetros:</p>
<ul>
<li><code>raw</code> (string) — carga útil JSON5 que contiene solo las claves a cambiar</li>
<li><code>baseHash</code> (requerido) — hash de configuración de <code>config.get</code></li>
<li><code>sessionKey</code> (opcional) — clave de la última sesión activa para el ping de activación</li>
<li><code>note</code> (opcional) — nota para incluir en el centinela de reinicio</li>
<li><code>restartDelayMs</code> (opcional) — retraso antes del reinicio (predeterminado 2000)</li>
</ul>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>openclaw<span class="w"> </span>gateway<span class="w"> </span>call<span class="w"> </span>config.get<span class="w"> </span>--params<span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="w"> </span><span class="c1"># capture payload.hash</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>openclaw<span class="w"> </span>gateway<span class="w"> </span>call<span class="w"> </span>config.patch<span class="w"> </span>--params<span class="w"> </span><span class="s1">&#39;{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="s1">  &quot;raw&quot;: &quot;{\\n  channels: { telegram: { groups: { \\&quot;*\\&quot;: { requireMention: false } } } }\\n}\\n&quot;,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="s1">  &quot;baseHash&quot;: &quot;&lt;hash-from-config.get&gt;&quot;,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="s1">  &quot;sessionKey&quot;: &quot;agent:main:whatsapp:dm:+15555550123&quot;,</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="s1">  &quot;restartDelayMs&quot;: 1000</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="s1">}&#39;</span>
</code></pre></div>
<h2 id="configuracion-minima-punto-de-partida-recomendado">Configuración mínima (punto de partida recomendado)<a class="headerlink" href="#configuracion-minima-punto-de-partida-recomendado" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">}</span>
</code></pre></div>
<p>Construya la imagen predeterminada una vez con:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>scripts/sandbox-setup.sh
</code></pre></div>
<h2 id="modo-de-autochat-recomendado-para-control-de-grupos">Modo de autochat (recomendado para control de grupos)<a class="headerlink" href="#modo-de-autochat-recomendado-para-control-de-grupos" title="Permanent link">&para;</a></h2>
<p>Para evitar que el bot responda a menciones @ de WhatsApp en grupos (responder solo a disparadores de texto específicos):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">        </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mentionPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;@openclaw&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reisponde&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">      </span><span class="c1">// Allowlist is DMs only; including your own number enables self-chat mode.</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">],</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">      </span><span class="nv">groups</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;*&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="p">}</span>
</code></pre></div>
<h2 id="inclusiones-de-configuracion-include">Inclusiones de configuración (<code>$include</code>)<a class="headerlink" href="#inclusiones-de-configuracion-include" title="Permanent link">&para;</a></h2>
<p>Divida su configuración en varios archivos usando la directiva <code>$include</code>. Esto es útil para:</p>
<ul>
<li>Organizar configuraciones grandes (p. ej., definiciones de agentes por cliente)</li>
<li>Compartir ajustes comunes entre entornos</li>
<li>Mantener configuraciones sensibles separadas</li>
</ul>
<h3 id="uso-basico">Uso básico<a class="headerlink" href="#uso-basico" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// ~/.openclaw/openclaw.json</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">port</span><span class="p">:</span><span class="w"> </span><span class="mf">18789</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span><span class="c1">// Include a single file (replaces the key&#39;s value)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./agents.json5&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">  </span><span class="c1">// Include multiple files (deep-merged in order)</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">  </span><span class="nv">broadcast</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;./clients/mueller.json5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;./clients/schmidt.json5&quot;</span><span class="p">],</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// ~/.openclaw/agents.json5</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">{</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;all&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;session&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace&quot;</span><span class="w"> </span><span class="p">}],</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="comportamiento-de-fusion">Comportamiento de fusión<a class="headerlink" href="#comportamiento-de-fusion" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Archivo único</strong>: Reemplaza el objeto que contiene <code>$include</code></li>
<li><strong>Arreglo de archivos</strong>: Fusiona profundamente los archivos en orden (los posteriores sobrescriben a los anteriores)</li>
<li><strong>Con claves hermanas</strong>: Las claves hermanas se fusionan después de las inclusiones (sobrescriben valores incluidos)</li>
<li><strong>Claves hermanas + arreglos/primitivos</strong>: No compatible (el contenido incluido debe ser un objeto)</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// Sibling keys override included values</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./base.json5&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// { a: 1, b: 2 }</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nv">b</span><span class="p">:</span><span class="w"> </span><span class="mf">99</span><span class="p">,</span><span class="w"> </span><span class="c1">// Result: { a: 1, b: 99 }</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="incluye-anidados">Incluye anidados<a class="headerlink" href="#incluye-anidados" title="Permanent link">&para;</a></h3>
<p>Los archivos incluidos pueden contener directivas <code>$include</code> (hasta 10 niveles de profundidad):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// clients/mueller.json5</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./mueller/agents.json5&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="nv">broadcast</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./mueller/broadcast.json5&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="resolucion-de-rutas">Resolución de rutas<a class="headerlink" href="#resolucion-de-rutas" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Rutas relativas</strong>: Se resuelven relativas al archivo que incluye</li>
<li><strong>Rutas absolutas</strong>: Utilizado como es</li>
<li><strong>Directorios padre</strong>: Las referencias <code>../</code> funcionan como se espera</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span><span class="w"> </span><span class="nv">&quot;$include&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;./sub/config.json5&quot;</span><span class="w"> </span><span class="p">}</span><span class="w">      </span><span class="c1">// relative</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="p">{</span><span class="w"> </span><span class="nv">&quot;$include&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/etc/openclaw/base.json5&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// absolute</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">{</span><span class="w"> </span><span class="nv">&quot;$include&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;../shared/common.json5&quot;</span><span class="w"> </span><span class="p">}</span><span class="w">   </span><span class="c1">// parent dir</span>
</code></pre></div>
<h3 id="manejo-de-errores">Manejo de errores<a class="headerlink" href="#manejo-de-errores" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Archivo faltante</strong>: Error claro con la ruta resuelta</li>
<li><strong>Error de parseo</strong>: Muestra qué archivo incluido falló</li>
<li><strong>Inclusiones circulares</strong>: Detectadas y reportadas con la cadena de inclusión</li>
</ul>
<h3 id="ejemplo-configuracion-legal-multicliente">Ejemplo: Configuración legal multi‑cliente<a class="headerlink" href="#ejemplo-configuracion-legal-multicliente" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// ~/.openclaw/openclaw.json</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">port</span><span class="p">:</span><span class="w"> </span><span class="mf">18789</span><span class="p">,</span><span class="w"> </span><span class="nv">auth</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;secret&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span><span class="c1">// Common agent defaults</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">      </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;all&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;session&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="c1">// Merge agent lists from all clients</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;./clients/mueller/agents.json5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;./clients/schmidt/agents.json5&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">  </span><span class="c1">// Merge broadcast configs</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">  </span><span class="nv">broadcast</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">    </span><span class="err">$</span><span class="nv">include</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;./clients/mueller/broadcast.json5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;./clients/schmidt/broadcast.json5&quot;</span><span class="p">],</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// ~/.openclaw/clients/mueller/agents.json5</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="p">[</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mueller-transcribe&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/clients/mueller/transcribe&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mueller-docs&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/clients/mueller/docs&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// ~/.openclaw/clients/mueller/broadcast.json5</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nv">&quot;120363403215116621@g.us&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;mueller-transcribe&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;mueller-docs&quot;</span><span class="p">],</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="p">}</span>
</code></pre></div>
<h2 id="opciones-comunes">Opciones comunes<a class="headerlink" href="#opciones-comunes" title="Permanent link">&para;</a></h2>
<h3 id="env-vars-env">Env vars + <code>.env</code><a class="headerlink" href="#env-vars-env" title="Permanent link">&para;</a></h3>
<p>OpenClaw lee variables de entorno del proceso padre (shell, launchd/systemd, CI, etc.).</p>
<p>Además, carga:</p>
<ul>
<li><code>.env</code> desde el directorio de trabajo actual (si existe)</li>
<li>un respaldo global <code>.env</code> desde <code>~/.openclaw/.env</code> (también conocido como <code>$OPENCLAW_STATE_DIR/.env</code>)</li>
</ul>
<p>Ninguno de los archivos <code>.env</code> sobrescribe variables de entorno existentes.</p>
<p>También puede proporcionar variables de entorno en línea en la configuración. Estas solo se aplican si
el entorno del proceso no tiene la clave (misma regla de no sobrescritura):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="nv">OPENROUTER_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sk-or-...&quot;</span><span class="p">,</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="nv">vars</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">      </span><span class="nv">GROQ_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gsk-...&quot;</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="p">}</span>
</code></pre></div>
<p>Vea <a href="../../help/environment">/environment</a> para la precedencia y las fuentes completas.</p>
<h3 id="envshellenv-opcional"><code>env.shellEnv</code> (opcional)<a class="headerlink" href="#envshellenv-opcional" title="Permanent link">&para;</a></h3>
<p>Comodidad opcional: si está habilitado y aún no se estableció ninguna de las claves esperadas, OpenClaw ejecuta su shell de inicio de sesión e importa solo las claves esperadas faltantes (nunca sobrescribe).
Esto equivale a cargar su perfil de shell.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="nv">shellEnv</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">      </span><span class="nv">timeoutMs</span><span class="p">:</span><span class="w"> </span><span class="mf">15000</span><span class="p">,</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="p">}</span>
</code></pre></div>
<p>Equivalente de var Env:</p>
<ul>
<li><code>OPENCLAW_LOAD_SHELL_ENV=1</code></li>
<li><code>OPENCLAW_SHELL_ENV_TIMEOUT_MS=15000</code></li>
</ul>
<h3 id="sustitucion-de-var-env-en-configuracion">Sustitución de var Env en configuración<a class="headerlink" href="#sustitucion-de-var-env-en-configuracion" title="Permanent link">&para;</a></h3>
<p>Puede referenciar variables de entorno directamente en cualquier valor de cadena de la configuración usando
la sintaxis <code>${VAR_NAME}</code>. Las variables se sustituyen al cargar la configuración, antes de la validación.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">      </span><span class="nv">&quot;vercel-gateway&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${VERCEL_GATEWAY_API_KEY}&quot;</span><span class="p">,</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">    </span><span class="nv">auth</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">      </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${OPENCLAW_GATEWAY_TOKEN}&quot;</span><span class="p">,</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Reglas:</strong></p>
<ul>
<li>Solo se reconocen nombres de variables en mayúsculas: <code>[A-Z_][A-Z0-9_]*</code></li>
<li>Variables faltantes o vacías provocan un error al cargar la configuración</li>
<li>Escape con <code>$${VAR}</code> para producir un <code>${VAR}</code> literal</li>
<li>Funciona con <code>$include</code> (los archivos incluidos también reciben sustitución)</li>
</ul>
<p><strong>Sustitución en línea:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">      </span><span class="nv">custom</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${CUSTOM_API_BASE}/v1&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// → &quot;https://api.example.com/v1&quot;</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="p">}</span>
</code></pre></div>
<h3 id="almacenamiento-de-autenticacion-oauth-claves-de-api">Almacenamiento de autenticación (OAuth + claves de API)<a class="headerlink" href="#almacenamiento-de-autenticacion-oauth-claves-de-api" title="Permanent link">&para;</a></h3>
<p>OpenClaw almacena perfiles de autenticación <strong>por agente</strong> (OAuth + claves de API) en:</p>
<ul>
<li><code>&lt;agentDir&gt;/auth-profiles.json</code> (predeterminado: <code>~/.openclaw/agents/&lt;agentId&gt;/agent/auth-profiles.json</code>)</li>
</ul>
<p>Vea también: <a href="../../concepts/oauth">/concepts/oauth</a></p>
<p>Importaciones OAuth heredadas:</p>
<ul>
<li><code>~/.openclaw/credentials/oauth.json</code> (o <code>$OPENCLAW_STATE_DIR/credentials/oauth.json</code>)</li>
</ul>
<p>El agente Pi integrado mantiene una caché de tiempo de ejecución en:</p>
<ul>
<li><code>&lt;agentDir&gt;/auth.json</code> (administrada automáticamente; no edite manualmente)</li>
</ul>
<p>Directorio heredado del agente (antes de multi‑agente):</p>
<ul>
<li><code>~/.openclaw/agent/*</code> (migrado por <code>openclaw doctor</code> a <code>~/.openclaw/agents/&lt;defaultAgentId&gt;/agent/*</code>)</li>
</ul>
<p>Anulaciones:</p>
<ul>
<li>Directorio OAuth (solo importación heredada): <code>OPENCLAW_OAUTH_DIR</code></li>
<li>Directorio de agente (anulación de la raíz del agente predeterminado): <code>OPENCLAW_AGENT_DIR</code> (preferido), <code>PI_CODING_AGENT_DIR</code> (heredado)</li>
</ul>
<p>En el primer uso, OpenClaw importa las entradas <code>oauth.json</code> en <code>auth-profiles.json</code>.</p>
<h3 id="auth"><code>auth</code><a class="headerlink" href="#auth" title="Permanent link">&para;</a></h3>
<p>Metadatos opcionales para perfiles de autenticación. <strong>No</strong> almacena secretos; asigna
IDs de perfil a un proveedor + modo (y correo electrónico opcional) y define el orden
de rotación de proveedores usado para conmutación por error.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="nv">auth</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="nv">profiles</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">      </span><span class="nv">&quot;anthropic:me@example.com&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;oauth&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;me@example.com&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">      </span><span class="nv">&quot;anthropic:work&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;api_key&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span><span class="nv">order</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">      </span><span class="nv">anthropic</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;anthropic:me@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;anthropic:work&quot;</span><span class="p">],</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentslistidentity"><code>agents.list[].identity</code><a class="headerlink" href="#agentslistidentity" title="Permanent link">&para;</a></h3>
<p>Identidad opcional por agente usada para valores predeterminados y UX. La escribe el asistente de incorporación de macOS.</p>
<p>Si se establece, OpenClaw deriva valores predeterminados (solo cuando no los ha establecido explícitamente):</p>
<ul>
<li><code>messages.ackReaction</code> a partir del <code>identity.emoji</code> del <strong>agente activo</strong> (retrocede a 👀)</li>
<li><code>agents.list[].groupChat.mentionPatterns</code> a partir del <code>identity.name</code>/<code>identity.emoji</code> del agente (para que “@Samantha” funcione en grupos en Telegram/Slack/Discord/Google Chat/iMessage/WhatsApp)</li>
<li><code>identity.avatar</code> acepta una ruta de imagen relativa al espacio de trabajo o una URL remota/data URL. Los archivos locales deben residir dentro del espacio de trabajo del agente.</li>
</ul>
<p><code>identity.avatar</code> acepta:</p>
<ul>
<li>Ruta relativa al espacio de trabajo (debe permanecer dentro del espacio del agente)</li>
<li>URL <code>http(s)</code></li>
<li>URI <code>data:</code></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">        </span><span class="nv">identity</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">          </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Samantha&quot;</span><span class="p">,</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">          </span><span class="nv">theme</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;helpful sloth&quot;</span><span class="p">,</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">          </span><span class="nv">emoji</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;🦥&quot;</span><span class="p">,</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">          </span><span class="nv">avatar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;avatars/samantha.png&quot;</span><span class="p">,</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="p">}</span>
</code></pre></div>
<h3 id="wizard"><code>wizard</code><a class="headerlink" href="#wizard" title="Permanent link">&para;</a></h3>
<p>Metadatos escritos por asistentes de la CLI (<code>onboard</code>, <code>configure</code>, <code>doctor</code>).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="p">{</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="nv">wizard</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nv">lastRunAt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2026-01-01T00:00:00.000Z&quot;</span><span class="p">,</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="nv">lastRunVersion</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2026.1.4&quot;</span><span class="p">,</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="nv">lastRunCommit</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;abc1234&quot;</span><span class="p">,</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="nv">lastRunCommand</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;configure&quot;</span><span class="p">,</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="nv">lastRunMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;local&quot;</span><span class="p">,</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="p">}</span>
</code></pre></div>
<h3 id="logging"><code>logging</code><a class="headerlink" href="#logging" title="Permanent link">&para;</a></h3>
<ul>
<li>Archivo de registro predeterminado: <code>/tmp/openclaw/openclaw-YYYY-MM-DD.log</code></li>
<li>Si desea una ruta estable, establezca <code>logging.file</code> en <code>/tmp/openclaw/openclaw.log</code>.</li>
<li>La salida de consola puede ajustarse por separado mediante:</li>
<li><code>logging.consoleLevel</code> (predeterminado <code>info</code>, aumenta a <code>debug</code> cuando <code>--verbose</code>)</li>
<li><code>logging.consoleStyle</code> (<code>pretty</code> | <code>compact</code> | <code>json</code>)</li>
<li>Los resúmenes de herramientas pueden redactarse para evitar filtraciones de secretos:</li>
<li><code>logging.redactSensitive</code> (<code>off</code> | <code>tools</code>, predeterminado: <code>tools</code>)</li>
<li><code>logging.redactPatterns</code> (arreglo de cadenas regex; sobrescribe los valores predeterminados)</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="nv">logging</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="nv">level</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;info&quot;</span><span class="p">,</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="nv">file</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/tmp/openclaw/openclaw.log&quot;</span><span class="p">,</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="nv">consoleLevel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;info&quot;</span><span class="p">,</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="nv">consoleStyle</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pretty&quot;</span><span class="p">,</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="nv">redactSensitive</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tools&quot;</span><span class="p">,</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="nv">redactPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">      </span><span class="c1">// Example: override defaults with your own rules.</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">      </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">bTOKEN</span><span class="se">\\</span><span class="s">b</span><span class="se">\\</span><span class="s">s*[=:]</span><span class="se">\\</span><span class="s">s*([</span><span class="se">\&quot;</span><span class="s">&#39;]?)([^</span><span class="se">\\</span><span class="s">s</span><span class="se">\&quot;</span><span class="s">&#39;]+)</span><span class="se">\\</span><span class="s">1&quot;</span><span class="p">,</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">      </span><span class="s">&quot;/</span><span class="se">\\</span><span class="s">bsk-[A-Za-z0-9_-]{8,}</span><span class="se">\\</span><span class="s">b/gi&quot;</span><span class="p">,</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="p">}</span>
</code></pre></div>
<h3 id="channelswhatsappdmpolicy"><code>channels.whatsapp.dmPolicy</code><a class="headerlink" href="#channelswhatsappdmpolicy" title="Permanent link">&para;</a></h3>
<p>Controla cómo se manejan los chats directos (DMs) de WhatsApp:</p>
<ul>
<li><code>"pairing"</code> (predeterminado): remitentes desconocidos reciben un código de emparejamiento; el propietario debe aprobar</li>
<li><code>"allowlist"</code>: solo permitir remitentes en <code>channels.whatsapp.allowFrom</code> (o en el almacén de permitidos emparejados)</li>
<li><code>"open"</code>: permitir todos los DMs entrantes (<strong>requiere</strong> que <code>channels.whatsapp.allowFrom</code> incluya <code>"*"</code>)</li>
<li><code>"disabled"</code>: ignorar todos los DMs entrantes</li>
</ul>
<p>Los códigos de emparejamiento expiran después de 1 hora; el bot solo envía un código cuando se crea una nueva solicitud. Las solicitudes de emparejamiento DM pendientes se limitan a <strong>3 por canal</strong> de forma predeterminada.</p>
<p>Aprobaciones de emparejamiento:</p>
<ul>
<li><code>openclaw pairing list whatsapp</code></li>
<li><code>openclaw pairing approve whatsapp &lt;code&gt;</code></li>
</ul>
<h3 id="channelswhatsappallowfrom"><code>channels.whatsapp.allowFrom</code><a class="headerlink" href="#channelswhatsappallowfrom" title="Permanent link">&para;</a></h3>
<p>Lista de permitidos de números telefónicos E.164 que pueden activar respuestas automáticas de WhatsApp (<strong>solo DMs</strong>).
Si está vacía y <code>channels.whatsapp.dmPolicy="pairing"</code>, los remitentes desconocidos recibirán un código de emparejamiento.
Para grupos, use <code>channels.whatsapp.groupPolicy</code> + <code>channels.whatsapp.groupAllowFrom</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">      </span><span class="nv">dmPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+447700900123&quot;</span><span class="p">],</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">      </span><span class="nv">textChunkLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">4000</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional outbound chunk size (chars)</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">      </span><span class="nv">chunkMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;length&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional chunking mode (length | newline)</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional inbound media cap (MB)</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="channelswhatsappsendreadreceipts"><code>channels.whatsapp.sendReadReceipts</code><a class="headerlink" href="#channelswhatsappsendreadreceipts" title="Permanent link">&para;</a></h3>
<p>Controla si los mensajes entrantes de WhatsApp se marcan como leídos (doble marca azul). Predeterminado: <code>true</code>.</p>
<p>El modo de autochat siempre omite los recibos de lectura, incluso cuando está habilitado.</p>
<p>Anulación por cuenta: <code>channels.whatsapp.accounts.&lt;id&gt;.sendReadReceipts</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">sendReadReceipts</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="channelswhatsappaccounts-multicuenta"><code>channels.whatsapp.accounts</code> (multicuenta)<a class="headerlink" href="#channelswhatsappaccounts-multicuenta" title="Permanent link">&para;</a></h3>
<p>Ejecute varias cuentas de WhatsApp en un solo gateway:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="p">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">      </span><span class="nv">accounts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">        </span><span class="nv">default</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="c1">// optional; keeps the default id stable</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">        </span><span class="nv">personal</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">        </span><span class="nv">biz</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">          </span><span class="c1">// Optional override. Default: ~/.openclaw/credentials/whatsapp/biz</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">          </span><span class="c1">// authDir: &quot;~/.openclaw/credentials/whatsapp/biz&quot;,</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Los comandos salientes usan por defecto la cuenta <code>default</code> si está presente; de lo contrario, el primer ID de cuenta configurado (ordenado).</li>
<li>El directorio de autenticación Baileys heredado de cuenta única se migra por <code>openclaw doctor</code> a <code>whatsapp/default</code>.</li>
</ul>
<h3 id="channelstelegramaccounts-channelsdiscordaccounts-channelsgooglechataccounts-channelsslackaccounts-channelsmattermostaccounts-channelssignalaccounts-channelsimessageaccounts"><code>channels.telegram.accounts</code> / <code>channels.discord.accounts</code> / <code>channels.googlechat.accounts</code> / <code>channels.slack.accounts</code> / <code>channels.mattermost.accounts</code> / <code>channels.signal.accounts</code> / <code>channels.imessage.accounts</code><a class="headerlink" href="#channelstelegramaccounts-channelsdiscordaccounts-channelsgooglechataccounts-channelsslackaccounts-channelsmattermostaccounts-channelssignalaccounts-channelsimessageaccounts" title="Permanent link">&para;</a></h3>
<p>Ejecute múltiples cuentas por canal (cada cuenta tiene su propio <code>accountId</code> y <code>name</code> opcional):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nv">telegram</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">      </span><span class="nv">accounts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">        </span><span class="nv">default</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">          </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Primary bot&quot;</span><span class="p">,</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">          </span><span class="nv">botToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123456:ABC...&quot;</span><span class="p">,</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">        </span><span class="nv">alerts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">          </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alerts bot&quot;</span><span class="p">,</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">          </span><span class="nv">botToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;987654:XYZ...&quot;</span><span class="p">,</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Se usa <code>default</code> cuando se omite <code>accountId</code> (CLI + enrutamiento).</li>
<li>Los tokens de entorno solo aplican a la <strong>cuenta predeterminada</strong>.</li>
<li>Los ajustes base del canal (política de grupos, control de menciones, etc.) aplican a todas las cuentas a menos que se anulen por cuenta.</li>
<li>Use <code>bindings[].match.accountId</code> para enrutar cada cuenta a un agents.defaults diferente.</li>
</ul>
<h3 id="control-de-menciones-en-chats-de-grupo-agentslistgroupchat-messagesgroupchat">Control de menciones en chats de grupo (<code>agents.list[].groupChat</code> + <code>messages.groupChat</code>)<a class="headerlink" href="#control-de-menciones-en-chats-de-grupo-agentslistgroupchat-messagesgroupchat" title="Permanent link">&para;</a></h3>
<p>Los mensajes de grupo requieren <strong>mención obligatoria</strong> de forma predeterminada (ya sea mención por metadatos o patrones regex). Aplica a grupos de WhatsApp, Telegram, Discord, Google Chat e iMessage.</p>
<p><strong>Tipos de mención:</strong></p>
<ul>
<li><strong>Menciones por metadatos</strong>: menciones @ nativas de la plataforma (p. ej., tocar para mencionar en WhatsApp). Se ignoran en el modo de autochat de WhatsApp (ver <code>channels.whatsapp.allowFrom</code>).</li>
<li><strong>Patrones de texto</strong>: patrones regex definidos en <code>agents.list[].groupChat.mentionPatterns</code>. Siempre se verifican independientemente del modo de autochat.</li>
<li>El control de menciones solo se aplica cuando la detección de menciones es posible (menciones nativas o al menos un <code>mentionPattern</code>).</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="p">{</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mentionPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;@openclaw&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;openclaw&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}],</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="p">}</span>
</code></pre></div>
<p><code>messages.groupChat.historyLimit</code> establece el valor predeterminado global para el contexto de historial de grupo. Los canales pueden anularlo con <code>channels.&lt;channel&gt;.historyLimit</code> (o <code>channels.&lt;channel&gt;.accounts.*.historyLimit</code> para multicuenta). Establezca <code>0</code> para deshabilitar el envoltorio de historial.</p>
<h4 id="limites-de-historial-en-dm">Límites de historial en DM<a class="headerlink" href="#limites-de-historial-en-dm" title="Permanent link">&para;</a></h4>
<p>Las conversaciones DM usan historial basado en sesiones administrado por el agente. Puede limitar el número de turnos del usuario retenidos por sesión DM:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="p">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="nv">telegram</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">      </span><span class="nv">dmHistoryLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">30</span><span class="p">,</span><span class="w"> </span><span class="c1">// limit DM sessions to 30 user turns</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">      </span><span class="nv">dms</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">        </span><span class="nv">&quot;123456789&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// per-user override (user ID)</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="p">}</span>
</code></pre></div>
<p>Orden de resolución:</p>
<ol>
<li>Anulación por DM: <code>channels.&lt;provider&gt;.dms[userId].historyLimit</code></li>
<li>Predeterminado del proveedor: <code>channels.&lt;provider&gt;.dmHistoryLimit</code></li>
<li>Sin límite (se conserva todo el historial)</li>
</ol>
<p>Proveedores compatibles: <code>telegram</code>, <code>whatsapp</code>, <code>discord</code>, <code>slack</code>, <code>signal</code>, <code>imessage</code>, <code>msteams</code>.</p>
<p>Anulación por agente (tiene prioridad cuando se establece, incluso <code>[]</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="p">{</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mentionPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;@workbot&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">+15555550123&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;personal&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mentionPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;@homebot&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">+15555550999&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="p">}</span>
</code></pre></div>
<p>Los valores predeterminados de control de menciones viven por canal (<code>channels.whatsapp.groups</code>, <code>channels.telegram.groups</code>, <code>channels.imessage.groups</code>, <code>channels.discord.guilds</code>). Cuando se establece <code>*.groups</code>, también actúa como lista de permitidos de grupos; incluya <code>"*"</code> para permitir todos los grupos.</p>
<p>Para responder <strong>solo</strong> a disparadores de texto específicos (ignorando menciones @ nativas):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="p">{</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">      </span><span class="c1">// Include your own number to enable self-chat mode (ignore native @-mentions).</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">],</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">      </span><span class="nv">groups</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;*&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">        </span><span class="nv">groupChat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">          </span><span class="c1">// Only these text patterns will trigger responses</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">          </span><span class="nv">mentionPatterns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;reisponde&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;@openclaw&quot;</span><span class="p">],</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="p">}</span>
</code></pre></div>
<h3 id="politica-de-grupos-por-canal">Política de grupos (por canal)<a class="headerlink" href="#politica-de-grupos-por-canal" title="Permanent link">&para;</a></h3>
<p>Use <code>channels.*.groupPolicy</code> para controlar si se aceptan mensajes de grupos/salas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="p">{</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">      </span><span class="nv">groupAllowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15551234567&quot;</span><span class="p">],</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="nv">telegram</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">      </span><span class="nv">groupAllowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;tg:123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;@alice&quot;</span><span class="p">],</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">    </span><span class="nv">signal</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="w">      </span><span class="nv">groupAllowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15551234567&quot;</span><span class="p">],</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="w">    </span><span class="nv">imessage</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="w">      </span><span class="nv">groupAllowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;chat_id:123&quot;</span><span class="p">],</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="w">    </span><span class="nv">msteams</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="w">      </span><span class="nv">groupAllowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;user@org.com&quot;</span><span class="p">],</span>
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="w">    </span><span class="nv">discord</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a><span class="w">      </span><span class="nv">guilds</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a><span class="w">        </span><span class="nv">GUILD_ID</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="w">          </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">help</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a><span class="w">    </span><span class="nv">slack</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a><span class="w">      </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;#general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li><code>"open"</code>: los grupos omiten listas de permitidos; el control de menciones sigue aplicando.</li>
<li><code>"disabled"</code>: bloquear todos los mensajes de grupos/salas.</li>
<li><code>"allowlist"</code>: permitir solo grupos/salas que coincidan con la lista de permitidos configurada.</li>
<li><code>channels.defaults.groupPolicy</code> establece el valor predeterminado cuando el <code>groupPolicy</code> de un proveedor no está configurado.</li>
<li>WhatsApp/Telegram/Signal/iMessage/Microsoft Teams usan <code>groupAllowFrom</code> (respaldo: <code>allowFrom</code> explícito).</li>
<li>Discord/Slack usan listas de permitidos de canal (<code>channels.discord.guilds.*.channels</code>, <code>channels.slack.channels</code>).</li>
<li>Los DMs de grupo (Discord/Slack) siguen controlados por <code>dm.groupEnabled</code> + <code>dm.groupChannels</code>.</li>
<li>El valor predeterminado es <code>groupPolicy: "allowlist"</code> (a menos que lo anule <code>channels.defaults.groupPolicy</code>); si no se configura una lista de permitidos, los mensajes de grupo se bloquean.</li>
</ul>
<h3 id="enrutamiento-multiagente-agentslist-bindings">Enrutamiento multi‑agente (<code>agents.list</code> + <code>bindings</code>)<a class="headerlink" href="#enrutamiento-multiagente-agentslist-bindings" title="Permanent link">&para;</a></h3>
<p>Ejecute múltiples agentes aislados (espacio de trabajo separado, <code>agentDir</code>, sesiones) dentro de un Gateway.
Los mensajes entrantes se enrutan a un agente mediante enlaces.</p>
<ul>
<li><code>agents.list[]</code>: anulaciones por agente.</li>
<li><code>id</code>: ID estable del agente (requerido).</li>
<li><code>default</code>: opcional; cuando se establecen varios, gana el primero y se registra una advertencia.
    Si no se establece ninguno, la <strong>primera entrada</strong> de la lista es el agente predeterminado.</li>
<li><code>name</code>: nombre visible del agente.</li>
<li><code>workspace</code>: <code>~/.openclaw/workspace-&lt;agentId&gt;</code> predeterminado (para <code>main</code>, retrocede a <code>agents.defaults.workspace</code>).</li>
<li><code>agentDir</code>: <code>~/.openclaw/agents/&lt;agentId&gt;/agent</code> predeterminado.</li>
<li><code>model</code>: modelo predeterminado por agente, anula <code>agents.defaults.model</code> para ese agente.<ul>
<li>forma de cadena: <code>"provider/model"</code>, anula solo <code>agents.defaults.model.primary</code></li>
<li>forma de objeto: <code>{ primary, fallbacks }</code> (los retrocesos anulan <code>agents.defaults.model.fallbacks</code>; <code>[]</code> deshabilita los retrocesos globales para ese agente)</li>
</ul>
</li>
<li><code>identity</code>: nombre/tema/emoji por agente (usado para patrones de mención + reacciones de acuse).</li>
<li><code>groupChat</code>: control de menciones por agente (<code>mentionPatterns</code>).</li>
<li><code>sandbox</code>: configuración de sandbox por agente (anula <code>agents.defaults.sandbox</code>).<ul>
<li><code>mode</code>: <code>"off"</code> | <code>"non-main"</code> | <code>"all"</code></li>
<li><code>workspaceAccess</code>: <code>"none"</code> | <code>"ro"</code> | <code>"rw"</code></li>
<li><code>scope</code>: <code>"session"</code> | <code>"agent"</code> | <code>"shared"</code></li>
<li><code>workspaceRoot</code>: raíz personalizada del espacio de trabajo del sandbox</li>
<li><code>docker</code>: anulaciones de docker por agente (p. ej., <code>image</code>, <code>network</code>, <code>env</code>, <code>setupCommand</code>, límites; se ignora cuando <code>scope: "shared"</code>)</li>
<li><code>browser</code>: anulaciones del navegador en sandbox por agente (se ignora cuando <code>scope: "shared"</code>)</li>
<li><code>prune</code>: anulaciones de depuración del sandbox por agente (se ignora cuando <code>scope: "shared"</code>)</li>
</ul>
</li>
<li><code>subagents</code>: valores predeterminados de sub‑agente por agente.<ul>
<li><code>allowAgents</code>: lista de permitidos de IDs de agente para <code>sessions_spawn</code> desde este agente (<code>["*"]</code> = permitir cualquiera; predeterminado: solo el mismo agente)</li>
</ul>
</li>
<li><code>tools</code>: restricciones de herramientas por agente (aplicadas antes de la política de herramientas del sandbox).<ul>
<li><code>profile</code>: perfil base de herramientas (aplicado antes de permitir/denegar)</li>
<li><code>allow</code>: arreglo de nombres de herramientas permitidas</li>
<li><code>deny</code>: arreglo de nombres de herramientas denegadas (la denegación prevalece)</li>
</ul>
</li>
<li><code>agents.defaults</code>: valores predeterminados compartidos del agente (modelo, espacio de trabajo, sandbox, etc.).</li>
<li><code>bindings[]</code>: enruta mensajes entrantes a un <code>agentId</code>.</li>
<li><code>match.channel</code> (requerido)</li>
<li><code>match.accountId</code> (opcional; <code>*</code> = cualquier cuenta; omitido = cuenta predeterminada)</li>
<li><code>match.peer</code> (opcional; <code>{ kind: direct|group|channel, id }</code>)</li>
<li><code>match.guildId</code> / <code>match.teamId</code> (opcional; específico del canal)</li>
</ul>
<p>Orden de coincidencia determinista:</p>
<ol>
<li><code>match.peer</code></li>
<li><code>match.guildId</code></li>
<li><code>match.teamId</code></li>
<li><code>match.accountId</code> (exacto, sin par/gremio/equipo)</li>
<li><code>match.accountId: "*"</code> (a nivel de canal, sin par/gremio/equipo)</li>
<li>agente predeterminado (<code>agents.list[].default</code>, o la primera entrada de la lista, o <code>"main"</code>)</li>
</ol>
<p>Dentro de cada nivel de coincidencia, gana la primera entrada coincidente en <code>bindings</code>.</p>
<h4 id="perfiles-de-acceso-por-agente-multiagente">Perfiles de acceso por agente (multi‑agente)<a class="headerlink" href="#perfiles-de-acceso-por-agente-multiagente" title="Permanent link">&para;</a></h4>
<p>Cada agente puede llevar su propia política de sandbox + herramientas. Úselo para mezclar
niveles de acceso en un solo gateway:</p>
<ul>
<li><strong>Acceso completo</strong> (agente personal)</li>
<li><strong>Solo lectura</strong> de herramientas + espacio de trabajo</li>
<li><strong>Sin acceso al sistema de archivos</strong> (solo herramientas de mensajería/sesión)</li>
</ul>
<p>Vea <a href="../../tools/multi-agent-sandbox-tools">Sandbox y herramientas multi‑agente</a> para la precedencia
y ejemplos adicionales.</p>
<p>Acceso completo (sin sandbox):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="p">{</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;personal&quot;</span><span class="p">,</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">        </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace-personal&quot;</span><span class="p">,</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">        </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="p">}</span>
</code></pre></div>
<p>Herramientas de solo lectura + espacio de trabajo de solo lectura:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="p">{</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;family&quot;</span><span class="p">,</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">        </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace-family&quot;</span><span class="p">,</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">        </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">          </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;all&quot;</span><span class="p">,</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">          </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;agent&quot;</span><span class="p">,</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">          </span><span class="nv">workspaceAccess</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ro&quot;</span><span class="p">,</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">        </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">          </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">            </span><span class="s">&quot;read&quot;</span><span class="p">,</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">            </span><span class="s">&quot;sessions_list&quot;</span><span class="p">,</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">            </span><span class="s">&quot;sessions_history&quot;</span><span class="p">,</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">            </span><span class="s">&quot;sessions_send&quot;</span><span class="p">,</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">            </span><span class="s">&quot;sessions_spawn&quot;</span><span class="p">,</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">            </span><span class="s">&quot;session_status&quot;</span><span class="p">,</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">          </span><span class="p">],</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">          </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;write&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;edit&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;apply_patch&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;exec&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;process&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;browser&quot;</span><span class="p">],</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="p">}</span>
</code></pre></div>
<p>Sin acceso al sistema de archivos (herramientas de mensajería/sesión habilitadas):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="p">{</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;public&quot;</span><span class="p">,</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">        </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace-public&quot;</span><span class="p">,</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">        </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">          </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;all&quot;</span><span class="p">,</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">          </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;agent&quot;</span><span class="p">,</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">          </span><span class="nv">workspaceAccess</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">        </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">          </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">            </span><span class="s">&quot;sessions_list&quot;</span><span class="p">,</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="w">            </span><span class="s">&quot;sessions_history&quot;</span><span class="p">,</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">            </span><span class="s">&quot;sessions_send&quot;</span><span class="p">,</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="w">            </span><span class="s">&quot;sessions_spawn&quot;</span><span class="p">,</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">            </span><span class="s">&quot;session_status&quot;</span><span class="p">,</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="w">            </span><span class="s">&quot;whatsapp&quot;</span><span class="p">,</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w">            </span><span class="s">&quot;telegram&quot;</span><span class="p">,</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="w">            </span><span class="s">&quot;slack&quot;</span><span class="p">,</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="w">            </span><span class="s">&quot;discord&quot;</span><span class="p">,</span>
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="w">            </span><span class="s">&quot;gateway&quot;</span><span class="p">,</span>
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="w">          </span><span class="p">],</span>
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a><span class="w">          </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="w">            </span><span class="s">&quot;read&quot;</span><span class="p">,</span>
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="w">            </span><span class="s">&quot;write&quot;</span><span class="p">,</span>
<a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a><span class="w">            </span><span class="s">&quot;edit&quot;</span><span class="p">,</span>
<a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="w">            </span><span class="s">&quot;apply_patch&quot;</span><span class="p">,</span>
<a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="w">            </span><span class="s">&quot;exec&quot;</span><span class="p">,</span>
<a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="w">            </span><span class="s">&quot;process&quot;</span><span class="p">,</span>
<a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="w">            </span><span class="s">&quot;browser&quot;</span><span class="p">,</span>
<a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="w">            </span><span class="s">&quot;canvas&quot;</span><span class="p">,</span>
<a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a><span class="w">            </span><span class="s">&quot;nodes&quot;</span><span class="p">,</span>
<a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a><span class="w">            </span><span class="s">&quot;cron&quot;</span><span class="p">,</span>
<a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a><span class="w">            </span><span class="s">&quot;gateway&quot;</span><span class="p">,</span>
<a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a><span class="w">            </span><span class="s">&quot;image&quot;</span><span class="p">,</span>
<a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a><span class="w">          </span><span class="p">],</span>
<a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-32-40" name="__codelineno-32-40" href="#__codelineno-32-40"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-32-41" name="__codelineno-32-41" href="#__codelineno-32-41"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-32-42" name="__codelineno-32-42" href="#__codelineno-32-42"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-32-43" name="__codelineno-32-43" href="#__codelineno-32-43"></a><span class="p">}</span>
</code></pre></div>
<p>Ejemplo: dos cuentas de WhatsApp → dos agentes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="p">{</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;home&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">default</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace-home&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">      </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace-work&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">  </span><span class="nv">bindings</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">agentId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;home&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">match</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">channel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;whatsapp&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">accountId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;personal&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nv">agentId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">match</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">channel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;whatsapp&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">accountId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;biz&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">    </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="w">      </span><span class="nv">accounts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">        </span><span class="nv">personal</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="w">        </span><span class="nv">biz</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="p">}</span>
</code></pre></div>
<h3 id="toolsagenttoagent-opcional"><code>tools.agentToAgent</code> (opcional)<a class="headerlink" href="#toolsagenttoagent-opcional" title="Permanent link">&para;</a></h3>
<p>La mensajería de agente a agente es opcional:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="p">{</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="nv">agentToAgent</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">      </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;home&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="p">],</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="p">}</span>
</code></pre></div>
<h3 id="messagesqueue"><code>messages.queue</code><a class="headerlink" href="#messagesqueue" title="Permanent link">&para;</a></h3>
<p>Controla cómo se comportan los mensajes entrantes cuando ya hay una ejecución de agente activa.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="p">{</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="nv">queue</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">      </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// steer | followup | collect | steer-backlog (steer+backlog ok) | interrupt (queue=steer legacy)</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">      </span><span class="nv">debounceMs</span><span class="p">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">      </span><span class="nv">cap</span><span class="p">:</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">      </span><span class="nv">drop</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;summarize&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// old | new | summarize</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">      </span><span class="nv">byChannel</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">        </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">        </span><span class="nv">telegram</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">        </span><span class="nv">discord</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">        </span><span class="nv">imessage</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">        </span><span class="nv">webchat</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;collect&quot;</span><span class="p">,</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="p">}</span>
</code></pre></div>
<h3 id="messagesinbound"><code>messages.inbound</code><a class="headerlink" href="#messagesinbound" title="Permanent link">&para;</a></h3>
<p>Desacelera mensajes entrantes rápidos del <strong>mismo remitente</strong> para que varios mensajes consecutivos
se conviertan en un solo turno del agente. La desaceleración se limita por canal + conversación
y usa el mensaje más reciente para el encadenamiento de respuestas/IDs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="p">{</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nv">inbound</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">      </span><span class="nv">debounceMs</span><span class="p">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 0 disables</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">      </span><span class="nv">byChannel</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">        </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="mf">5000</span><span class="p">,</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">        </span><span class="nv">slack</span><span class="p">:</span><span class="w"> </span><span class="mf">1500</span><span class="p">,</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">        </span><span class="nv">discord</span><span class="p">:</span><span class="w"> </span><span class="mf">1500</span><span class="p">,</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>La desaceleración agrupa mensajes <strong>solo de texto</strong>; los medios/adjuntos se envían de inmediato.</li>
<li>Los comandos de control (p. ej., <code>/queue</code>, <code>/new</code>) omiten la desaceleración para mantenerse independientes.</li>
</ul>
<h3 id="commands-manejo-de-comandos-de-chat"><code>commands</code> (manejo de comandos de chat)<a class="headerlink" href="#commands-manejo-de-comandos-de-chat" title="Permanent link">&para;</a></h3>
<p>Controla cómo se habilitan los comandos de chat en los conectores.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="p">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">  </span><span class="nv">commands</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="nv">native</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// register native commands when supported (auto)</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="nv">text</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// parse slash commands in chat messages</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="nv">bash</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// allow ! (alias: /bash) (host-only; requires tools.elevated allowlists)</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="nv">bashForegroundMs</span><span class="p">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span><span class="w"> </span><span class="c1">// bash foreground window (0 backgrounds immediately)</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="nv">config</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// allow /config (writes to disk)</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="nv">debug</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// allow /debug (runtime-only overrides)</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="w">    </span><span class="nv">restart</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// allow /restart + gateway restart tool</span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">    </span><span class="nv">useAccessGroups</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// enforce access-group allowlists/policies for commands</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Los comandos de texto deben enviarse como un mensaje <strong>independiente</strong> y usar el prefijo inicial <code>/</code> (sin alias de texto plano).</li>
<li><code>commands.text: false</code> deshabilita el análisis de mensajes de chat para comandos.</li>
<li><code>commands.native: "auto"</code> (predeterminado) activa comandos nativos para Discord/Telegram y deja Slack desactivado; los canales no compatibles permanecen solo texto.</li>
<li>Establezca <code>commands.native: true|false</code> para forzar todos, o anule por canal con <code>channels.discord.commands.native</code>, <code>channels.telegram.commands.native</code>, <code>channels.slack.commands.native</code> (bool o <code>"auto"</code>). <code>false</code> borra comandos registrados previamente en Discord/Telegram al iniciar; los comandos de Slack se gestionan en la app de Slack.</li>
<li><code>channels.telegram.customCommands</code> agrega entradas adicionales al menú del bot de Telegram. Los nombres se normalizan; los conflictos con comandos nativos se ignoran.</li>
<li><code>commands.bash: true</code> habilita <code>! &lt;cmd&gt;</code> para ejecutar comandos del shell del host (<code>/bash &lt;cmd&gt;</code> también funciona como alias). Requiere <code>tools.elevated.enabled</code> y listar al remitente en <code>tools.elevated.allowFrom.&lt;channel&gt;</code>.</li>
<li><code>commands.bashForegroundMs</code> controla cuánto espera bash antes de pasar a segundo plano. Mientras un trabajo de bash se ejecuta, nuevas solicitudes <code>! &lt;cmd&gt;</code> se rechazan (una a la vez).</li>
<li><code>commands.config: true</code> habilita <code>/config</code> (lee/escribe <code>openclaw.json</code>).</li>
<li><code>channels.&lt;provider&gt;.configWrites</code> controla las mutaciones de configuración iniciadas por ese canal (predeterminado: true). Aplica a <code>/config set|unset</code> más migraciones automáticas específicas del proveedor (cambios de ID de supergrupo de Telegram, cambios de ID de canal de Slack).</li>
<li><code>commands.debug: true</code> habilita <code>/debug</code> (anulaciones solo en tiempo de ejecución).</li>
<li><code>commands.restart: true</code> habilita <code>/restart</code> y la acción de reinicio de la herramienta del gateway.</li>
<li><code>commands.useAccessGroups: false</code> permite que los comandos omitan listas de permitidos/políticas de grupos de acceso.</li>
<li>Los comandos slash y directivas solo se respetan para <strong>remitentes autorizados</strong>. La autorización se deriva de
  listas de permitidos/emparejamiento del canal más <code>commands.useAccessGroups</code>.</li>
</ul>
<h3 id="web-tiempo-de-ejecucion-del-canal-web-de-whatsapp"><code>web</code> (tiempo de ejecución del canal web de WhatsApp)<a class="headerlink" href="#web-tiempo-de-ejecucion-del-canal-web-de-whatsapp" title="Permanent link">&para;</a></h3>
<p>WhatsApp se ejecuta a través del canal web del gateway (Baileys Web). Se inicia automáticamente cuando existe una sesión vinculada.
Establezca <code>web.enabled: false</code> para mantenerlo desactivado de forma predeterminada.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="p">{</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">  </span><span class="nv">web</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nv">heartbeatSeconds</span><span class="p">:</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="nv">reconnect</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">      </span><span class="nv">initialMs</span><span class="p">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">      </span><span class="nv">maxMs</span><span class="p">:</span><span class="w"> </span><span class="mf">120000</span><span class="p">,</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">      </span><span class="nv">factor</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4</span><span class="p">,</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">      </span><span class="nv">jitter</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="p">,</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">      </span><span class="nv">maxAttempts</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="p">}</span>
</code></pre></div>
<h3 id="channelstelegram-transporte-del-bot"><code>channels.telegram</code> (transporte del bot)<a class="headerlink" href="#channelstelegram-transporte-del-bot" title="Permanent link">&para;</a></h3>
<p>OpenClaw inicia Telegram solo cuando existe una sección de configuración <code>channels.telegram</code>. El token del bot se resuelve desde <code>channels.telegram.botToken</code> (o <code>channels.telegram.tokenFile</code>), con <code>TELEGRAM_BOT_TOKEN</code> como respaldo para la cuenta predeterminada.
Establezca <code>channels.telegram.enabled: false</code> para deshabilitar el inicio automático.
La compatibilidad multicuenta vive bajo <code>channels.telegram.accounts</code> (ver la sección multicuenta arriba). Los tokens de entorno solo aplican a la cuenta predeterminada.
Establezca <code>channels.telegram.configWrites: false</code> para bloquear escrituras de configuración iniciadas por Telegram (incluidas migraciones de ID de supergrupo y <code>/config set|unset</code>).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="p">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="nv">telegram</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">      </span><span class="nv">botToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-bot-token&quot;</span><span class="p">,</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">      </span><span class="nv">dmPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;tg:123456789&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional; &quot;open&quot; requires [&quot;*&quot;]</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">      </span><span class="nv">groups</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="w">        </span><span class="nv">&quot;*&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">        </span><span class="nv">&quot;-1001234567890&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="w">          </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;@admin&quot;</span><span class="p">],</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">          </span><span class="nv">systemPrompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Keep answers brief.&quot;</span><span class="p">,</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">          </span><span class="nv">topics</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">            </span><span class="nv">&quot;99&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="w">              </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="w">              </span><span class="nv">skills</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;search&quot;</span><span class="p">],</span>
<a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="w">              </span><span class="nv">systemPrompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Stay on topic.&quot;</span><span class="p">,</span>
<a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="w">      </span><span class="nv">customCommands</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nv">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;backup&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Git backup&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nv">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;generate&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Create an image&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a><span class="w">      </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="p">,</span><span class="w"> </span><span class="c1">// include last N group messages as context (0 disables)</span>
<a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a><span class="w">      </span><span class="nv">replyToMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;first&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | first | all</span>
<a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a><span class="w">      </span><span class="nv">linkPreview</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// toggle outbound link previews</span>
<a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a><span class="w">      </span><span class="nv">streamMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;partial&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | partial | block (draft streaming; separate from block streaming)</span>
<a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a><span class="w">      </span><span class="nv">draftChunk</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a><span class="w">        </span><span class="c1">// optional; only for streamMode=block</span>
<a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a><span class="w">        </span><span class="nv">minChars</span><span class="p">:</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span>
<a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a><span class="w">        </span><span class="nv">maxChars</span><span class="p">:</span><span class="w"> </span><span class="mf">800</span><span class="p">,</span>
<a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a><span class="w">        </span><span class="nv">breakPreference</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;paragraph&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// paragraph | newline | sentence</span>
<a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a><span class="w">      </span><span class="nv">actions</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">reactions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">sendMessage</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// tool action gates (false disables)</span>
<a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a><span class="w">      </span><span class="nv">reactionNotifications</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;own&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | own | all</span>
<a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span>
<a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a><span class="w">      </span><span class="nv">retry</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-40" name="__codelineno-39-40" href="#__codelineno-39-40"></a><span class="w">        </span><span class="c1">// outbound retry policy</span>
<a id="__codelineno-39-41" name="__codelineno-39-41" href="#__codelineno-39-41"></a><span class="w">        </span><span class="nv">attempts</span><span class="p">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span>
<a id="__codelineno-39-42" name="__codelineno-39-42" href="#__codelineno-39-42"></a><span class="w">        </span><span class="nv">minDelayMs</span><span class="p">:</span><span class="w"> </span><span class="mf">400</span><span class="p">,</span>
<a id="__codelineno-39-43" name="__codelineno-39-43" href="#__codelineno-39-43"></a><span class="w">        </span><span class="nv">maxDelayMs</span><span class="p">:</span><span class="w"> </span><span class="mf">30000</span><span class="p">,</span>
<a id="__codelineno-39-44" name="__codelineno-39-44" href="#__codelineno-39-44"></a><span class="w">        </span><span class="nv">jitter</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span>
<a id="__codelineno-39-45" name="__codelineno-39-45" href="#__codelineno-39-45"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-39-46" name="__codelineno-39-46" href="#__codelineno-39-46"></a><span class="w">      </span><span class="nv">network</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-47" name="__codelineno-39-47" href="#__codelineno-39-47"></a><span class="w">        </span><span class="c1">// transport overrides</span>
<a id="__codelineno-39-48" name="__codelineno-39-48" href="#__codelineno-39-48"></a><span class="w">        </span><span class="nv">autoSelectFamily</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-39-49" name="__codelineno-39-49" href="#__codelineno-39-49"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-39-50" name="__codelineno-39-50" href="#__codelineno-39-50"></a><span class="w">      </span><span class="nv">proxy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;socks5://localhost:9050&quot;</span><span class="p">,</span>
<a id="__codelineno-39-51" name="__codelineno-39-51" href="#__codelineno-39-51"></a><span class="w">      </span><span class="nv">webhookUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://example.com/telegram-webhook&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// requires webhookSecret</span>
<a id="__codelineno-39-52" name="__codelineno-39-52" href="#__codelineno-39-52"></a><span class="w">      </span><span class="nv">webhookSecret</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;secret&quot;</span><span class="p">,</span>
<a id="__codelineno-39-53" name="__codelineno-39-53" href="#__codelineno-39-53"></a><span class="w">      </span><span class="nv">webhookPath</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/telegram-webhook&quot;</span><span class="p">,</span>
<a id="__codelineno-39-54" name="__codelineno-39-54" href="#__codelineno-39-54"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-39-55" name="__codelineno-39-55" href="#__codelineno-39-55"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-39-56" name="__codelineno-39-56" href="#__codelineno-39-56"></a><span class="p">}</span>
</code></pre></div>
<p>Notas de streaming en borrador:</p>
<ul>
<li>Usa <code>sendMessageDraft</code> de Telegram (burbuja de borrador, no un mensaje real).</li>
<li>Requiere <strong>temas de chat privado</strong> (message_thread_id en DMs; el bot tiene temas habilitados).</li>
<li><code>/reasoning stream</code> transmite el razonamiento al borrador y luego envía la respuesta final.
  Los valores predeterminados y el comportamiento de la política de reintentos están documentados en <a href="../../concepts/retry">Política de reintentos</a>.</li>
</ul>
<h3 id="channelsdiscord-transporte-del-bot"><code>channels.discord</code> (transporte del bot)<a class="headerlink" href="#channelsdiscord-transporte-del-bot" title="Permanent link">&para;</a></h3>
<p>Configure el bot de Discord estableciendo el token del bot y el control opcional:
La compatibilidad multicuenta vive bajo <code>channels.discord.accounts</code> (ver la sección multicuenta arriba). Los tokens de entorno solo aplican a la cuenta predeterminada.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="p">{</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="nv">discord</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">      </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-bot-token&quot;</span><span class="p">,</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">8</span><span class="p">,</span><span class="w"> </span><span class="c1">// clamp inbound media size</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">      </span><span class="nv">allowBots</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// allow bot-authored messages</span>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">      </span><span class="nv">actions</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">        </span><span class="c1">// tool action gates (false disables)</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">        </span><span class="nv">reactions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">        </span><span class="nv">stickers</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="w">        </span><span class="nv">polls</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="w">        </span><span class="nv">permissions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">        </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">        </span><span class="nv">threads</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">        </span><span class="nv">pins</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="w">        </span><span class="nv">search</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="w">        </span><span class="nv">memberInfo</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="w">        </span><span class="nv">roleInfo</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="w">        </span><span class="nv">roles</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="w">        </span><span class="nv">channelInfo</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="w">        </span><span class="nv">voiceStatus</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="w">        </span><span class="nv">events</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="w">        </span><span class="nv">moderation</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="w">      </span><span class="nv">replyToMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | first | all</span>
<a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a><span class="w">      </span><span class="nv">dm</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// disable all DMs when false</span>
<a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="w">        </span><span class="nv">policy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="w">        </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;1234567890&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;steipete&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional DM allowlist (&quot;open&quot; requires [&quot;*&quot;])</span>
<a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="w">        </span><span class="nv">groupEnabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// enable group DMs</span>
<a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="w">        </span><span class="nv">groupChannels</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;openclaw-dm&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional group DM allowlist</span>
<a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="w">      </span><span class="nv">guilds</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a><span class="w">        </span><span class="nv">&quot;123456789012345678&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="w">          </span><span class="c1">// guild id (preferred) or slug</span>
<a id="__codelineno-40-37" name="__codelineno-40-37" href="#__codelineno-40-37"></a><span class="w">          </span><span class="nv">slug</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;friends-of-openclaw&quot;</span><span class="p">,</span>
<a id="__codelineno-40-38" name="__codelineno-40-38" href="#__codelineno-40-38"></a><span class="w">          </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// per-guild default</span>
<a id="__codelineno-40-39" name="__codelineno-40-39" href="#__codelineno-40-39"></a><span class="w">          </span><span class="nv">reactionNotifications</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;own&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | own | all | allowlist</span>
<a id="__codelineno-40-40" name="__codelineno-40-40" href="#__codelineno-40-40"></a><span class="w">          </span><span class="nv">users</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;987654321098765432&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional per-guild user allowlist</span>
<a id="__codelineno-40-41" name="__codelineno-40-41" href="#__codelineno-40-41"></a><span class="w">          </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-42" name="__codelineno-40-42" href="#__codelineno-40-42"></a><span class="w">            </span><span class="nv">general</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-40-43" name="__codelineno-40-43" href="#__codelineno-40-43"></a><span class="w">            </span><span class="nv">help</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-44" name="__codelineno-40-44" href="#__codelineno-40-44"></a><span class="w">              </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-45" name="__codelineno-40-45" href="#__codelineno-40-45"></a><span class="w">              </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-40-46" name="__codelineno-40-46" href="#__codelineno-40-46"></a><span class="w">              </span><span class="nv">users</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;987654321098765432&quot;</span><span class="p">],</span>
<a id="__codelineno-40-47" name="__codelineno-40-47" href="#__codelineno-40-47"></a><span class="w">              </span><span class="nv">skills</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;docs&quot;</span><span class="p">],</span>
<a id="__codelineno-40-48" name="__codelineno-40-48" href="#__codelineno-40-48"></a><span class="w">              </span><span class="nv">systemPrompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Short answers only.&quot;</span><span class="p">,</span>
<a id="__codelineno-40-49" name="__codelineno-40-49" href="#__codelineno-40-49"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-40-50" name="__codelineno-40-50" href="#__codelineno-40-50"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-40-51" name="__codelineno-40-51" href="#__codelineno-40-51"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-40-52" name="__codelineno-40-52" href="#__codelineno-40-52"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-40-53" name="__codelineno-40-53" href="#__codelineno-40-53"></a><span class="w">      </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span><span class="w"> </span><span class="c1">// include last N guild messages as context</span>
<a id="__codelineno-40-54" name="__codelineno-40-54" href="#__codelineno-40-54"></a><span class="w">      </span><span class="nv">textChunkLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional outbound text chunk size (chars)</span>
<a id="__codelineno-40-55" name="__codelineno-40-55" href="#__codelineno-40-55"></a><span class="w">      </span><span class="nv">chunkMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;length&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional chunking mode (length | newline)</span>
<a id="__codelineno-40-56" name="__codelineno-40-56" href="#__codelineno-40-56"></a><span class="w">      </span><span class="nv">maxLinesPerMessage</span><span class="p">:</span><span class="w"> </span><span class="mf">17</span><span class="p">,</span><span class="w"> </span><span class="c1">// soft max lines per message (Discord UI clipping)</span>
<a id="__codelineno-40-57" name="__codelineno-40-57" href="#__codelineno-40-57"></a><span class="w">      </span><span class="nv">retry</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-58" name="__codelineno-40-58" href="#__codelineno-40-58"></a><span class="w">        </span><span class="c1">// outbound retry policy</span>
<a id="__codelineno-40-59" name="__codelineno-40-59" href="#__codelineno-40-59"></a><span class="w">        </span><span class="nv">attempts</span><span class="p">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span>
<a id="__codelineno-40-60" name="__codelineno-40-60" href="#__codelineno-40-60"></a><span class="w">        </span><span class="nv">minDelayMs</span><span class="p">:</span><span class="w"> </span><span class="mf">500</span><span class="p">,</span>
<a id="__codelineno-40-61" name="__codelineno-40-61" href="#__codelineno-40-61"></a><span class="w">        </span><span class="nv">maxDelayMs</span><span class="p">:</span><span class="w"> </span><span class="mf">30000</span><span class="p">,</span>
<a id="__codelineno-40-62" name="__codelineno-40-62" href="#__codelineno-40-62"></a><span class="w">        </span><span class="nv">jitter</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span>
<a id="__codelineno-40-63" name="__codelineno-40-63" href="#__codelineno-40-63"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-40-64" name="__codelineno-40-64" href="#__codelineno-40-64"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-40-65" name="__codelineno-40-65" href="#__codelineno-40-65"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-40-66" name="__codelineno-40-66" href="#__codelineno-40-66"></a><span class="p">}</span>
</code></pre></div>
<p>OpenClaw inicia Discord solo cuando existe una sección de configuración <code>channels.discord</code>. El token se resuelve desde <code>channels.discord.token</code>, con <code>DISCORD_BOT_TOKEN</code> como respaldo para la cuenta predeterminada (a menos que <code>channels.discord.enabled</code> sea <code>false</code>). Use <code>user:&lt;id&gt;</code> (DM) o <code>channel:&lt;id&gt;</code> (canal de gremio) al especificar destinos de entrega para comandos cron/CLI; los IDs numéricos sin prefijo son ambiguos y se rechazan.
Los slugs de gremio están en minúsculas con espacios reemplazados por <code>-</code>; las claves de canal usan el nombre del canal con slug (sin <code>#</code> inicial). Prefiera IDs de gremio como claves para evitar ambigüedad por renombres.
Los mensajes creados por el bot se ignoran de forma predeterminada. Habilítelos con <code>channels.discord.allowBots</code> (los mensajes propios aún se filtran para evitar bucles de autorrespuesta).
Modos de notificación de reacciones:</p>
<ul>
<li><code>off</code>: sin eventos de reacción.</li>
<li><code>own</code>: reacciones en los mensajes propios del bot (predeterminado).</li>
<li><code>all</code>: todas las reacciones en todos los mensajes.</li>
<li><code>allowlist</code>: reacciones de <code>guilds.&lt;id&gt;.users</code> en todos los mensajes (lista vacía deshabilita).
  El texto saliente se fragmenta por <code>channels.discord.textChunkLimit</code> (predeterminado 2000). Establezca <code>channels.discord.chunkMode="newline"</code> para dividir por líneas en blanco (límites de párrafo) antes de fragmentar por longitud. Los clientes de Discord pueden recortar mensajes muy altos, por lo que <code>channels.discord.maxLinesPerMessage</code> (predeterminado 17) divide respuestas multilínea largas incluso cuando están por debajo de 2000 caracteres.
  Los valores predeterminados y el comportamiento de la política de reintentos están documentados en <a href="../../concepts/retry">Política de reintentos</a>.</li>
</ul>
<h3 id="channelsgooglechat-webhook-de-chat-api"><code>channels.googlechat</code> (webhook de Chat API)<a class="headerlink" href="#channelsgooglechat-webhook-de-chat-api" title="Permanent link">&para;</a></h3>
<p>Google Chat se ejecuta sobre webhooks HTTP con autenticación a nivel de aplicación (cuenta de servicio).
La compatibilidad multicuenta vive bajo <code>channels.googlechat.accounts</code> (ver la sección multicuenta arriba). Las variables de entorno solo aplican a la cuenta predeterminada.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="p">{</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="nv">googlechat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">      </span><span class="nv">serviceAccountFile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/path/to/service-account.json&quot;</span><span class="p">,</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">      </span><span class="nv">audienceType</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app-url&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// app-url | project-number</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">      </span><span class="nv">audience</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://gateway.example.com/googlechat&quot;</span><span class="p">,</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">      </span><span class="nv">webhookPath</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/googlechat&quot;</span><span class="p">,</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="w">      </span><span class="nv">botUser</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;users/1234567890&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// optional; improves mention detection</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">      </span><span class="nv">dm</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">        </span><span class="nv">policy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">        </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;users/1234567890&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional; &quot;open&quot; requires [&quot;*&quot;]</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="w">      </span><span class="nv">groupPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allowlist&quot;</span><span class="p">,</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="w">      </span><span class="nv">groups</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">        </span><span class="nv">&quot;spaces/AAAA&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="w">      </span><span class="nv">actions</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">reactions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="w">      </span><span class="nv">typingIndicator</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;message&quot;</span><span class="p">,</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span>
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>El JSON de la cuenta de servicio puede ser en línea (<code>serviceAccount</code>) o basado en archivo (<code>serviceAccountFile</code>).</li>
<li>Respaldos de entorno para la cuenta predeterminada: <code>GOOGLE_CHAT_SERVICE_ACCOUNT</code> o <code>GOOGLE_CHAT_SERVICE_ACCOUNT_FILE</code>.</li>
<li><code>audienceType</code> + <code>audience</code> deben coincidir con la configuración de autenticación del webhook de la app de Chat.</li>
<li>Use <code>spaces/&lt;spaceId&gt;</code> o <code>users/&lt;userId|email&gt;</code> al establecer destinos de entrega.</li>
</ul>
<h3 id="channelsslack-modo-socket"><code>channels.slack</code> (modo socket)<a class="headerlink" href="#channelsslack-modo-socket" title="Permanent link">&para;</a></h3>
<p>Slack se ejecuta en Modo Socket y requiere tanto un token de bot como un token de app:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="p">{</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="nv">slack</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">      </span><span class="nv">botToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;xoxb-...&quot;</span><span class="p">,</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">      </span><span class="nv">appToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;xapp-...&quot;</span><span class="p">,</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">      </span><span class="nv">dm</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">        </span><span class="nv">policy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">        </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;U123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;U456&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;*&quot;</span><span class="p">],</span><span class="w"> </span><span class="c1">// optional; &quot;open&quot; requires [&quot;*&quot;]</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a><span class="w">        </span><span class="nv">groupEnabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="w">        </span><span class="nv">groupChannels</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;G123&quot;</span><span class="p">],</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="w">      </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="w">        </span><span class="nv">C123</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">allowBots</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">        </span><span class="nv">&quot;#general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="w">          </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a><span class="w">          </span><span class="nv">requireMention</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="w">          </span><span class="nv">allowBots</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="w">          </span><span class="nv">users</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;U123&quot;</span><span class="p">],</span>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="w">          </span><span class="nv">skills</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;docs&quot;</span><span class="p">],</span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="w">          </span><span class="nv">systemPrompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Short answers only.&quot;</span><span class="p">,</span>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-42-25" name="__codelineno-42-25" href="#__codelineno-42-25"></a><span class="w">      </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="p">,</span><span class="w"> </span><span class="c1">// include last N channel/group messages as context (0 disables)</span>
<a id="__codelineno-42-26" name="__codelineno-42-26" href="#__codelineno-42-26"></a><span class="w">      </span><span class="nv">allowBots</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-42-27" name="__codelineno-42-27" href="#__codelineno-42-27"></a><span class="w">      </span><span class="nv">reactionNotifications</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;own&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | own | all | allowlist</span>
<a id="__codelineno-42-28" name="__codelineno-42-28" href="#__codelineno-42-28"></a><span class="w">      </span><span class="nv">reactionAllowlist</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;U123&quot;</span><span class="p">],</span>
<a id="__codelineno-42-29" name="__codelineno-42-29" href="#__codelineno-42-29"></a><span class="w">      </span><span class="nv">replyToMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | first | all</span>
<a id="__codelineno-42-30" name="__codelineno-42-30" href="#__codelineno-42-30"></a><span class="w">      </span><span class="nv">thread</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-31" name="__codelineno-42-31" href="#__codelineno-42-31"></a><span class="w">        </span><span class="nv">historyScope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;thread&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// thread | channel</span>
<a id="__codelineno-42-32" name="__codelineno-42-32" href="#__codelineno-42-32"></a><span class="w">        </span><span class="nv">inheritParent</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-42-33" name="__codelineno-42-33" href="#__codelineno-42-33"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-42-34" name="__codelineno-42-34" href="#__codelineno-42-34"></a><span class="w">      </span><span class="nv">actions</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-35" name="__codelineno-42-35" href="#__codelineno-42-35"></a><span class="w">        </span><span class="nv">reactions</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-36" name="__codelineno-42-36" href="#__codelineno-42-36"></a><span class="w">        </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-37" name="__codelineno-42-37" href="#__codelineno-42-37"></a><span class="w">        </span><span class="nv">pins</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-38" name="__codelineno-42-38" href="#__codelineno-42-38"></a><span class="w">        </span><span class="nv">memberInfo</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-39" name="__codelineno-42-39" href="#__codelineno-42-39"></a><span class="w">        </span><span class="nv">emojiList</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-40" name="__codelineno-42-40" href="#__codelineno-42-40"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-42-41" name="__codelineno-42-41" href="#__codelineno-42-41"></a><span class="w">      </span><span class="nv">slashCommand</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-42" name="__codelineno-42-42" href="#__codelineno-42-42"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-43" name="__codelineno-42-43" href="#__codelineno-42-43"></a><span class="w">        </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw&quot;</span><span class="p">,</span>
<a id="__codelineno-42-44" name="__codelineno-42-44" href="#__codelineno-42-44"></a><span class="w">        </span><span class="nv">sessionPrefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;slack:slash&quot;</span><span class="p">,</span>
<a id="__codelineno-42-45" name="__codelineno-42-45" href="#__codelineno-42-45"></a><span class="w">        </span><span class="nv">ephemeral</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-42-46" name="__codelineno-42-46" href="#__codelineno-42-46"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-42-47" name="__codelineno-42-47" href="#__codelineno-42-47"></a><span class="w">      </span><span class="nv">textChunkLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">4000</span><span class="p">,</span>
<a id="__codelineno-42-48" name="__codelineno-42-48" href="#__codelineno-42-48"></a><span class="w">      </span><span class="nv">chunkMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;length&quot;</span><span class="p">,</span>
<a id="__codelineno-42-49" name="__codelineno-42-49" href="#__codelineno-42-49"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">20</span><span class="p">,</span>
<a id="__codelineno-42-50" name="__codelineno-42-50" href="#__codelineno-42-50"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-42-51" name="__codelineno-42-51" href="#__codelineno-42-51"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-42-52" name="__codelineno-42-52" href="#__codelineno-42-52"></a><span class="p">}</span>
</code></pre></div>
<p>La compatibilidad multicuenta vive bajo <code>channels.slack.accounts</code> (ver la sección multicuenta arriba). Los tokens de entorno solo aplican a la cuenta predeterminada.</p>
<p>OpenClaw inicia Slack cuando el proveedor está habilitado y ambos tokens están configurados (vía configuración o <code>SLACK_BOT_TOKEN</code> + <code>SLACK_APP_TOKEN</code>). Use <code>user:&lt;id&gt;</code> (DM) o <code>channel:&lt;id&gt;</code> al especificar destinos de entrega para comandos cron/CLI.
Establezca <code>channels.slack.configWrites: false</code> para bloquear escrituras de configuración iniciadas por Slack (incluidas migraciones de ID de canal y <code>/config set|unset</code>).</p>
<p>Los mensajes creados por el bot se ignoran de forma predeterminada. Habilítelos con <code>channels.slack.allowBots</code> o <code>channels.slack.channels.&lt;id&gt;.allowBots</code>.</p>
<p>Modos de notificación de reacciones:</p>
<ul>
<li><code>off</code>: sin eventos de reacción.</li>
<li><code>own</code>: reacciones en los mensajes propios del bot (predeterminado).</li>
<li><code>all</code>: todas las reacciones en todos los mensajes.</li>
<li><code>allowlist</code>: reacciones de <code>channels.slack.reactionAllowlist</code> en todos los mensajes (lista vacía deshabilita).</li>
</ul>
<p>Aislamiento de sesiones por hilo:</p>
<ul>
<li><code>channels.slack.thread.historyScope</code> controla si el historial del hilo es por hilo (<code>thread</code>, predeterminado) o compartido en el canal (<code>channel</code>).</li>
<li><code>channels.slack.thread.inheritParent</code> controla si las nuevas sesiones de hilo heredan la transcripción del canal padre (predeterminado: false).</li>
</ul>
<p>Grupos de acciones de Slack (controlan acciones de herramienta <code>slack</code>):</p>
<table>
<thead>
<tr>
<th>Grupo de acciones</th>
<th>Predeterminado</th>
<th>Notas</th>
</tr>
</thead>
<tbody>
<tr>
<td>reactions</td>
<td>habilitado</td>
<td>Reaccionar + listar reacciones</td>
</tr>
<tr>
<td>messages</td>
<td>habilitado</td>
<td>Leer/enviar/editar/eliminar</td>
</tr>
<tr>
<td>pins</td>
<td>habilitado</td>
<td>Anclar/desanclar/listar</td>
</tr>
<tr>
<td>memberInfo</td>
<td>habilitado</td>
<td>Información de miembros</td>
</tr>
<tr>
<td>emojiList</td>
<td>habilitado</td>
<td>Lista de emojis personalizados</td>
</tr>
</tbody>
</table>
<h3 id="channelsmattermost-token-del-bot"><code>channels.mattermost</code> (token del bot)<a class="headerlink" href="#channelsmattermost-token-del-bot" title="Permanent link">&para;</a></h3>
<p>Mattermost se distribuye como un plugin y no viene incluido con la instalación principal.
Instálelo primero: <code>openclaw plugins install @openclaw/mattermost</code> (o <code>./extensions/mattermost</code> desde un checkout de git).</p>
<p>Mattermost requiere un token de bot más la URL base de su servidor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="p">{</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="nv">mattermost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">      </span><span class="nv">botToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mm-token&quot;</span><span class="p">,</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">      </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://chat.example.com&quot;</span><span class="p">,</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">      </span><span class="nv">dmPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">      </span><span class="nv">chatmode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;oncall&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// oncall | onmessage | onchar</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w">      </span><span class="nv">oncharPrefixes</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;!&quot;</span><span class="p">],</span>
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w">      </span><span class="nv">textChunkLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">4000</span><span class="p">,</span>
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="w">      </span><span class="nv">chunkMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;length&quot;</span><span class="p">,</span>
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="p">}</span>
</code></pre></div>
<p>OpenClaw inicia Mattermost cuando la cuenta está configurada (token de bot + URL base) y habilitada. El token + URL base se resuelven desde <code>channels.mattermost.botToken</code> + <code>channels.mattermost.baseUrl</code> o <code>MATTERMOST_BOT_TOKEN</code> + <code>MATTERMOST_URL</code> para la cuenta predeterminada (a menos que <code>channels.mattermost.enabled</code> sea <code>false</code>).</p>
<p>Modos de chat:</p>
<ul>
<li><code>oncall</code> (predeterminado): responder a mensajes del canal solo cuando se menciona con @.</li>
<li><code>onmessage</code>: responder a cada mensaje del canal.</li>
<li><code>onchar</code>: responder cuando un mensaje comienza con un prefijo disparador (<code>channels.mattermost.oncharPrefixes</code>, predeterminado <code>["&gt;", "!"]</code>).</li>
</ul>
<p>Control de acceso:</p>
<ul>
<li>DMs predeterminados: <code>channels.mattermost.dmPolicy="pairing"</code> (los remitentes desconocidos reciben un código de emparejamiento).</li>
<li>DMs públicos: <code>channels.mattermost.dmPolicy="open"</code> más <code>channels.mattermost.allowFrom=["*"]</code>.</li>
<li>Grupos: <code>channels.mattermost.groupPolicy="allowlist"</code> de forma predeterminada (controlado por menciones). Use <code>channels.mattermost.groupAllowFrom</code> para restringir remitentes.</li>
</ul>
<p>La compatibilidad multicuenta vive bajo <code>channels.mattermost.accounts</code> (ver la sección multicuenta arriba). Las variables de entorno solo aplican a la cuenta predeterminada.
Use <code>channel:&lt;id&gt;</code> o <code>user:&lt;id&gt;</code> (o <code>@username</code>) al especificar destinos de entrega; los IDs sin prefijo se tratan como IDs de canal.</p>
<h3 id="channelssignal-signal-cli"><code>channels.signal</code> (signal-cli)<a class="headerlink" href="#channelssignal-signal-cli" title="Permanent link">&para;</a></h3>
<p>Las reacciones de Signal pueden emitir eventos del sistema (herramientas de reacción compartidas):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="p">{</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="nv">signal</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">      </span><span class="nv">reactionNotifications</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;own&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | own | all | allowlist</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">      </span><span class="nv">reactionAllowlist</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15551234567&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;uuid:123e4567-e89b-12d3-a456-426614174000&quot;</span><span class="p">],</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">      </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="p">,</span><span class="w"> </span><span class="c1">// include last N group messages as context (0 disables)</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="p">}</span>
</code></pre></div>
<p>Modos de notificación de reacciones:</p>
<ul>
<li><code>off</code>: sin eventos de reacción.</li>
<li><code>own</code>: reacciones en los mensajes propios del bot (predeterminado).</li>
<li><code>all</code>: todas las reacciones en todos los mensajes.</li>
<li><code>allowlist</code>: reacciones de <code>channels.signal.reactionAllowlist</code> en todos los mensajes (lista vacía deshabilita).</li>
</ul>
<h3 id="channelsimessage-cli-de-imsg"><code>channels.imessage</code> (CLI de imsg)<a class="headerlink" href="#channelsimessage-cli-de-imsg" title="Permanent link">&para;</a></h3>
<p>OpenClaw lanza <code>imsg rpc</code> (JSON-RPC sobre stdio). No se requiere demonio ni puerto.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="p">{</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">  </span><span class="nv">channels</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="nv">imessage</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">      </span><span class="nv">cliPath</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;imsg&quot;</span><span class="p">,</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">      </span><span class="nv">dbPath</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/Library/Messages/chat.db&quot;</span><span class="p">,</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">      </span><span class="nv">remoteHost</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;user@gateway-host&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// SCP for remote attachments when using SSH wrapper</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">      </span><span class="nv">dmPolicy</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pairing&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// pairing | allowlist | open | disabled</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;user@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;chat_id:123&quot;</span><span class="p">],</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">      </span><span class="nv">historyLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">50</span><span class="p">,</span><span class="w"> </span><span class="c1">// include last N group messages as context (0 disables)</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="w">      </span><span class="nv">includeAttachments</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">16</span><span class="p">,</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="w">      </span><span class="nv">service</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="w">      </span><span class="nv">region</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;US&quot;</span><span class="p">,</span>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="p">}</span>
</code></pre></div>
<p>La compatibilidad multicuenta vive bajo <code>channels.imessage.accounts</code> (ver la sección multicuenta arriba).</p>
<p>Notas:</p>
<ul>
<li>Requiere Acceso Completo al Disco para la base de datos de Mensajes.</li>
<li>El primer envío solicitará permiso de automatización de Mensajes.</li>
<li>Prefiera destinos <code>chat_id:&lt;id&gt;</code>. Use <code>imsg chats --limit 20</code> para listar chats.</li>
<li><code>channels.imessage.cliPath</code> puede apuntar a un script contenedor (p. ej., <code>ssh</code> a otra Mac que ejecute <code>imsg rpc</code>); use claves SSH para evitar solicitudes de contraseña.</li>
<li>Para contenedores SSH remotos, establezca <code>channels.imessage.remoteHost</code> para obtener adjuntos vía SCP cuando <code>includeAttachments</code> esté habilitado.</li>
</ul>
<p>Ejemplo de contenedor:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="ch">#!/usr/bin/env bash</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="nb">exec</span><span class="w"> </span>ssh<span class="w"> </span>-T<span class="w"> </span>gateway-host<span class="w"> </span>imsg<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="agentsdefaultsworkspace"><code>agents.defaults.workspace</code><a class="headerlink" href="#agentsdefaultsworkspace" title="Permanent link">&para;</a></h3>
<p>Establece el <strong>directorio global único de espacio de trabajo</strong> usado por el agente para operaciones de archivos.</p>
<p>Predeterminado: <code>~/.openclaw/workspace</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="p">{</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">workspace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="p">}</span>
</code></pre></div>
<p>Si <code>agents.defaults.sandbox</code> está habilitado, las sesiones no principales pueden anularlo con sus
propios espacios de trabajo por ámbito bajo <code>agents.defaults.sandbox.workspaceRoot</code>.</p>
<h3 id="agentsdefaultsreporoot"><code>agents.defaults.repoRoot</code><a class="headerlink" href="#agentsdefaultsreporoot" title="Permanent link">&para;</a></h3>
<p>Raíz opcional del repositorio para mostrar en la línea Runtime del prompt del sistema. Si no se establece, OpenClaw
intenta detectar un directorio <code>.git</code> subiendo desde el espacio de trabajo (y el directorio
de trabajo actual). La ruta debe existir para usarse.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="p">{</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">repoRoot</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/Projects/openclaw&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentsdefaultsskipbootstrap"><code>agents.defaults.skipBootstrap</code><a class="headerlink" href="#agentsdefaultsskipbootstrap" title="Permanent link">&para;</a></h3>
<p>Deshabilita la creación automática de los archivos de arranque del espacio de trabajo (<code>AGENTS.md</code>, <code>SOUL.md</code>, <code>TOOLS.md</code>, <code>IDENTITY.md</code>, <code>USER.md</code>, <code>HEARTBEAT.md</code> y <code>BOOTSTRAP.md</code>).</p>
<p>Use esto para despliegues presembrados donde los archivos del espacio de trabajo provienen de un repositorio.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="p">{</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">skipBootstrap</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentsdefaultsbootstrapmaxchars"><code>agents.defaults.bootstrapMaxChars</code><a class="headerlink" href="#agentsdefaultsbootstrapmaxchars" title="Permanent link">&para;</a></h3>
<p>Máximo de caracteres de cada archivo de arranque del espacio de trabajo inyectado en el prompt del sistema
antes de truncar. Predeterminado: <code>20000</code>.</p>
<p>Cuando un archivo excede este límite, OpenClaw registra una advertencia e inyecta un
inicio/fin truncado con un marcador.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="p">{</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">bootstrapMaxChars</span><span class="p">:</span><span class="w"> </span><span class="mf">20000</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentsdefaultsusertimezone"><code>agents.defaults.userTimezone</code><a class="headerlink" href="#agentsdefaultsusertimezone" title="Permanent link">&para;</a></h3>
<p>Establece la zona horaria del usuario para el <strong>contexto del prompt del sistema</strong> (no para marcas de tiempo en
sobres de mensajes). Si no se establece, OpenClaw usa la zona horaria del host en tiempo de ejecución.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="p">{</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">userTimezone</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;America/Chicago&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentsdefaultstimeformat"><code>agents.defaults.timeFormat</code><a class="headerlink" href="#agentsdefaultstimeformat" title="Permanent link">&para;</a></h3>
<p>Controla el <strong>formato de hora</strong> mostrado en la sección Fecha y Hora Actual del prompt del sistema.
Predeterminado: <code>auto</code> (preferencia del SO).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="p">{</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">timeFormat</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// auto | 12 | 24</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="messages"><code>messages</code><a class="headerlink" href="#messages" title="Permanent link">&para;</a></h3>
<p>Controla prefijos entrantes/salientes y reacciones opcionales de acuse.
Vea <a href="../../concepts/messages">Mensajes</a> para colas, sesiones y contexto de streaming.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="p">{</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="nv">responsePrefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;🦞&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// or &quot;auto&quot;</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="nv">ackReaction</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;👀&quot;</span><span class="p">,</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="nv">ackReactionScope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;group-mentions&quot;</span><span class="p">,</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="nv">removeAckAfterReply</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="p">}</span>
</code></pre></div>
<p><code>responsePrefix</code> se aplica a <strong>todas las respuestas salientes</strong> (resúmenes de herramientas, streaming por bloques, respuestas finales) en todos los canales a menos que ya esté presente.</p>
<p>Las anulaciones pueden configurarse por canal y por cuenta:</p>
<ul>
<li><code>channels.&lt;channel&gt;.responsePrefix</code></li>
<li><code>channels.&lt;channel&gt;.accounts.&lt;id&gt;.responsePrefix</code></li>
</ul>
<p>Orden de resolución (gana el más específico):</p>
<ol>
<li><code>channels.&lt;channel&gt;.accounts.&lt;id&gt;.responsePrefix</code></li>
<li><code>channels.&lt;channel&gt;.responsePrefix</code></li>
<li><code>messages.responsePrefix</code></li>
</ol>
<p>Semántica:</p>
<ul>
<li><code>undefined</code> cae al siguiente nivel.</li>
<li><code>""</code> deshabilita explícitamente el prefijo y detiene la cascada.</li>
<li><code>"auto"</code> deriva <code>[{identity.name}]</code> para el agente enrutado.</li>
</ul>
<p>Las anulaciones aplican a todos los canales, incluidas extensiones, y a cada tipo de respuesta saliente.</p>
<p>Si <code>messages.responsePrefix</code> no está configurado, no se aplica ningún prefijo de forma predeterminada. Las respuestas de autochat de WhatsApp
son la excepción: usan por defecto <code>[{identity.name}]</code> cuando está configurado, de lo contrario
<code>[openclaw]</code>, para que las conversaciones en el mismo teléfono sigan siendo legibles.
Establézcalo en <code>"auto"</code> para derivar <code>[{identity.name}]</code> para el agente enrutado (cuando esté configurado).</p>
<h4 id="variables-de-plantilla">Variables de plantilla<a class="headerlink" href="#variables-de-plantilla" title="Permanent link">&para;</a></h4>
<p>La cadena <code>responsePrefix</code> puede incluir variables de plantilla que se resuelven dinámicamente:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Descripción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>{model}</code></td>
<td>Nombre corto del modelo</td>
<td><code>claude-opus-4-6</code>, <code>gpt-4o</code></td>
</tr>
<tr>
<td><code>{modelFull}</code></td>
<td>Identificador completo del modelo</td>
<td><code>anthropic/claude-opus-4-6</code></td>
</tr>
<tr>
<td><code>{provider}</code></td>
<td>Nombre del proveedor</td>
<td><code>anthropic</code>, <code>openai</code></td>
</tr>
<tr>
<td><code>{thinkingLevel}</code></td>
<td>Nivel de pensamiento actual</td>
<td><code>high</code>, <code>low</code>, <code>off</code></td>
</tr>
<tr>
<td><code>{identity.name}</code></td>
<td>Nombre de identidad del agente</td>
<td>(igual que el modo <code>"auto"</code>)</td>
</tr>
</tbody>
</table>
<p>Las variables no distinguen mayúsculas/minúsculas (<code>{MODEL}</code> = <code>{model}</code>). <code>{think}</code> es un alias de <code>{thinkingLevel}</code>.
Las variables no resueltas permanecen como texto literal.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="p">{</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">    </span><span class="nv">responsePrefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[{model} | think:{thinkingLevel}]&quot;</span><span class="p">,</span>
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="p">}</span>
</code></pre></div>
<p>Salida de ejemplo: <code>[claude-opus-4-6 | think:high] Here's my response...</code></p>
<p>El prefijo entrante de WhatsApp se configura mediante <code>channels.whatsapp.messagePrefix</code> (obsoleto:
<code>messages.messagePrefix</code>). El valor predeterminado permanece <strong>sin cambios</strong>: <code>"[openclaw]"</code> cuando
<code>channels.whatsapp.allowFrom</code> está vacío; de lo contrario <code>""</code> (sin prefijo). Al usar
<code>"[openclaw]"</code>, OpenClaw usará en su lugar <code>[{identity.name}]</code> cuando el agente enrutado
tenga <code>identity.name</code> configurado.</p>
<p><code>ackReaction</code> envía una reacción emoji de mejor esfuerzo para reconocer mensajes entrantes
en canales que admiten reacciones (Slack/Discord/Telegram/Google Chat). Por defecto usa el
<code>identity.emoji</code> del agente activo cuando está configurado; de lo contrario <code>"👀"</code>. Establézcalo en <code>""</code> para deshabilitar.</p>
<p><code>ackReactionScope</code> controla cuándo se disparan las reacciones:</p>
<ul>
<li><code>group-mentions</code> (predeterminado): solo cuando un grupo/sala requiere menciones <strong>y</strong> el bot fue mencionado</li>
<li><code>group-all</code>: todos los mensajes de grupo/sala</li>
<li><code>direct</code>: solo mensajes directos</li>
<li><code>all</code>: todos los mensajes</li>
</ul>
<p><code>removeAckAfterReply</code> elimina la reacción de acuse del bot después de enviar una respuesta
(Slack/Discord/Telegram/Google Chat únicamente). Predeterminado: <code>false</code>.</p>
<h4 id="mensajestts"><code>mensajes.tts</code><a class="headerlink" href="#mensajestts" title="Permanent link">&para;</a></h4>
<p>Habilitar texto a voz para respuestas salientes. Cuando está encendido, OpenClaw genera audio
usando TACenLabs o OpenAI y lo adjunta a las respuestas. Telegram usa notas de voz Opus
; otros canales envían audio MP3.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="p">{</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">  </span><span class="nv">messages</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="nv">tts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">      </span><span class="nv">auto</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;always&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | always | inbound | tagged</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">      </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;final&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// final | all (include tool/block replies)</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">      </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;elevenlabs&quot;</span><span class="p">,</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">      </span><span class="nv">summaryModel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai/gpt-4.1-mini&quot;</span><span class="p">,</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="w">      </span><span class="nv">modelOverrides</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">      </span><span class="nv">maxTextLength</span><span class="p">:</span><span class="w"> </span><span class="mf">4000</span><span class="p">,</span>
<a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="w">      </span><span class="nv">timeoutMs</span><span class="p">:</span><span class="w"> </span><span class="mf">30000</span><span class="p">,</span>
<a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">      </span><span class="nv">prefsPath</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/settings/tts.json&quot;</span><span class="p">,</span>
<a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="w">      </span><span class="nv">elevenlabs</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;elevenlabs_api_key&quot;</span><span class="p">,</span>
<a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://api.elevenlabs.io&quot;</span><span class="p">,</span>
<a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="w">        </span><span class="nv">voiceId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;voice_id&quot;</span><span class="p">,</span>
<a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="w">        </span><span class="nv">modelId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;eleven_multilingual_v2&quot;</span><span class="p">,</span>
<a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="w">        </span><span class="nv">seed</span><span class="p">:</span><span class="w"> </span><span class="mf">42</span><span class="p">,</span>
<a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">        </span><span class="nv">applyTextNormalization</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;auto&quot;</span><span class="p">,</span>
<a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">        </span><span class="nv">languageCode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;en&quot;</span><span class="p">,</span>
<a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a><span class="w">        </span><span class="nv">voiceSettings</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a><span class="w">          </span><span class="nv">stability</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a><span class="w">          </span><span class="nv">similarityBoost</span><span class="p">:</span><span class="w"> </span><span class="mf">0.75</span><span class="p">,</span>
<a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a><span class="w">          </span><span class="nv">style</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a><span class="w">          </span><span class="nv">useSpeakerBoost</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a><span class="w">          </span><span class="nv">speed</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a><span class="w">      </span><span class="nv">openai</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai_api_key&quot;</span><span class="p">,</span>
<a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a><span class="w">        </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o-mini-tts&quot;</span><span class="p">,</span>
<a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a><span class="w">        </span><span class="nv">voice</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alloy&quot;</span><span class="p">,</span>
<a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li><code>messages.tts.auto</code> controla automáticamente TTS (<code>off</code>, <code>siempre</code>, <code>inbound</code>, <code>tagged</code>).</li>
<li><code>/tts apagado|siempre|inbound|tagged</code> establece el modo automático de la sesión permanente (sobreescribe la configuración).</li>
<li><code>messages.tts.enabled</code> es legado; doctor lo migra a <code>messages.tts.auto</code>.</li>
<li><code>prefsPath</code> almacena anulaciones locales (proveedor/límite/resumen).</li>
<li><code>maxTextLength</code> es un tapón duro para la entrada TTS; los resúmenes se truncan para que encajen.</li>
<li><code>TextyModel</code> anula <code>agents.defaults.model.primary</code> para autoresumir.</li>
<li>Acepta <code>provider/model</code> o un alias de <code>agents.defaults.models</code>.</li>
<li><code>modelOverrides</code> habilita anulaciones basadas en modelos como etiquetas <code>[[tts:...]]</code> (por defecto).</li>
<li><code>/tts limit</code> y <code>/tts Resumy</code> controlan la configuración de resumen por usuario.</li>
<li>Los valores <code>apiKey</code> regresan a <code>ELEVENLABS_API_KEY</code>/<code>XI_API_KEY</code> y <code>OPENAI_API_KEY</code>.</li>
<li><code>elevenlabs.baseUrl</code> anula la URL base de la API.</li>
<li><code>elevenlabs.voiceSettings</code> soporta <code>stability</code>/<code>similarityBoost</code>/<code>style</code> (0..1),
  <code>useSpeakerBoost</code>, y <code>speed</code> (0.5..2.0).</li>
</ul>
<h3 id="hablar"><code>hablar</code><a class="headerlink" href="#hablar" title="Permanent link">&para;</a></h3>
<p>Por defecto para modo Talk (macOS/iOS/Android). Los ID de voz vuelven a <code>ELEVENLABS_VOICE_ID</code> o <code>SAG_VOICE_ID</code> cuando se desactiva.
<code>apiKey</code> regresa a <code>ELEVENLABS_API_KEY</code> (o el perfil de shell de la pasarela) cuando se desactiva.
<code>voiceAliases</code> deja que las directivas de Talk usen nombres amigables (por ejemplo, <code>"voice":"Clawd"</code>).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="p">{</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">  </span><span class="nv">talk</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="nv">voiceId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;elevenlabs_voice_id&quot;</span><span class="p">,</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="nv">voiceAliases</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">      </span><span class="nv">Clawd</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;EXAVITQu4vr4xnSDxMaL&quot;</span><span class="p">,</span>
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">      </span><span class="nv">Roger</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CwhRBWXzGAHq8TQ4Fs17&quot;</span><span class="p">,</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">    </span><span class="nv">modelId</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;eleven_v3&quot;</span><span class="p">,</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">    </span><span class="nv">outputFormat</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;mp3_44100_128&quot;</span><span class="p">,</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">    </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;elevenlabs_api_key&quot;</span><span class="p">,</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">    </span><span class="nv">interruptOnSpeech</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="p">}</span>
</code></pre></div>
<h3 id="agentsdefaults"><code>agents.defaults</code><a class="headerlink" href="#agentsdefaults" title="Permanent link">&para;</a></h3>
<p>Controla el tiempo de ejecución del agente embebido (modelo/pensando/verbose/timeouts).
<code>agents.defaults.models</code> define el catálogo de modelos configurado (y actúa como la lista permitida para <code>/model</code>).
<code>agents.defaults.model.primary</code> establece el modelo predeterminado; <code>agents.defaults.model.fallbacks</code> son fallos globales.
<code>agents.defaults.imageModel</code> es opcional y es <strong>solo usado si el modelo principal carece de entrada de imagen</strong>.
Cada entrada <code>agents.defaults.models</code> puede incluir:</p>
<ul>
<li><code>alias</code> (atajo de modelo opcional, por ejemplo, <code>/opus</code>).</li>
<li><code>params</code> (parámetros API específicos del proveedor opcional pasaron a través de la solicitud del modelo).</li>
</ul>
<p><code>params</code> también se aplica a las ejecuciones de streaming (agente embebido + compacción). Claves soportadas hoy: <code>temperature</code>, <code>maxTokens</code>. Estas combinaciones con opciones de tiempo de llamada; los valores suministrados por la llamada ganan. <code>temperature</code> es un nudo avanzado: deje sin establecer a menos que sepa los valores predeterminados del modelo y necesite un cambio.</p>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="p">{</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">        </span><span class="nv">&quot;anthropic/claude-sonnet-4-5-20250929&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">          </span><span class="nv">params</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">temperature</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="w">        </span><span class="nv">&quot;openai/gpt-5. &quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="w">          </span><span class="nv">parámetros</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">maxTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">8192</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a><span class="p">}</span>
</code></pre></div>
<p>Los modelos Z.AI GLM-4.x activan automáticamente el modo de pensamiento a menos que tú:</p>
<ul>
<li>establecer <code>--thinking off</code>, o</li>
<li>defina <code>agents.defaults.models["zai/&lt;model&gt;"].params.thinking</code> usted mismo.</li>
</ul>
<p>OpenClaw también incluye algunos abreviados de alias incorporados. Por defecto solo se aplica cuando el modelo
ya está presente en <code>agents.defaults.models</code>:</p>
<ul>
<li><code>opus</code> -&gt; <code>antropic/claude-opus-4-6</code></li>
<li><code>sonnet</code> -&gt; <code>anthropic/claude-sonnet-4-5</code></li>
<li><code>gpt</code> -&gt; <code>openai/gpt-5.2</code></li>
<li><code>gpt-mini</code> -&gt; <code>openai/gpt-5-mini</code></li>
<li><code>gemini</code> -&gt; <code>google/gemini-3-pro-preview</code></li>
<li><code>gemini-flash</code> -&gt; <code>google/gemini-3-flash-preview</code></li>
</ul>
<p>Si configura el mismo nombre de alias (mayúsculas y minúsculas), su valor gana (los valores por defecto nunca se anulan).</p>
<p>Ejemplo: Opus 4.6 primario con respaldo MiniMax M2.1 (alojado MiniMax):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="p">{</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">        </span><span class="nv">&quot;anthropic/claude-opus-4-6&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;opus&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">        </span><span class="nv">&quot;minimax/MiniMax-M2.1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;minimax&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="w">        </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic/claude-opus-4-6&quot;</span><span class="p">,</span>
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">        </span><span class="nv">fallbacks</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;minimax/MiniMax-M2.1&quot;</span><span class="p">],</span>
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="p">}</span>
</code></pre></div>
<p>Autor MiniMax: establece <code>MINIMAX_API_KEY</code> (env) o configure <code>models.providers.minimax</code>.</p>
<h4 id="agentsdefaultsclibackends-cli-fallback"><code>agents.defaults.cliBackends</code> (CLI fallback)<a class="headerlink" href="#agentsdefaultsclibackends-cli-fallback" title="Permanent link">&para;</a></h4>
<p>Los backends opcionales de CLI para operaciones de retorno de solo texto (sin llamadas de herramientas). Estos son útiles como una ruta de respaldoformat@@0
cuando los proveedores de API fallan. El paso de la imagen es compatible cuando configuras
un <code>imageArg</code> que acepta rutas de archivos.</p>
<p>Notas:</p>
<ul>
<li>Los backends de CLI son <strong>text-first</strong>; las herramientas siempre están deshabilitadas.</li>
<li>Las sesiones son soportadas cuando <code>sessionArg</code> está establecido; los ids de sesión persisten por backend.</li>
<li>Para <code>claude-cli</code>, los valores por defecto están conectados. Reemplazar la ruta del comando si PATH es mínimo
  (launchd/systemd).</li>
</ul>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="p">{</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">      </span><span class="nv">cliBackends</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">        </span><span class="nv">&quot;claude-cli&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">          </span><span class="nv">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/opt/homebrew/bin/claude&quot;</span><span class="p">,</span>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">        </span><span class="nv">&quot;my-cli&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">          </span><span class="nv">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;my-cli&quot;</span><span class="p">,</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">          </span><span class="nv">args</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;--json&quot;</span><span class="p">],</span>
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">          </span><span class="nv">output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;json&quot;</span><span class="p">,</span>
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">          </span><span class="nv">modelArg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--model&quot;</span><span class="p">,</span>
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">          </span><span class="nv">sessionArg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--session&quot;</span><span class="p">,</span>
<a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">          </span><span class="nv">sessionMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;existing&quot;</span><span class="p">,</span>
<a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">          </span><span class="nv">systemPromptArg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--system&quot;</span><span class="p">,</span>
<a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">          </span><span class="nv">systemPromptWhen</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;first&quot;</span><span class="p">,</span>
<a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">          </span><span class="nv">imageArg</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--image&quot;</span><span class="p">,</span>
<a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a><span class="w">          </span><span class="nv">imageMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;repeat&quot;</span><span class="p">,</span>
<a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="p">{</span>
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">        </span><span class="nv">&quot;anthropic/claude-opus-4-6&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Opus&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">        </span><span class="nv">&quot;anthropic/claude-sonnet-4-1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Sonnet&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">        </span><span class="nv">&quot;openrouter/deepseek/deepseek-r1:free&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="w">        </span><span class="nv">&quot;zai/glm-4.7&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="w">          </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GLM&quot;</span><span class="p">,</span>
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="w">          </span><span class="nv">params</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="w">            </span><span class="nv">thinking</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a><span class="w">              </span><span class="nv">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;enabled&quot;</span><span class="p">,</span>
<a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a><span class="w">              </span><span class="nv">clear_thinking</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a><span class="w">        </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic/claude-opus-4-6&quot;</span><span class="p">,</span>
<a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a><span class="w">        </span><span class="nv">fallbacks</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a><span class="w">          </span><span class="s">&quot;openrouter/deepseek/deepseek-r1:free&quot;</span><span class="p">,</span>
<a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a><span class="w">          </span><span class="s">&quot;openrouter/meta-llama/llama-3.3-70b-instruct:free&quot;</span><span class="p">,</span>
<a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a><span class="w">      </span><span class="nv">imageModel</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a><span class="w">        </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openrouter/qwen/qwen-2.5-vl-72b-instruct:free&quot;</span><span class="p">,</span>
<a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a><span class="w">        </span><span class="nv">fallbacks</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;openrouter/google/gemini-2.0-flash-vision:free&quot;</span><span class="p">],</span>
<a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a><span class="w">      </span><span class="nv">thinkingDefault</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;low&quot;</span><span class="p">,</span>
<a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a><span class="w">      </span><span class="nv">verboseDefault</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="p">,</span>
<a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a><span class="w">      </span><span class="nv">elevatedDefault</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;on&quot;</span><span class="p">,</span>
<a id="__codelineno-60-32" name="__codelineno-60-32" href="#__codelineno-60-32"></a><span class="w">      </span><span class="nv">timeoutSeconds</span><span class="p">:</span><span class="w"> </span><span class="mf">600</span><span class="p">,</span>
<a id="__codelineno-60-33" name="__codelineno-60-33" href="#__codelineno-60-33"></a><span class="w">      </span><span class="nv">mediaMaxMb</span><span class="p">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span>
<a id="__codelineno-60-34" name="__codelineno-60-34" href="#__codelineno-60-34"></a><span class="w">      </span><span class="nv">heartbeat</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-35" name="__codelineno-60-35" href="#__codelineno-60-35"></a><span class="w">        </span><span class="nv">every</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;30m&quot;</span><span class="p">,</span>
<a id="__codelineno-60-36" name="__codelineno-60-36" href="#__codelineno-60-36"></a><span class="w">        </span><span class="nv">target</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;last&quot;</span><span class="p">,</span>
<a id="__codelineno-60-37" name="__codelineno-60-37" href="#__codelineno-60-37"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-38" name="__codelineno-60-38" href="#__codelineno-60-38"></a><span class="w">      </span><span class="nv">maxConcurrent</span><span class="p">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span>
<a id="__codelineno-60-39" name="__codelineno-60-39" href="#__codelineno-60-39"></a><span class="w">      </span><span class="nv">subagents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-40" name="__codelineno-60-40" href="#__codelineno-60-40"></a><span class="w">        </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;minimax/MiniMax-M2.1&quot;</span><span class="p">,</span>
<a id="__codelineno-60-41" name="__codelineno-60-41" href="#__codelineno-60-41"></a><span class="w">        </span><span class="nv">maxConcurrent</span><span class="p">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<a id="__codelineno-60-42" name="__codelineno-60-42" href="#__codelineno-60-42"></a><span class="w">        </span><span class="nv">archiveAfterMinutes</span><span class="p">:</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span>
<a id="__codelineno-60-43" name="__codelineno-60-43" href="#__codelineno-60-43"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-44" name="__codelineno-60-44" href="#__codelineno-60-44"></a><span class="w">      </span><span class="nv">exec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-45" name="__codelineno-60-45" href="#__codelineno-60-45"></a><span class="w">        </span><span class="nv">backgroundMs</span><span class="p">:</span><span class="w"> </span><span class="mf">10000</span><span class="p">,</span>
<a id="__codelineno-60-46" name="__codelineno-60-46" href="#__codelineno-60-46"></a><span class="w">        </span><span class="nv">timeoutSec</span><span class="p">:</span><span class="w"> </span><span class="mf">1800</span><span class="p">,</span>
<a id="__codelineno-60-47" name="__codelineno-60-47" href="#__codelineno-60-47"></a><span class="w">        </span><span class="nv">cleanupMs</span><span class="p">:</span><span class="w"> </span><span class="mf">1800000</span><span class="p">,</span>
<a id="__codelineno-60-48" name="__codelineno-60-48" href="#__codelineno-60-48"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-60-49" name="__codelineno-60-49" href="#__codelineno-60-49"></a><span class="w">      </span><span class="nv">contextTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">200000</span><span class="p">,</span>
<a id="__codelineno-60-50" name="__codelineno-60-50" href="#__codelineno-60-50"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-60-51" name="__codelineno-60-51" href="#__codelineno-60-51"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-60-52" name="__codelineno-60-52" href="#__codelineno-60-52"></a><span class="p">}</span>
</code></pre></div>
<h4 id="agentsdefaultscontextpruning-tool-result-poding"><code>agents.defaults.contextPruning</code> (tool-result poding)<a class="headerlink" href="#agentsdefaultscontextpruning-tool-result-poding" title="Permanent link">&para;</a></h4>
<p><code>agents.defaults.contextPruning</code> limpia <strong>antiguos resultados de herramientas</strong> desde el contexto en memoria justo antes de que una solicitud sea enviada al LLM.
<strong>no</strong> modifica el historial de sesiones en el disco (<code>*.jsonl</code> permanece completo).</p>
<p>Esto pretende reducir el uso de tokens para los agentes de chatty que acumulan grandes salidas de herramientas con el tiempo.</p>
<p>Nivel alto:</p>
<ul>
<li>Nunca toca los mensajes del usuario/asistente.</li>
<li>Protege los últimos mensajes de asistente <code>keepLastAssistants</code> (no se podarán los resultados de la herramienta después de ese punto).</li>
<li>Protege el prefijo de la correa de arranque (nada antes de que el primer mensaje del usuario sea podado).</li>
<li>Modos:</li>
<li><code>adaptive</code>: resultados de herramientas de gran tamaño (mantener cabeza/tail) cuando la proporción de contexto estimada cruza <code>softTrimRatio</code>.
    Entonces limpia duramente los resultados de la herramienta elegible más antiguos cuando la proporción de contexto estimada cruza <code>hardClearRatio</code> <strong>y</strong>
    hay suficiente granel de resultado de herramientas prunable (<code>minPrunableTools</code>).</li>
<li><code>agresivo</code>: siempre reemplaza los resultados de herramientas elegibles antes del corte con el <code>hardClear.placeholder</code> (sin comprobación de la relación).</li>
</ul>
<p>Soft vs poda dura (qué cambios en el contexto enviado a la LLM):</p>
<ul>
<li><strong>Suave-trim</strong>: sólo para los resultados de la herramienta <em>oversized</em>. Mantiene el principio + final e inserta <code>...</code> en el medio.</li>
<li>Before: <code>toolResult("…salida muy larga…")</code></li>
<li>Después: <code>toolResult("HEAD…\n...\n…TAIL\n\n[resultado de la herramienta recortado: …]")</code></li>
<li><strong>Hard-clear</strong>: reemplaza todo el resultado de la herramienta con el marcador de posición.</li>
<li>Before: <code>toolResult("…salida muy larga…")</code></li>
<li>Después: <code>toolResult("[Contenido de la herramienta antigua borrado]")</code></li>
</ul>
<p>Notas / limitaciones actuales:</p>
<ul>
<li>Los resultados de la herramienta que contienen <strong>bloques de imagen son omitidos</strong> (nunca borrados) ahora mismo.</li>
<li>La “relación de contexto” estimada se basa en <strong>caracteres</strong> (aproximadamente), no en tokens exactos.</li>
<li>Si la sesión no contiene al menos mensajes de asistente de <code>keepLastAssistants</code> todavía, se omite la poda.</li>
<li>En modo <code>agresivo</code>, <code>hardClear.enabled</code> es ignorado (los resultados de herramientas elegibles siempre son reemplazados por <code>hardClear.placeholder</code>).</li>
</ul>
<p>Por defecto (adaptativo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="p">{</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">contextPruning</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;adaptive&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="p">}</span>
</code></pre></div>
<p>Deshabilitar:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="p">{</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">contextPruning</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="p">}</span>
</code></pre></div>
<p>Por defecto (cuando <code>mode</code> es <code>"adaptive"</code> o <code>"agresiva"</code>):</p>
<ul>
<li><code>keepLastAssistants</code>: <code>3</code></li>
<li><code>softTrimRatio</code>: <code>0.3</code> (sólo adaptativo)</li>
<li><code>hardClearRatio</code>: <code>0.5</code> (sólo adaptativo)</li>
<li><code>minPrunableToolChars</code>: <code>50000</code> (sólo adaptativo)</li>
<li><code>softTrim</code>: <code>{ maxChars: 4000, headChars: 1500, tailChars: 1500 }</code> (solo adaptativo)</li>
<li><code>hardClear</code>: <code>{ enabled: true, placeholder: "[Old tool result content cleared]" }</code></li>
</ul>
<p>Ejemplo (agresivo, mínimo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="p">{</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">contextPruning</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;aggressive&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="p">}</span>
</code></pre></div>
<p>Ejemplo (sintonizado adaptativo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="p">{</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">      </span><span class="nv">contextPruning</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">        </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;adaptive&quot;</span><span class="p">,</span>
<a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">        </span><span class="nv">keepLastAssistants</span><span class="p">:</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span>
<a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="w">        </span><span class="nv">softTrimRatio</span><span class="p">:</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">,</span>
<a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">        </span><span class="nv">Relación de cierre duro</span><span class="p">:</span><span class="w"> </span><span class="mf">0.</span><span class="w"> </span><span class="p">,</span>
<a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">        </span><span class="nv">minPrunableToolChars</span><span class="p">:</span><span class="w"> </span><span class="mf">50000</span><span class="p">,</span>
<a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">        </span><span class="nv">softTrim</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">maxChars</span><span class="p">:</span><span class="w"> </span><span class="mf">4000</span><span class="p">,</span><span class="w"> </span><span class="nv">headChars</span><span class="p">:</span><span class="w"> </span><span class="mf">1500</span><span class="p">,</span><span class="w"> </span><span class="nv">tailChars</span><span class="p">:</span><span class="w"> </span><span class="mf">1500</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">        </span><span class="nv">hardClear</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">marcador de posición</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;[Contenido de resultado de la herramienta antigua eliminado]&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">        </span><span class="c1">// Opcional: restringir la poda a herramientas específicas (negar ganancias; soporta &quot;*&quot; comodín)</span>
<a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="w">        </span><span class="nv">herramientas</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;browser&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;canvas&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a><span class="p">}</span>
</code></pre></div>
<p>Vea <a href="../../concepts/session-pruning">/concepts/session-pruning</a> para detalles de comportamiento.</p>
<h4 id="agentsdefaultscompaction-reserva-cabecera-memoria-de-flush"><code>agents.defaults.compaction</code> (reserva cabecera + memoria de flush)<a class="headerlink" href="#agentsdefaultscompaction-reserva-cabecera-memoria-de-flush" title="Permanent link">&para;</a></h4>
<p><code>agents.defaults.compaction.mode</code> selecciona la estrategia de resumen de compactación. Por defecto es <code>default</code>; establece <code>salvaguard</code> para habilitar resumen fragmentado para historias muy largas. Consulte <a href="../../concepts/compaction">/concepts/compaction</a>.</p>
<p><code>agents.defaults.compaction.reserveTokensFloor</code> impone un valor mínimo <code>reserveTokens</code>
para la compacción de Pi (por defecto: <code>20000</code>). Establécelo en <code>0</code> para desactivar el suelo.</p>
<p><code>agents.defaults.compaction.memoryFlush</code> ejecuta un giro de agente <strong>silencio</strong> antes de
auto-compacción, indicando al modelo que almacene memorias durables en el disco (por ejemplo,
<code>memory/AAY-MM-DD.md</code>). Se activa cuando la estimación del token de sesión cruza un umbral blandoformat@@0
debajo del límite de compacción.</p>
<p>Predeterminados antiguos:</p>
<ul>
<li><code>memoryFlush.enabled</code>: <code>true</code></li>
<li><code>memoryFlush.softThresholdTokens</code>: <code>4000</code></li>
<li><code>memoryFlush.prompt</code> / <code>memoryFlush.systemPrompt</code>: predeterminado integrado con <code>NO_REPLY</code></li>
<li>Nota: la descarga de memoria se omite cuando el espacio de trabajo de sesión es de solo lectura
  (<code>agents.defaults.sandbox.workspaceAccess: "ro"</code> o <code>"ninguno"</code>).</li>
</ul>
<p>Ejemplo (sintonizado):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="p">{</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">      </span><span class="nv">compaction</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">        </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;salvaguard&quot;</span><span class="p">,</span>
<a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">        </span><span class="nv">reserveTokensFloor</span><span class="p">:</span><span class="w"> </span><span class="mf">24000</span><span class="p">,</span>
<a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">        </span><span class="nv">memoryFlush</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="w">          </span><span class="nv">habilitado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="w">          </span><span class="nv">soft ThresholdTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">6000</span><span class="p">,</span>
<a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="w">          </span><span class="nv">systemPrompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Sesión cerca de la compacción. Almacena recuerdos duraderos ahora.&quot;</span><span class="p">,</span>
<a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a><span class="w">          </span><span class="nv">indica</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Escribe cualquier nota duradera para memorar/AAA-MM-DD. d; responder con NO_REPLY si no hay nada que almacenar. ,</span>
<a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a><span class="s">        },</span>
<a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a><span class="s">      },</span>
<a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a><span class="s">    },</span>
<a id="__codelineno-65-15" name="__codelineno-65-15" href="#__codelineno-65-15"></a><span class="s">  },</span>
<a id="__codelineno-65-16" name="__codelineno-65-16" href="#__codelineno-65-16"></a><span class="s">}</span>
</code></pre></div>
<p>Transmisión de bloques:</p>
<ul>
<li>
<p><code>agents.defaults.blockStreamingDefault</code>: <code>"on"</code>/<code>"off"</code> (desactivado por defecto).</p>
</li>
<li>
<p>Anulaciones del canal: <code>*.blockStreaming</code> (y variantes por cuenta) para bloquear el streaming activado/apagado.
  Los canales que no sean de Telegram requieren un <code>*.blockStreaming: true</code> explícito para habilitar las respuestas de bloques.</p>
</li>
<li>
<p><code>agents.defaults.blockStreamingBreak</code>: <code>"text_end"</code> o <code>"message_end"</code> (por defecto: text_end).</p>
</li>
<li>
<p><code>agents.defaults.blockStreamingChunk</code>: chunking suave para bloques streamed. Por defecto es
  800–1200 caracteres, prefiere saltos de párrafo (<code>\n\n</code>), luego nuevas líneas, luego frases.
  Ejemplo:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="p">{</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">blockStreamingChunk</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">minChars</span><span class="p">:</span><span class="w"> </span><span class="mf">800</span><span class="p">,</span><span class="w"> </span><span class="nv">maxChars</span><span class="p">:</span><span class="w"> </span><span class="mf">1200</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p><code>agents.defaults.blockStreamingCoalesce</code>: combina bloques streaming antes de enviar.
  Por defecto es <code>{ idleMs: 1000 }</code> y hereda <code>minChars</code> de <code>blockStreamingChunk</code>
  con <code>maxChars</code> limitado al límite de texto del canal. Signal/Slack/Discord/Google Chat predeterminado
  a <code>minChars: 1500</code> a menos que sea reemplazado.
  Anulaciones del canal: <code>channels.whatsapp.blockStreamingCoalesce</code>, <code>channels.telegram.blockStreamingCoalesce</code>,
  <code>channels.discord.blockStreamingCoalesce</code>, <code>channels.slack.blockStreamingCoalesce</code>, <code>channels.msteams.blockStreamingCoalesce</code>,
  <code>channels.signal.blockStreamingCoalesce</code>, <code>channels.imessage.blockStreamingCoalesce</code>, <code>channels.msteamingCoalesce</code>,
  <code>channels.googlechat.blockStreamingCoalesce</code>
  (y variantes de la cuenta).</p>
</li>
<li>
<p><code>agents.defaults.humanDelay</code>: pausa aleatoriamente entre <strong>respuestas de bloque</strong> después de la primera.
  Modos: <code>off</code> (por defecto), <code>natural</code> (800–2500ms), <code>custom</code> (usa <code>minMs</code>/<code>maxMs</code>).
  Por agente anular: <code>agents.list[].humanDelay</code>.
  Ejemplo:</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="p">{</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">humanDelay</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;natural&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="p">}</span>
</code></pre></div>
<p>Vea <a href="../../concepts/streaming">/concepts/streaming</a> para el comportamiento + detalles de chunking.</p>
<p>Indicadores de escritura:</p>
<ul>
<li><code>agents.defaults.typingMode</code>: <code>"nunca" | "instantáneo" | "pensando" | "mensaje"</code>. Por defecto
  <code>instantáneo</code> para chats directos / menciones y <code>mensaje</code> para chats de grupo no mencionados.</li>
<li><code>session.typingMode</code>: sobreescritura por sesión para el modo.</li>
<li><code>agents.defaults.typingIntervalSeconds</code>: con qué frecuencia se actualiza la señal de escritura (por defecto: 6s).</li>
<li><code>session.typingIntervalSegundos</code>: sobreescritura por sesión para el intervalo de actualización.
  Vea <a href="../../concepts/typing-indicators">/concepts/typing-indicators</a> para detalles de comportamiento.</li>
</ul>
<p><code>agents.defaults.model.primary</code> debe establecerse como <code>provider/model</code> (por ejemplo, <code>anthropic/claude-opis) 4-6</code>).
Los alias vienen de <code>agents.defaults.models.*.alias</code> (e.g. <code>Opus</code>).
Si omites el proveedor, OpenClaw asume actualmente <code>antropic</code> como una regresión temporal de la degradación
.
Los modelos Z.AI están disponibles como <code>zai/&lt;model&gt;</code> (por ejemplo, <code>zai/glm-4.7</code>) y requieren
<code>ZAI_API_KEY</code> (o legado <code>Z_AI_API_KEY</code>) en el entorno.</p>
<p><code>agents.defaults.heartbeat</code> configura ejecuciones latidos periódicos:</p>
<ul>
<li><code>cada</code>: cadena de duración (<code>ms</code>, <code>s</code>, <code>m</code>, <code>h</code>); minutos unitarios por defecto. Predeterminado:
  <code>30m</code>. Establece <code>0m</code> para desactivar.</li>
<li><code>model</code>: modelo opcional de anulación para ejecuciones de heartbeat (<code>provider/model</code>).</li>
<li><code>includeReasoning</code>: cuando <code>true</code>, heartbeats también entregará el mensaje separado <code>Reasoning:</code> cuando esté disponible (misma forma que <code>/reasoning on</code>). Predeterminado: <code>false</code>.</li>
<li><code>session</code>: tecla opcional de sesión para controlar en qué sesión se ejecuta el latido del corazón. Por defecto: <code>main</code>.</li>
<li><code>to</code>: reemplazo opcional del destinatario (id específico del canal, p.e. E.164 para WhatsApp, id del chat para Telegram).</li>
<li><code>target</code>: canal opcional de entrega (<code>last</code>, <code>whatsapp</code>, <code>telegram</code>, <code>discord</code>, <code>slack</code>, <code>msteams</code>, <code>signal</code>, <code>imessage</code>, <code>ninguno</code>). Predeterminado: <code>last</code>.</li>
<li><code>prompt</code>: sobreescritura opcional para el cuerpo del latido del corazón (por defecto: <code>Leer HEARTBEAT.md si existe (contexto del espacio de trabajo). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.</code>). Los overrides se envían literalmente; incluye una línea <code>Read HEARTBEAT.md</code> si quieres que el archivo lea.</li>
<li><code>ackMaxChars</code>: caracteres máximos permitidos después de <code>HEARTBEAT_OK</code> antes de la entrega (por defecto: 300).</li>
</ul>
<p>Heartbeats por agente:</p>
<ul>
<li>Establece <code>agents.list[].heartbeat</code> para activar o anular la configuración de latido cardíaco para un agente específico.</li>
<li>Si cualquier entrada de agente define <code>heartbeat</code>, <strong>solo esos agentes</strong> ejecutan heartbeats; por defecto
  se convierte en la línea base compartida para esos agentes.</li>
</ul>
<p>Los heartbeats ejecutan turnos completos del agente. Los intervalos cortos queman más tokens; ten cuidado
de <code>cada</code>, mantén <code>HEARTBEAT.md</code> pequeño, y/o elige un <code>modelo</code> más barato.</p>
<p><code>tools.exec</code> configura los valores de exec de fondo:</p>
<ul>
<li><code>backgroundMs</code>: tiempo antes del auto-background (ms, predeterminado 10000)</li>
<li><code>timeoutSec</code>: auto-kill después de este tiempo de ejecución (segundos, por defecto 1800)</li>
<li><code>cleanupMs</code>: cuánto tiempo mantener las sesiones terminadas en memoria (ms, por defecto 18000)</li>
<li><code>notifyOnExit</code>: encolar un evento del sistema + solicitar latido al salir en segundo plano de exec (por defecto true)</li>
<li><code>applyPatch.enabled</code>: habilita el <code>apply_patch</code> experimental (sólo OpenAI/OpenAI Codex; por defecto falso)</li>
<li><code>applyPatch.allowModels</code>: lista permitida opcional de ids de modelo (por ejemplo, <code>gpt-5.2</code> o <code>openai/gpt-5.2</code>)
  Nota: <code>applyPatch</code> sólo está bajo <code>tools.exec</code>.</li>
</ul>
<p><code>tools.web</code> configura la búsqueda web + obtener herramientas:</p>
<ul>
<li><code>tools.web.search.enabled</code> (por defecto: verdadero cuando la clave está presente)</li>
<li><code>tools.web.search.apiKey</code> (recomendado: establece a través de <code>openclaw configure --section web</code>, o usa <code>BRAVE_API_KEY</code> var)</li>
<li><code>tools.web.search.maxResults</code> (1–10, por defecto 5)</li>
<li><code>tools.web.search.timeoutSeconds</code> (predeterminado 30)</li>
<li><code>tools.web.search.cacheTtlMinutes</code> (predeterminado 15)</li>
<li><code>tools.web.fetch.enabled</code> (por defecto true)</li>
<li><code>tools.web.fetch.maxChars</code> (predeterminado 50000)</li>
<li><code>tools.web.fetch.maxCharsCap</code> (por defecto 50000; clampa maxChars de las llamadas config/tools)</li>
<li><code>tools.web.fetch.timeoutSeconds</code> (predeterminado 30)</li>
<li><code>tools.web.fetch.cacheTtlMinutes</code> (predeterminado 15)</li>
<li><code>tools.web.fetch.userAgent</code> (anulación opcional)</li>
<li><code>tools.web.fetch.readability</code> (por defecto true; deshabilita para usar sólo limpieza básica de HTML)</li>
<li><code>tools.web.fetch.firecrawl.enabled</code> (por defecto es verdad cuando se establece una clave API)</li>
<li><code>tools.web.fetch.firecrawl.apiKey</code> (opcional; por defecto <code>FIRECRAWL_API_KEY</code>)</li>
<li><code>tools.web.fetch.firecrawl.baseUrl</code> (por defecto <a href="https://api.firecrawl.dev">https://api.firecrawl.dev</a>)</li>
<li><code>tools.web.fetch.firecrawl.onlyMainContent</code> (por defecto true)</li>
<li><code>tools.web.fetch.firecrawl.maxAgeMs</code> (opcional)</li>
<li><code>tools.web.fetch.firecrawl.timeoutSeconds</code> (opcional)</li>
</ul>
<p><code>tools.media</code> configura la comprensión de medios entrantes (image/audio/video):</p>
<ul>
<li><code>tools.media.models</code>: lista de modelos compartidos (capacidad etiquetada; usada después de listas por cap).</li>
<li><code>tools.media.concurrency</code>: ejecución máxima de capacidad concurrente (por defecto 2).</li>
<li><code>tools.media.image</code> / <code>tools.media.audio</code> / <code>tools.media.video</code>:</li>
<li><code>enabled</code>: opt-out switch (predeterminado verdadero cuando los modelos están configurados).</li>
<li><code>prompt</code>: opción de anulación del prompt (imagen/video añade una pista de <code>maxChars</code> automáticamente).</li>
<li><code>maxChars</code>: caracteres de salida máximos (por defecto 500 para imagen/vídeo; unset para audio).</li>
<li><code>maxBytes</code>: tamaño máximo de medios a enviar (por defecto: imagen 10MB, audio 20MB, vídeo 50MB).</li>
<li><code>timeoutSegundos</code>: timeout de solicitud (por defecto: imagen 60s, audio 60s, video 120s).</li>
<li><code>language</code>: pista de audio opcional.</li>
<li><code>attachments</code>: política de adjuntos (<code>mode</code>, <code>maxAttachments</code>, <code>prefer</code>).</li>
<li><code>scope</code>: compuerta opcional (primero coincide con ganancias) con <code>match.channel</code>, <code>match.chatType</code>, o <code>match.keyPrefix</code>.</li>
<li><code>models</code>: lista ordenada de entradas de modelo; fallos o soportes sobredimensionados caen en la siguiente entrada.</li>
<li>Cada entrada <code>modelos[]</code>:</li>
<li>Entrada del proveedor (<code>type: "provider"</code> o omitido):<ul>
<li><code>provider</code>: API provider id (<code>openai</code>, <code>anthropic</code>, <code>google</code>/<code>gemini</code>, <code>groq</code>, etc).</li>
<li><code>model</code>: model id override (requerido para la imagen; predeterminado para <code>gpt-4o-mini-transcribe</code>/<code>whisper-(0)[video] v3-turbo</code> para proveedores de audio, y <code>gemini-3-flash-preview</code> para video).</li>
<li><code>profile</code> / <code>preferredProfile</code>: selección de perfil de autor.</li>
</ul>
</li>
<li>Entrada CLI (<code>type: "cli"</code>):<ul>
<li><code>command</code>: ejecutable a ejecutar.</li>
<li><code>args</code>: argumentos con plantillas (soporta <code>{{MediaPath}}</code>, <code>{{Prompt}}</code>, <code>{{MaxChars}}</code>, etc).</li>
</ul>
</li>
<li><code>capabilities</code>: lista opcional (<code>image</code>, <code>audio</code>, <code>video</code>) para comprimir una entrada compartida. Por defecto al omitir: <code>openai</code>/<code>anthropic</code>/<code>minimax</code> → imagen, <code>google</code> → image+audio+video, <code>groq</code> → audio.</li>
<li><code>prompt</code>, <code>maxChars</code>, <code>maxBytes</code>, <code>timeoutSegundds</code>, <code>language</code> puede ser anulado por entrada.</li>
</ul>
<p>Si no hay modelos configurados (o <code>habilitados: false</code>), se omite el entendimiento; el modelo todavía recibe los archivos adjuntos originales.</p>
<p>La autenticación del proveedor sigue el orden de autenticación del modelo estándar (perfiles de autor, vars env como <code>OPENAI_API_KEY</code>/<code>GROQ_API_KEY</code>/<code>GEMINI_API_KEY</code>, o <code>models.providers.*.apiKey</code>).</p>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="p">{</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">    </span><span class="nv">media</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">      </span><span class="nv">audio</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="w">        </span><span class="nv">maxBytes</span><span class="p">:</span><span class="w"> </span><span class="mf">20971520</span><span class="p">,</span>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="w">        </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="w">          </span><span class="nv">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;deny&quot;</span><span class="p">,</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="w">          </span><span class="nv">rules</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nv">action</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allow&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">match</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">chatType</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;direct&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}],</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gpt-4o-mini-transcribe&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nv">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cli&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">command</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;whisper&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">args</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;--model&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;base&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;{{MediaPath}}&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a><span class="w">      </span><span class="nv">video</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="w">        </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="w">        </span><span class="nv">maxBytes</span><span class="p">:</span><span class="w"> </span><span class="mf">52428800</span><span class="p">,</span>
<a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;google&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gemini-3-flash-preview&quot;</span><span class="w"> </span><span class="p">}],</span>
<a id="__codelineno-68-20" name="__codelineno-68-20" href="#__codelineno-68-20"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-68-21" name="__codelineno-68-21" href="#__codelineno-68-21"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-68-22" name="__codelineno-68-22" href="#__codelineno-68-22"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-68-23" name="__codelineno-68-23" href="#__codelineno-68-23"></a><span class="p">}</span>
</code></pre></div>
<p><code>agents.defaults.subagents</code> configura los valores predeterminados de sub-agente:</p>
<ul>
<li><code>model</code>: modelo predeterminado para los subagentes generados (cadena o <code>{ primary, fallbacks }</code>). Si se omite, los subagentes heredan el modelo de la persona que llama a menos que se sobreescriba por agente o por llamada.</li>
<li><code>maxConcurrent</code>: ejecución máxima de sub-agente simultáneo (por defecto 1)</li>
<li><code>archiveAfterMinutes</code>: sesiones de sub-agente autoarchivadas después de N minutos (por defecto 60; establece <code>0</code> a desactivar)</li>
<li>Política de herramientas por subagente: <code>tools.subagents.tools.allow</code> / <code>tools.subagents.tools.deny</code> (negar victorias)</li>
</ul>
<p><code>tools.profile</code> establece una <strong>herramienta base allowlist</strong> antes de <code>tools.allow</code>/<code>tools.deny</code>:</p>
<ul>
<li><code>minimal</code>: solo <code>session_status</code></li>
<li><code>coding</code>: <code>group:fs</code>, <code>group:runtime</code>, <code>group:sessions</code>, <code>group:memory</code>, <code>image</code></li>
<li><code>messaging</code>: <code>group:messaging</code>, <code>sessions_list</code>, <code>sessions_history</code>, <code>sessions_send</code>, <code>session_status</code></li>
<li><code>full</code>: sin restricción (igual que no configurado)</li>
</ul>
<p>Anulación por agente: <code>agents.list[].tools.profile</code>.</p>
<p>Ejemplo (solo mensajería por defecto, permitir también herramientas de Slack + Discord):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="p">{</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">    </span><span class="nv">profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;messaging&quot;</span><span class="p">,</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;slack&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;discord&quot;</span><span class="p">],</span>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="p">}</span>
</code></pre></div>
<p>Ejemplo (perfil de programación, pero denegar exec/process en todas partes):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="p">{</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">    </span><span class="nv">profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;coding&quot;</span><span class="p">,</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">    </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;group:runtime&quot;</span><span class="p">],</span>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="p">}</span>
</code></pre></div>
<p><code>tools.byProvider</code> te permite <strong>restringir más</strong> herramientas para proveedores específicos (o un único <code>provider/model</code>).
Anulación por agente: <code>agents.list[].tools.byProvider</code>.</p>
<p>Pedido: perfil base → perfil de proveedor → permitir / denegar políticas.
Las claves del proveedor aceptan ya sea <code>provider</code> (por ejemplo, <code>google-antigravity</code>) o <code>provider/model</code>
(por ejemplo, <code>openai/gpt-5.2</code>).</p>
<p>Ejemplo (mantener el perfil global de programación, pero herramientas mínimas para Google Antigravity):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="p">{</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="w">    </span><span class="nv">profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;coding&quot;</span><span class="p">,</span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="w">    </span><span class="nv">byProvider</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="w">      </span><span class="nv">&quot;google-antigravity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">profile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;minimal&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a><span class="p">}</span>
</code></pre></div>
<p>Ejemplo (lista permitida específica de proveedor/modelo):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="p">{</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">    </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;group:fs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;group:runtime&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sessions_list&quot;</span><span class="p">],</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">    </span><span class="nv">byProvider</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="w">      </span><span class="nv">&quot;openai/gpt-5.2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;group:fs&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;sessions_list&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="p">}</span>
</code></pre></div>
<p><code>tools.allow</code> / <code>tools.deny</code> configura una herramienta global allow/deny policy (negar ganancias).
La coincidencia es insensible a mayúsculas y minúsculas y soporta comodines <code>*</code> (<code>"*"</code> significa todas las herramientas).
Esto se aplica incluso cuando el sandbox Docker está <strong>apagado</strong>.</p>
<p>Ejemplo (desactivar navegador/lienzo en todas partes):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="p">{</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;browser&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;canvas&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="p">}</span>
</code></pre></div>
<p>Los grupos de herramientas (abreviados) trabajan en las políticas de herramientas <strong>global</strong> y <strong>por agente</strong>:</p>
<ul>
<li><code>group:runtime</code>: <code>exec</code>, <code>bash</code>, <code>process</code></li>
<li><code>group:fs</code>: <code>read</code>, <code>write</code>, <code>edit</code>, <code>apply_patch</code></li>
<li><code>group:sessions</code>: <code>sessions_list</code>, <code>sessions_history</code>, <code>sessions_send</code>, <code>sessions_spawn</code>, <code>session_status</code></li>
<li><code>group:memory</code>: <code>memory_search</code>, <code>memory_get</code></li>
<li><code>group:web</code>: <code>web_search</code>, <code>web_fetch</code></li>
<li><code>group:ui</code>: <code>browser</code>, <code>canvas</code></li>
<li><code>group:automation</code>: <code>cron</code>, <code>gateway</code></li>
<li><code>group:messaging</code>: <code>message</code></li>
<li><code>group:nodes</code>: <code>nodes</code></li>
<li><code>group:openclaw</code>: todas las herramientas integradas de OpenClaw (excluye plugins de proveedores)</li>
</ul>
<p>Controles <code>tools.elevated</code> elevados (host):</p>
<ul>
<li><code>activado</code>: permitir modo elevado (por defecto verdadero)</li>
<li><code>allowFrom</code>: listas permitidas por canal (vacío = deshabilitado)</li>
<li><code>whatsapp</code>: E.164 números</li>
<li><code>telegram</code>: identificadores de chat o nombres de usuario</li>
<li><code>discord</code>: identificadores de usuario o nombres de usuario (se repite a <code>channels.discord.dm.allowFrom</code> si se omite)</li>
<li><code>signal</code>: E.164 números</li>
<li><code>imessage</code>: manejadores/identificadores de chat</li>
<li><code>webchat</code>: identificadores de sesión o nombres de usuario</li>
</ul>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="p">{</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">    </span><span class="nv">elevado</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">      </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">      </span><span class="nv">allowFrom</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">        </span><span class="nv">whatsapp</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;+15555550123&quot;</span><span class="p">],</span>
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">        </span><span class="nv">discord</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;steipete&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1234567890123&quot;</span><span class="p">],</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="p">}</span>
</code></pre></div>
<p>Anulación por agente (restricción adicional):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="p">{</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="w">    </span><span class="nv">list</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="w">        </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;family&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">Herramientas</span>
<a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="nv">        </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="w">          </span><span class="nv">elevado</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li><code>tools.elevated</code> es la línea de base global. <code>agents.list[].tools.elevated</code> sólo puede restringir aún más (ambos deben permitir).</li>
<li><code>/elevated on|off|ask|full</code> almacena el estado por clave de sesión; las directivas en línea se aplican a un solo mensaje.</li>
<li>Ejecutado <code>exec</code> se ejecuta en el anfitrión y evita el sandboxing.</li>
<li>La política de herramientas sigue aplicándose; si <code>exec</code> es negada, no se puede usar elevado.</li>
</ul>
<p><code>agents.defaults.maxConcurrent</code> establece el número máximo de ejecuciones de agentes integrados que pueden ejecutarse en paralelo entre sesiones. Cada sesión sigue serializada (una ejecute
por clave de sesión a la vez). Predeterminado: 1.</p>
<h3 id="agentsdefaultssandbox"><code>agents.defaults.sandbox</code><a class="headerlink" href="#agentsdefaultssandbox" title="Permanent link">&para;</a></h3>
<p>Opcional <strong>sandbox Docker</strong> para el agente incrustado. Dirigido a sesiones
no principales, por lo que no pueden acceder a su sistema host.</p>
<p>Detalles: <a href="../../gateway/sandboxing">Sandboxing</a></p>
<p>Por defecto (si está habilitado):</p>
<ul>
<li>scope: <code>"agent"</code> (un contenedor + espacio de trabajo por agente)</li>
<li>Imagen basada en gusanos de libros de Debian</li>
<li>agente de acceso al espacio de trabajo: <code>workspaceAccess: "None "</code> (por defecto)</li>
<li><code>"ninguno "</code>: usa un espacio de trabajo sandbox por ámbito bajo <code>~/.openclaw/sandboxes</code></li>
<li><code>"ro"</code>: mantén el espacio de trabajo del entorno de pruebas en <code>/workspace</code>, y monta el espacio de trabajo del agente sólo en <code>/agent</code> (desactiva <code>write</code>/<code>edit</code>/<code>apply_patch</code>)</li>
<li><code>"rw"</code>: montar el área de trabajo del agente leer/escribir en <code>/workspace</code></li>
<li>poda automática: inactivo &gt; 24 h O antigüedad &gt; 7 d</li>
<li>política de herramientas: permitir sólo <code>exec</code>, <code>process</code>, <code>read</code>, <code>write</code>, <code>edit</code>, <code>apply_patch</code>, <code>sessions_list</code>, <code>sessions_history</code>, <code>sessions_send</code>, <code>sessions_spawn</code>, <code>session_status</code> (denegar victorias)</li>
<li>configure a través de <code>tools.sandbox.tools</code>, sobreescribe por agente a través de <code>agents.list[].tools.sandbox.tools</code></li>
<li>grupos de herramientas soportados en la política de sandbox: <code>group:runtime</code>, <code>group:fs</code>, <code>group:sessions</code>, <code>group:memory</code> (ver <a href="../../gateway/sandbox-vs-tool-policy-vs-elevated#tool-groups-shorthands">Sandbox vs Tool Policy vs Applicated</a>)</li>
<li>navegador opcional de arena (Chromium + CDP, observador noVNC)</li>
<li>knobs: <code>network</code>, <code>user</code>, <code>pidsLimit</code>, <code>memory</code>, <code>cpus</code>, <code>ulimits</code>, <code>seccompProfile</code>, <code>apparmorProfile</code></li>
</ul>
<p>Advertencia: <code>scope: "shared"</code> significa un contenedor compartido y espacio de trabajo compartido. Sin
aislamiento multisesión. Usa <code>scope: "session"</code> para el aislamiento por sesión.</p>
<p>Legancia: <code>perSession</code> sigue soportado (<code>true</code> → <code>scope: "session"</code>,
<code>false</code> → <code>scope: "shared"</code>).</p>
<p><code>setupCommand</code> ejecuta <strong>una vez</strong> después de que el contenedor sea creado (dentro del contenedor a través de <code>sh -lc</code>).
Para la instalación de paquetes, asegúrese de egresos de red, un root FS escribible y un usuario root.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="p">{</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">      </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">        </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;non-main&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// off | non-main | all</span>
<a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="w">        </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;agent&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// session | agent | shared (agent is default)</span>
<a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="w">        </span><span class="nv">workspaceAccess</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// none | ro | rw</span>
<a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="w">        </span><span class="nv">workspaceRoot</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/sandboxes&quot;</span><span class="p">,</span>
<a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="w">        </span><span class="nv">docker</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="w">          </span><span class="nv">image</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw-sandbox:bookworm-slim&quot;</span><span class="p">,</span>
<a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="w">          </span><span class="nv">containerPrefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw-sbx-&quot;</span><span class="p">,</span>
<a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a><span class="w">          </span><span class="nv">workdir</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/workspace&quot;</span><span class="p">,</span>
<a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a><span class="w">          </span><span class="nv">readOnlyRoot</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a><span class="w">          </span><span class="nv">tmpfs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;/tmp&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/var/tmp&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/run&quot;</span><span class="p">],</span>
<a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a><span class="w">          </span><span class="nv">network</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span>
<a id="__codelineno-76-16" name="__codelineno-76-16" href="#__codelineno-76-16"></a><span class="w">          </span><span class="nv">user</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1000:1000&quot;</span><span class="p">,</span>
<a id="__codelineno-76-17" name="__codelineno-76-17" href="#__codelineno-76-17"></a><span class="w">          </span><span class="nv">capDrop</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;ALL&quot;</span><span class="p">],</span>
<a id="__codelineno-76-18" name="__codelineno-76-18" href="#__codelineno-76-18"></a><span class="w">          </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">LANG</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;C.UTF-8&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-76-19" name="__codelineno-76-19" href="#__codelineno-76-19"></a><span class="w">          </span><span class="nv">setupCommand</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apt-get update &amp;&amp; apt-get install -y git curl jq&quot;</span><span class="p">,</span>
<a id="__codelineno-76-20" name="__codelineno-76-20" href="#__codelineno-76-20"></a><span class="w">          </span><span class="c1">// Per-agent override (multi-agent): agents.list[].sandbox.docker.*</span>
<a id="__codelineno-76-21" name="__codelineno-76-21" href="#__codelineno-76-21"></a><span class="w">          </span><span class="nv">pidsLimit</span><span class="p">:</span><span class="w"> </span><span class="mf">256</span><span class="p">,</span>
<a id="__codelineno-76-22" name="__codelineno-76-22" href="#__codelineno-76-22"></a><span class="w">          </span><span class="nv">memory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;1g&quot;</span><span class="p">,</span>
<a id="__codelineno-76-23" name="__codelineno-76-23" href="#__codelineno-76-23"></a><span class="w">          </span><span class="nv">memorySwap</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2g&quot;</span><span class="p">,</span>
<a id="__codelineno-76-24" name="__codelineno-76-24" href="#__codelineno-76-24"></a><span class="w">          </span><span class="nv">cpus</span><span class="p">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<a id="__codelineno-76-25" name="__codelineno-76-25" href="#__codelineno-76-25"></a><span class="w">          </span><span class="nv">ulimits</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-26" name="__codelineno-76-26" href="#__codelineno-76-26"></a><span class="w">            </span><span class="nv">nofile</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">soft</span><span class="p">:</span><span class="w"> </span><span class="mf">1024</span><span class="p">,</span><span class="w"> </span><span class="nv">hard</span><span class="p">:</span><span class="w"> </span><span class="mf">2048</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-76-27" name="__codelineno-76-27" href="#__codelineno-76-27"></a><span class="w">            </span><span class="nv">nproc</span><span class="p">:</span><span class="w"> </span><span class="mf">256</span><span class="p">,</span>
<a id="__codelineno-76-28" name="__codelineno-76-28" href="#__codelineno-76-28"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-76-29" name="__codelineno-76-29" href="#__codelineno-76-29"></a><span class="w">          </span><span class="nv">seccompProfile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/path/to/seccomp.json&quot;</span><span class="p">,</span>
<a id="__codelineno-76-30" name="__codelineno-76-30" href="#__codelineno-76-30"></a><span class="w">          </span><span class="nv">apparmorProfile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw-sandbox&quot;</span><span class="p">,</span>
<a id="__codelineno-76-31" name="__codelineno-76-31" href="#__codelineno-76-31"></a><span class="w">          </span><span class="nv">dns</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;1.1.1.1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;8.8.8.8&quot;</span><span class="p">],</span>
<a id="__codelineno-76-32" name="__codelineno-76-32" href="#__codelineno-76-32"></a><span class="w">          </span><span class="nv">extraHosts</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;internal.service:10.0.0.5&quot;</span><span class="p">],</span>
<a id="__codelineno-76-33" name="__codelineno-76-33" href="#__codelineno-76-33"></a><span class="w">          </span><span class="nv">binds</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;/var/run/docker.sock:/var/run/docker.sock&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/home/user/source:/source:rw&quot;</span><span class="p">],</span>
<a id="__codelineno-76-34" name="__codelineno-76-34" href="#__codelineno-76-34"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-76-35" name="__codelineno-76-35" href="#__codelineno-76-35"></a><span class="w">        </span><span class="nv">browser</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-36" name="__codelineno-76-36" href="#__codelineno-76-36"></a><span class="w">          </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-76-37" name="__codelineno-76-37" href="#__codelineno-76-37"></a><span class="w">          </span><span class="nv">image</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw-sandbox-browser:bookworm-slim&quot;</span><span class="p">,</span>
<a id="__codelineno-76-38" name="__codelineno-76-38" href="#__codelineno-76-38"></a><span class="w">          </span><span class="nv">containerPrefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw-sbx-browser-&quot;</span><span class="p">,</span>
<a id="__codelineno-76-39" name="__codelineno-76-39" href="#__codelineno-76-39"></a><span class="w">          </span><span class="nv">cdpPort</span><span class="p">:</span><span class="w"> </span><span class="mf">9222</span><span class="p">,</span>
<a id="__codelineno-76-40" name="__codelineno-76-40" href="#__codelineno-76-40"></a><span class="w">          </span><span class="nv">vncPort</span><span class="p">:</span><span class="w"> </span><span class="mf">5900</span><span class="p">,</span>
<a id="__codelineno-76-41" name="__codelineno-76-41" href="#__codelineno-76-41"></a><span class="w">          </span><span class="nv">noVncPort</span><span class="p">:</span><span class="w"> </span><span class="mf">6080</span><span class="p">,</span>
<a id="__codelineno-76-42" name="__codelineno-76-42" href="#__codelineno-76-42"></a><span class="w">          </span><span class="nv">headless</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-76-43" name="__codelineno-76-43" href="#__codelineno-76-43"></a><span class="w">          </span><span class="nv">enableNoVnc</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-76-44" name="__codelineno-76-44" href="#__codelineno-76-44"></a><span class="w">          </span><span class="nv">allowHostControl</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-76-45" name="__codelineno-76-45" href="#__codelineno-76-45"></a><span class="w">          </span><span class="nv">allowedControlUrls</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;http://10.0.0.42:18791&quot;</span><span class="p">],</span>
<a id="__codelineno-76-46" name="__codelineno-76-46" href="#__codelineno-76-46"></a><span class="w">          </span><span class="nv">allowedControlHosts</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;browser.lab.local&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;10.0.0.42&quot;</span><span class="p">],</span>
<a id="__codelineno-76-47" name="__codelineno-76-47" href="#__codelineno-76-47"></a><span class="w">          </span><span class="nv">allowedControlPorts</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">18791</span><span class="p">],</span>
<a id="__codelineno-76-48" name="__codelineno-76-48" href="#__codelineno-76-48"></a><span class="w">          </span><span class="nv">autoStart</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-76-49" name="__codelineno-76-49" href="#__codelineno-76-49"></a><span class="w">          </span><span class="nv">autoStartTimeoutMs</span><span class="p">:</span><span class="w"> </span><span class="mf">12000</span><span class="p">,</span>
<a id="__codelineno-76-50" name="__codelineno-76-50" href="#__codelineno-76-50"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-76-51" name="__codelineno-76-51" href="#__codelineno-76-51"></a><span class="w">        </span><span class="nv">prune</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-52" name="__codelineno-76-52" href="#__codelineno-76-52"></a><span class="w">          </span><span class="nv">idleHours</span><span class="p">:</span><span class="w"> </span><span class="mf">24</span><span class="p">,</span><span class="w"> </span><span class="c1">// 0 disables idle pruning</span>
<a id="__codelineno-76-53" name="__codelineno-76-53" href="#__codelineno-76-53"></a><span class="w">          </span><span class="nv">maxAgeDays</span><span class="p">:</span><span class="w"> </span><span class="mf">7</span><span class="p">,</span><span class="w"> </span><span class="c1">// 0 disables max-age pruning</span>
<a id="__codelineno-76-54" name="__codelineno-76-54" href="#__codelineno-76-54"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-76-55" name="__codelineno-76-55" href="#__codelineno-76-55"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-76-56" name="__codelineno-76-56" href="#__codelineno-76-56"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-76-57" name="__codelineno-76-57" href="#__codelineno-76-57"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-76-58" name="__codelineno-76-58" href="#__codelineno-76-58"></a><span class="w">  </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-59" name="__codelineno-76-59" href="#__codelineno-76-59"></a><span class="w">    </span><span class="nv">sandbox</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-60" name="__codelineno-76-60" href="#__codelineno-76-60"></a><span class="w">      </span><span class="nv">tools</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-61" name="__codelineno-76-61" href="#__codelineno-76-61"></a><span class="w">        </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-76-62" name="__codelineno-76-62" href="#__codelineno-76-62"></a><span class="w">          </span><span class="s">&quot;exec&quot;</span><span class="p">,</span>
<a id="__codelineno-76-63" name="__codelineno-76-63" href="#__codelineno-76-63"></a><span class="w">          </span><span class="s">&quot;process&quot;</span><span class="p">,</span>
<a id="__codelineno-76-64" name="__codelineno-76-64" href="#__codelineno-76-64"></a><span class="w">          </span><span class="s">&quot;read&quot;</span><span class="p">,</span>
<a id="__codelineno-76-65" name="__codelineno-76-65" href="#__codelineno-76-65"></a><span class="w">          </span><span class="s">&quot;write&quot;</span><span class="p">,</span>
<a id="__codelineno-76-66" name="__codelineno-76-66" href="#__codelineno-76-66"></a><span class="w">          </span><span class="s">&quot;edit&quot;</span><span class="p">,</span>
<a id="__codelineno-76-67" name="__codelineno-76-67" href="#__codelineno-76-67"></a><span class="w">          </span><span class="s">&quot;apply_patch&quot;</span><span class="p">,</span>
<a id="__codelineno-76-68" name="__codelineno-76-68" href="#__codelineno-76-68"></a><span class="w">          </span><span class="s">&quot;sessions_list&quot;</span><span class="p">,</span>
<a id="__codelineno-76-69" name="__codelineno-76-69" href="#__codelineno-76-69"></a><span class="w">          </span><span class="s">&quot;sessions_history&quot;</span><span class="p">,</span>
<a id="__codelineno-76-70" name="__codelineno-76-70" href="#__codelineno-76-70"></a><span class="w">          </span><span class="s">&quot;sessions_send&quot;</span><span class="p">,</span>
<a id="__codelineno-76-71" name="__codelineno-76-71" href="#__codelineno-76-71"></a><span class="w">          </span><span class="s">&quot;sessions_spawn&quot;</span><span class="p">,</span>
<a id="__codelineno-76-72" name="__codelineno-76-72" href="#__codelineno-76-72"></a><span class="w">          </span><span class="s">&quot;session_status&quot;</span><span class="p">,</span>
<a id="__codelineno-76-73" name="__codelineno-76-73" href="#__codelineno-76-73"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-76-74" name="__codelineno-76-74" href="#__codelineno-76-74"></a><span class="w">        </span><span class="nv">deny</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;browser&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;canvas&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;nodes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cron&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;discord&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;gateway&quot;</span><span class="p">],</span>
<a id="__codelineno-76-75" name="__codelineno-76-75" href="#__codelineno-76-75"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-76-76" name="__codelineno-76-76" href="#__codelineno-76-76"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-76-77" name="__codelineno-76-77" href="#__codelineno-76-77"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-76-78" name="__codelineno-76-78" href="#__codelineno-76-78"></a><span class="p">}</span>
</code></pre></div>
<p>Construye la imagen sandbox por defecto con:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>scripts/sandbox-setup.sh
</code></pre></div>
<p>Nota: los contenedores sandbox predeterminados a <code>network: "outer"</code>; establece <code>agents.defaults.sandbox.docker.network</code>
a <code>"puente"</code> (o tu red personalizada) si el agente necesita acceso saliente.</p>
<p>Nota: los archivos adjuntos entrantes se introducen en el espacio de trabajo activo en <code>media/inbound/*</code>. Con <code>workspaceAccess: "rw"</code>, esto significa que los archivos se escriben en el espacio de trabajo del agente.</p>
<p>Nota: <code>docker.binds</code> monta directorios de host adicionales; los enlaces globales y por agente son fusionados.</p>
<p>Construye la imagen opcional del navegador con:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a>scripts/sandbox-browser-setup.sh
</code></pre></div>
<p>Cuando <code>agents.defaults.sandbox.browser.enabled=true</code>, la herramienta de navegador utiliza una instancia de Chromium aislada en sandbox (CDP). Si noVNC está habilitado (por defecto cuando headless=false),
la URL de noVNC se inyecta en el prompt del sistema para que el agente pueda hacer referencia a ella.
Esto no requiere <code>browser.enabled</code> en la configuración principal; el control sandbox
URL es inyectado por sesión.</p>
<p><code>agents.defaults.sandbox.browser.allowHostControl</code> (por defecto: false) permite que
sesiones enrolladas apunte explícitamente al servidor de control de navegador <strong>host</strong>
mediante la herramienta del navegador (<code>target: "host"</code>). Deja esto desactivado si deseas un aislamiento estricto del sandbox.</p>
<p>Listas de permisos para el control remoto:</p>
<ul>
<li><code>allowedControlUrls</code>: URL de control exacto permitidas para <code>target: "custom"</code>.</li>
<li><code>allowedControlHosts</code>: nombres de host permitidos (sólo nombre de host, sin puerto).</li>
<li><code>allowedControlPorts</code>: puertos permitidos (por defecto: http=80, https=443).
  Por defecto: todas las listas permitidas no están definidas (sin restricción). <code>allowHostControl</code> por defecto es falso.</li>
</ul>
<h3 id="models-proveedores-personalizados-url-base"><code>models</code> (proveedores personalizados + URL base)<a class="headerlink" href="#models-proveedores-personalizados-url-base" title="Permanent link">&para;</a></h3>
<p>OpenClaw utiliza el catálogo de modelos <strong>pi-coding-agent</strong>. Puede añadir proveedores personalizados
(LiteLLM, servidores locales compatibles con OpenAI, proxies Antrópicos, etc.) escribiendo
<code>~/.openclaw/agents/&lt;agentId&gt;/agent/models.json</code> o definiendo el mismo esquema dentro de tu configuración
OpenClaw bajo <code>models.providers</code>.
Vista general de proveedor por proveedor + ejemplos: <a href="../../concepts/model-providers">/concepts/model-providers</a>.</p>
<p>Cuando <code>models.providers</code> está presente, OpenClaw escribe/combina un <code>models.json</code> en
<code>~/.openclaw/agents/&lt;agentId&gt;/agent/</code> al iniciar:</p>
<ul>
<li>comportamiento por defecto: <strong>fusionar</strong> (mantiene a los proveedores existentes, sobrescritos en el nombre)</li>
<li>establecer <code>models.mode: "reemplazar"</code> para sobreescribir el contenido del archivo</li>
</ul>
<p>Seleccione el modelo a través de <code>agents.defaults.model.primary</code> (proveedor/modelo).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="p">{</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;custom-proxy/llama-3.1-8b&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="w">        </span><span class="nv">&quot;custom-proxy/llama-3.1-8b&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;merge&quot;</span><span class="p">,</span>
<a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a><span class="w">      </span><span class="nv">&quot;custom-proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://localhost:4000/v1&quot;</span><span class="p">,</span>
<a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;LITELLM_KEY&quot;</span><span class="p">,</span>
<a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a><span class="w">        </span><span class="nv">api</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai-completions&quot;</span><span class="p">,</span>
<a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-79-18" name="__codelineno-79-18" href="#__codelineno-79-18"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-79-19" name="__codelineno-79-19" href="#__codelineno-79-19"></a><span class="w">            </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;llama-3.1-8b&quot;</span><span class="p">,</span>
<a id="__codelineno-79-20" name="__codelineno-79-20" href="#__codelineno-79-20"></a><span class="w">            </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Llama 3.1 8B&quot;</span><span class="p">,</span>
<a id="__codelineno-79-21" name="__codelineno-79-21" href="#__codelineno-79-21"></a><span class="w">            </span><span class="nv">reasoning</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-79-22" name="__codelineno-79-22" href="#__codelineno-79-22"></a><span class="w">            </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">],</span>
<a id="__codelineno-79-23" name="__codelineno-79-23" href="#__codelineno-79-23"></a><span class="w">            </span><span class="nv">cost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">output</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheRead</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheWrite</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-79-24" name="__codelineno-79-24" href="#__codelineno-79-24"></a><span class="w">            </span><span class="nv">contextWindow</span><span class="p">:</span><span class="w"> </span><span class="mf">128000</span><span class="p">,</span>
<a id="__codelineno-79-25" name="__codelineno-79-25" href="#__codelineno-79-25"></a><span class="w">            </span><span class="nv">maxTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">32000</span><span class="p">,</span>
<a id="__codelineno-79-26" name="__codelineno-79-26" href="#__codelineno-79-26"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-79-27" name="__codelineno-79-27" href="#__codelineno-79-27"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-79-28" name="__codelineno-79-28" href="#__codelineno-79-28"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-79-29" name="__codelineno-79-29" href="#__codelineno-79-29"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-79-30" name="__codelineno-79-30" href="#__codelineno-79-30"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-79-31" name="__codelineno-79-31" href="#__codelineno-79-31"></a><span class="p">}</span>
</code></pre></div>
<h3 id="codigo-abierto-zen-proxy-multimodelo">Código abierto Zen (proxy multimodelo)<a class="headerlink" href="#codigo-abierto-zen-proxy-multimodelo" title="Permanent link">&para;</a></h3>
<p>OpenCode Zen es una pasarela multimodelo con puntos finales por modelo. OpenClaw usa
el proveedor integrado <code>opencode</code> de pi-ai; establece <code>OPENCODE_API_KEY</code> (o
<code>OPENCODE_ZEN_API_KEY</code>) de <a href="https://opencode.ai/auth">https://opencode.ai/auth</a>.</p>
<p>Notas:</p>
<ul>
<li>Las referencias de modelos usan <code>opencode/&lt;modelId&gt;</code> (ejemplo: <code>opencode/claude-op)[video] 4-6</code>).</li>
<li>Si activas una lista permitida a través de <code>agents.defaults.models</code>, añade cada modelo que planeas usar.</li>
<li>Atajo: <code>openclaw a bordo --auth-choice opencode-zen</code>.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="p">{</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;opencode/claude-opichard 4-6&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="w">      </span><span class="nv">modelos</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;opencode/claude-op)[video] 4-6&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Opus&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="p">}</span>
</code></pre></div>
<h3 id="zai-glm-47-soporte-para-alias">Z.AI (GLM-4.7) — Soporte para alias<a class="headerlink" href="#zai-glm-47-soporte-para-alias" title="Permanent link">&para;</a></h3>
<p>Los modelos Z.AI están disponibles a través del proveedor integrado <code>zai</code>. Establezca <code>ZAI_API_KEY</code>
en su entorno y haga referencia al modelo por proveedor/modelo.</p>
<p>Atajo: <code>openclaw a bordo --auth-choice zai-api-key</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="p">{</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;zai/glm-4.7&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;zai/glm-4.7&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li><code>z.ai/*</code> y <code>z-ai/*</code> son alias aceptados y normalizan a <code>zai/*</code>.</li>
<li>Si <code>ZAI_API_KEY</code> no se encuentra, las peticiones a <code>zai/*</code> fallarán con un error de autenticación en tiempo de ejecución.</li>
<li>Error de ejemplo: <code>No hay clave API para el proveedor "zai".</code></li>
<li>El endpoint general de la API de Z.AI es <code>https://api.z.ai/api/paas/v4</code>. Las solicitudes de codificación
  de GLM usan el endpoint de codificación dedicado <code>https://api.z.ai/api/coding/paas/v4</code>.
  El proveedor integrado <code>zai</code> utiliza el punto final de codificación. Si necesita el extremo general
  , defina un proveedor personalizado en <code>models.providers</code> con la URL base
  sobrescribir (ver la sección de proveedores personalizados de arriba).</li>
<li>Usar un marcador de posición falso en docs/configs; nunca comprometer claves API reales.</li>
</ul>
<h3 id="moonshot-ai-kimi">Moonshot AI (Kimi)<a class="headerlink" href="#moonshot-ai-kimi" title="Permanent link">&para;</a></h3>
<p>Usar el punto final compatible con OpenAI de Moonshot:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="p">{</span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">MOONSHOT_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sk-...&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-5" name="__codelineno-82-5" href="#__codelineno-82-5"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;moonshot/kimi-k2.5&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-82-6" name="__codelineno-82-6" href="#__codelineno-82-6"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;moonshot/kimi-k2.5&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Kimi K2.5&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-82-7" name="__codelineno-82-7" href="#__codelineno-82-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-82-8" name="__codelineno-82-8" href="#__codelineno-82-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-82-9" name="__codelineno-82-9" href="#__codelineno-82-9"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-10" name="__codelineno-82-10" href="#__codelineno-82-10"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;merge&quot;</span><span class="p">,</span>
<a id="__codelineno-82-11" name="__codelineno-82-11" href="#__codelineno-82-11"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-12" name="__codelineno-82-12" href="#__codelineno-82-12"></a><span class="w">      </span><span class="nv">moonshot</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-13" name="__codelineno-82-13" href="#__codelineno-82-13"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://api.moonshot.ai/v1&quot;</span><span class="p">,</span>
<a id="__codelineno-82-14" name="__codelineno-82-14" href="#__codelineno-82-14"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${MOONSHOT_API_KEY}&quot;</span><span class="p">,</span>
<a id="__codelineno-82-15" name="__codelineno-82-15" href="#__codelineno-82-15"></a><span class="w">        </span><span class="nv">api</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai-completions&quot;</span><span class="p">,</span>
<a id="__codelineno-82-16" name="__codelineno-82-16" href="#__codelineno-82-16"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-82-17" name="__codelineno-82-17" href="#__codelineno-82-17"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-82-18" name="__codelineno-82-18" href="#__codelineno-82-18"></a><span class="w">            </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;kimi-k2.5&quot;</span><span class="p">,</span>
<a id="__codelineno-82-19" name="__codelineno-82-19" href="#__codelineno-82-19"></a><span class="w">            </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Kimi K2.5&quot;</span><span class="p">,</span>
<a id="__codelineno-82-20" name="__codelineno-82-20" href="#__codelineno-82-20"></a><span class="w">            </span><span class="nv">reasoning</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-82-21" name="__codelineno-82-21" href="#__codelineno-82-21"></a><span class="w">            </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">],</span>
<a id="__codelineno-82-22" name="__codelineno-82-22" href="#__codelineno-82-22"></a><span class="w">            </span><span class="nv">cost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">output</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheRead</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheWrite</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-82-23" name="__codelineno-82-23" href="#__codelineno-82-23"></a><span class="w">            </span><span class="nv">contextWindow</span><span class="p">:</span><span class="w"> </span><span class="mf">256000</span><span class="p">,</span>
<a id="__codelineno-82-24" name="__codelineno-82-24" href="#__codelineno-82-24"></a><span class="w">            </span><span class="nv">maxTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">8192</span><span class="p">,</span>
<a id="__codelineno-82-25" name="__codelineno-82-25" href="#__codelineno-82-25"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-82-26" name="__codelineno-82-26" href="#__codelineno-82-26"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-82-27" name="__codelineno-82-27" href="#__codelineno-82-27"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-82-28" name="__codelineno-82-28" href="#__codelineno-82-28"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-82-29" name="__codelineno-82-29" href="#__codelineno-82-29"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-82-30" name="__codelineno-82-30" href="#__codelineno-82-30"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Establece <code>MOONSHOT_API_KEY</code> en el entorno o usa <code>openclaw a bordo --auth-choice moonshot-api-key</code>.</li>
<li>Modelo ref: <code>moonshot/kimi-k2.5</code>.</li>
<li>Para el punto final de China, tampoco:</li>
<li>Ejecuta <code>openclaw a bordo --auth-choice moonshot-api-key-cn</code> (asistente establecerá <code>https://api.moonshot.cn/v1</code>), o</li>
<li>Configura manualmente <code>baseUrl: "https://api.moonshot.cn/v1"</code> en <code>models.providers.moonshot</code>.</li>
</ul>
<h3 id="kimi-coding">Kimi Coding<a class="headerlink" href="#kimi-coding" title="Permanent link">&para;</a></h3>
<p>Usar el punto final de codificación Kimi de Moonshot AI (proveedor integrado compatible con Antropica):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="p">{</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">KIMI_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sk-...&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;kimi-coding/k2p5&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;kimi-coding/k2p5&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Kimi K2.5&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Establece <code>KIMI_API_KEY</code> en el entorno o usa <code>openclaw a bordo --auth-choice kimi-code-api-key</code>.</li>
<li>Modelo ref: <code>kimi-coding/k2p5</code>.</li>
</ul>
<h3 id="sintetico-compatible-con-antropicos">Sintético (compatible con Antrópicos)<a class="headerlink" href="#sintetico-compatible-con-antropicos" title="Permanent link">&para;</a></h3>
<p>Usa el punto final compatible con Synthetic's Anthropic:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="p">{</span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">SYNTHETIC_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sk-...&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">  </span><span class="nv">agents</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="w">    </span><span class="nv">defaults</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a><span class="w">      </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;synthetic/hf:MiniMaxAI/MiniMax-M2.1&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a><span class="w">      </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">&quot;synthetic/hf:MiniMaxAI/MiniMax-M2.1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;MiniMax M2.1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-84-8" name="__codelineno-84-8" href="#__codelineno-84-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-84-9" name="__codelineno-84-9" href="#__codelineno-84-9"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-10" name="__codelineno-84-10" href="#__codelineno-84-10"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;merge&quot;</span><span class="p">,</span>
<a id="__codelineno-84-11" name="__codelineno-84-11" href="#__codelineno-84-11"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-12" name="__codelineno-84-12" href="#__codelineno-84-12"></a><span class="w">      </span><span class="nv">synthetic</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-13" name="__codelineno-84-13" href="#__codelineno-84-13"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://api.synthetic.new/anthropic&quot;</span><span class="p">,</span>
<a id="__codelineno-84-14" name="__codelineno-84-14" href="#__codelineno-84-14"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${SYNTHETIC_API_KEY}&quot;</span><span class="p">,</span>
<a id="__codelineno-84-15" name="__codelineno-84-15" href="#__codelineno-84-15"></a><span class="w">        </span><span class="nv">api</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic-messages&quot;</span><span class="p">,</span>
<a id="__codelineno-84-16" name="__codelineno-84-16" href="#__codelineno-84-16"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-84-17" name="__codelineno-84-17" href="#__codelineno-84-17"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-84-18" name="__codelineno-84-18" href="#__codelineno-84-18"></a><span class="w">            </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hf:MiniMaxAI/MiniMax-M2.1&quot;</span><span class="p">,</span>
<a id="__codelineno-84-19" name="__codelineno-84-19" href="#__codelineno-84-19"></a><span class="w">            </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;MiniMax M2.1&quot;</span><span class="p">,</span>
<a id="__codelineno-84-20" name="__codelineno-84-20" href="#__codelineno-84-20"></a><span class="w">            </span><span class="nv">reasoning</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-84-21" name="__codelineno-84-21" href="#__codelineno-84-21"></a><span class="w">            </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">],</span>
<a id="__codelineno-84-22" name="__codelineno-84-22" href="#__codelineno-84-22"></a><span class="w">            </span><span class="nv">cost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">output</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheRead</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheWrite</span><span class="p">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-84-23" name="__codelineno-84-23" href="#__codelineno-84-23"></a><span class="w">            </span><span class="nv">contextWindow</span><span class="p">:</span><span class="w"> </span><span class="mf">192000</span><span class="p">,</span>
<a id="__codelineno-84-24" name="__codelineno-84-24" href="#__codelineno-84-24"></a><span class="w">            </span><span class="nv">maxTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">65536</span><span class="p">,</span>
<a id="__codelineno-84-25" name="__codelineno-84-25" href="#__codelineno-84-25"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-84-26" name="__codelineno-84-26" href="#__codelineno-84-26"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-84-27" name="__codelineno-84-27" href="#__codelineno-84-27"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-84-28" name="__codelineno-84-28" href="#__codelineno-84-28"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-84-29" name="__codelineno-84-29" href="#__codelineno-84-29"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-84-30" name="__codelineno-84-30" href="#__codelineno-84-30"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Establece <code>SYNTHETIC_API_KEY</code> o usa <code>openclaw a bordo --auth-choice synthetic-api-key</code>.</li>
<li>Modelo ref: <code>synthetic/hf:MiniMaxAI/MiniMax-M2.1</code>.</li>
<li>La URL base debe omitir <code>/v1</code> porque el cliente Antrópico lo añade.</li>
</ul>
<h3 id="modelos-locales-lm-studio-configuracion-recomendada">Modelos locales (LM Studio) — configuración recomendada<a class="headerlink" href="#modelos-locales-lm-studio-configuracion-recomendada" title="Permanent link">&para;</a></h3>
<p>Vea <a href="../../gateway/local-models">/gateway/local-models</a> para la guía local actual. TL;DR: ejecuta MiniMax M2.1 a través de LM Studio Responses API con hardware serio; mantén los modelos alojados fusionados por segunda vez.</p>
<h3 id="minimax-m21">MiniMax M2.1<a class="headerlink" href="#minimax-m21" title="Permanent link">&para;</a></h3>
<p>Usar MiniMax M2.1 directamente sin LM Studio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="p">{</span>
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">  </span><span class="nv">agent</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="nv">model</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">primary</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;minimax/MiniMax-M2.1&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">    </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">      </span><span class="nv">&quot;anthropic/claude-opus-4-6&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Opus&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="w">      </span><span class="nv">&quot;minimax/MiniMax-M2.1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">alias</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Minimax&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w">  </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;merge&quot;</span><span class="p">,</span>
<a id="__codelineno-85-11" name="__codelineno-85-11" href="#__codelineno-85-11"></a><span class="w">    </span><span class="nv">providers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-12" name="__codelineno-85-12" href="#__codelineno-85-12"></a><span class="w">      </span><span class="nv">minimax</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-85-13" name="__codelineno-85-13" href="#__codelineno-85-13"></a><span class="w">        </span><span class="nv">baseUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://api.minimax.io/anthropic&quot;</span><span class="p">,</span>
<a id="__codelineno-85-14" name="__codelineno-85-14" href="#__codelineno-85-14"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${MINIMAX_API_KEY}&quot;</span><span class="p">,</span>
<a id="__codelineno-85-15" name="__codelineno-85-15" href="#__codelineno-85-15"></a><span class="w">        </span><span class="nv">api</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;anthropic-messages&quot;</span><span class="p">,</span>
<a id="__codelineno-85-16" name="__codelineno-85-16" href="#__codelineno-85-16"></a><span class="w">        </span><span class="nv">models</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-85-17" name="__codelineno-85-17" href="#__codelineno-85-17"></a><span class="w">          </span><span class="p">{</span>
<a id="__codelineno-85-18" name="__codelineno-85-18" href="#__codelineno-85-18"></a><span class="w">            </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;MiniMax-M2.1&quot;</span><span class="p">,</span>
<a id="__codelineno-85-19" name="__codelineno-85-19" href="#__codelineno-85-19"></a><span class="w">            </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;MiniMax M2.1&quot;</span><span class="p">,</span>
<a id="__codelineno-85-20" name="__codelineno-85-20" href="#__codelineno-85-20"></a><span class="w">            </span><span class="nv">reasoning</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<a id="__codelineno-85-21" name="__codelineno-85-21" href="#__codelineno-85-21"></a><span class="w">            </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;text&quot;</span><span class="p">],</span>
<a id="__codelineno-85-22" name="__codelineno-85-22" href="#__codelineno-85-22"></a><span class="w">            </span><span class="c1">// Pricing: update in models.json if you need exact cost tracking.</span>
<a id="__codelineno-85-23" name="__codelineno-85-23" href="#__codelineno-85-23"></a><span class="w">            </span><span class="nv">cost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">input</span><span class="p">:</span><span class="w"> </span><span class="mf">15</span><span class="p">,</span><span class="w"> </span><span class="nv">output</span><span class="p">:</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheRead</span><span class="p">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nv">cacheWrite</span><span class="p">:</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-85-24" name="__codelineno-85-24" href="#__codelineno-85-24"></a><span class="w">            </span><span class="nv">contextWindow</span><span class="p">:</span><span class="w"> </span><span class="mf">200000</span><span class="p">,</span>
<a id="__codelineno-85-25" name="__codelineno-85-25" href="#__codelineno-85-25"></a><span class="w">            </span><span class="nv">maxTokens</span><span class="p">:</span><span class="w"> </span><span class="mf">8192</span><span class="p">,</span>
<a id="__codelineno-85-26" name="__codelineno-85-26" href="#__codelineno-85-26"></a><span class="w">          </span><span class="p">},</span>
<a id="__codelineno-85-27" name="__codelineno-85-27" href="#__codelineno-85-27"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-85-28" name="__codelineno-85-28" href="#__codelineno-85-28"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-85-29" name="__codelineno-85-29" href="#__codelineno-85-29"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-85-30" name="__codelineno-85-30" href="#__codelineno-85-30"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-85-31" name="__codelineno-85-31" href="#__codelineno-85-31"></a><span class="p">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Establece la variable de entorno <code>MINIMAX_API_KEY</code> o usa <code>openclaw a bordo --auth-choice minimax-api</code>.</li>
<li>Modelo disponible: <code>MiniMax-M2.1</code> (por defecto).</li>
<li>Actualiza los precios en <code>models.json</code> si necesitas un seguimiento exacto de costes.</li>
</ul>
<h3 id="cerebras-glm-46-47">Cerebras (GLM 4.6 / 4.7)<a class="headerlink" href="#cerebras-glm-46-47" title="Permanent link">&para;</a></h3>
<p>Usar Cerebras a través de su punto final compatible con OpenAI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="p">{</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">  </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">CEREBRAS_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;sk-... },</span>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="s">  agents: {</span>
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="s">    defaults: {</span>
<a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="s">      model: {</span>
<a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="s">        primary: &quot;</span><span class="err">cerebras/zai-glm</span><span class="mf">-4.</span><span class="w"> </span><span class="s">&quot;,</span>
<a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="s">        fallos: [&quot;</span><span class="err">cerebras/zai-glm</span><span class="mf">-4.</span><span class="w"> </span><span class="s">&quot;],</span>
<a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="s">      },</span>
<a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="s">      modelos: {</span>
<a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="s">        &quot;</span><span class="err">cerebras/zai-glm</span><span class="mf">-4.</span><span class="w"> </span><span class="s">&quot;: { alias: &quot;</span><span class="err">GLM</span><span class="w"> </span><span class="mf">4.7</span><span class="w"> </span><span class="err">(Cerebras)</span><span class="s">&quot; },</span>
<a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="s">        &quot;</span><span class="err">cerebras/zai-glm</span><span class="mf">-4.6</span><span class="s">&quot;: { alias: &quot;</span><span class="err">GLM</span><span class="w"> </span><span class="mf">4.</span><span class="w"> </span><span class="err">(Cerebras)</span><span class="s">&quot; },</span>
<a id="__codelineno-86-12" name="__codelineno-86-12" href="#__codelineno-86-12"></a><span class="s">      },</span>
<a id="__codelineno-86-13" name="__codelineno-86-13" href="#__codelineno-86-13"></a><span class="s">    },</span>
<a id="__codelineno-86-14" name="__codelineno-86-14" href="#__codelineno-86-14"></a><span class="s">  },</span>
<a id="__codelineno-86-15" name="__codelineno-86-15" href="#__codelineno-86-15"></a><span class="s">  modelos: {</span>
<a id="__codelineno-86-16" name="__codelineno-86-16" href="#__codelineno-86-16"></a><span class="s">    modo: &quot;</span><span class="err">merge</span><span class="s">&quot;,</span>
<a id="__codelineno-86-17" name="__codelineno-86-17" href="#__codelineno-86-17"></a><span class="s">    proveedores: {</span>
<a id="__codelineno-86-18" name="__codelineno-86-18" href="#__codelineno-86-18"></a><span class="s">      cerebras: {</span>
<a id="__codelineno-86-19" name="__codelineno-86-19" href="#__codelineno-86-19"></a><span class="s">        baseUrl: &quot;</span><span class="err">https</span><span class="p">:</span><span class="c1">//api. erebras. i/v1&quot;,</span>
<a id="__codelineno-86-20" name="__codelineno-86-20" href="#__codelineno-86-20"></a><span class="w">        </span><span class="err">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;${CEREBRAS_API_KEY}&quot;</span><span class="p">,</span>
<a id="__codelineno-86-21" name="__codelineno-86-21" href="#__codelineno-86-21"></a><span class="w">        </span><span class="nv">api</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai-complettions&quot;</span><span class="p">,</span>
<a id="__codelineno-86-22" name="__codelineno-86-22" href="#__codelineno-86-22"></a><span class="w">        </span><span class="nv">modelos</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-86-23" name="__codelineno-86-23" href="#__codelineno-86-23"></a><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;zai-glm-4. &quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GLM 4. (Cerebras)&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-86-24" name="__codelineno-86-24" href="#__codelineno-86-24"></a><span class="w">          </span><span class="p">{</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;zai-glm-4.6&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GLM 4. (Cerebras)&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-86-25" name="__codelineno-86-25" href="#__codelineno-86-25"></a><span class="w">        </span><span class="p">],</span>
<a id="__codelineno-86-26" name="__codelineno-86-26" href="#__codelineno-86-26"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-86-27" name="__codelineno-86-27" href="#__codelineno-86-27"></a><span class="w">    </span><span class="p">}</span><span class="err">,</span>
<a id="__codelineno-86-28" name="__codelineno-86-28" href="#__codelineno-86-28"></a><span class="w">  </span><span class="err">},</span>
<a id="__codelineno-86-29" name="__codelineno-86-29" href="#__codelineno-86-29"></a><span class="err">}</span>
</code></pre></div>
<p>Notas:</p>
<ul>
<li>Usa <code>cerebras/zai-glm-4.7</code> para Cerebras; usa <code>zai/glm-4.7</code> para Z.AI direct.</li>
<li>Establece <code>CEREBRAS_API_KEY</code> en el entorno o la configuración.</li>
</ul>
<p>Notas:</p>
<ul>
<li>APIs soportadas: <code>openai-completions</code>, <code>openai-responses</code>, <code>anthropic-messages</code>,
  <code>google-generative-ai</code></li>
<li>Usa <code>authHeader: true</code> + <code>headers</code> para necesidades de autenticación personalizadas.</li>
<li>Reemplaza la raíz de configuración del agente con <code>OPENCLAW_AGENT_DIR</code> (o <code>PI_CODING_AGENT_DIR</code>)
  si quieres <code>models.json</code> almacenado en otro lugar (por defecto: <code>~/.openclaw/agents/main/agent</code>).</li>
</ul>
<h3 id="sesion"><code>sesión</code><a class="headerlink" href="#sesion" title="Permanent link">&para;</a></h3>
<p>Controla el alcance de la sesión, restablece la política, restablece los activadores y donde se escribe el almacén de sesiones.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="p">{</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">  </span><span class="nv">session</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="nv">scope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;per-sender&quot;</span><span class="p">,</span>
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="nv">dmScope</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span>
<a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="w">    </span><span class="nv">identityLinks</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="w">      </span><span class="nv">alice</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;telegram:123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;discord:987654321012345678&quot;</span><span class="p">],</span>
<a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="w">    </span><span class="nv">reset</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-9" name="__codelineno-87-9" href="#__codelineno-87-9"></a><span class="w">      </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;daily&quot;</span><span class="p">,</span>
<a id="__codelineno-87-10" name="__codelineno-87-10" href="#__codelineno-87-10"></a><span class="w">      </span><span class="nv">atHour</span><span class="p">:</span><span class="w"> </span><span class="mf">4</span><span class="p">,</span>
<a id="__codelineno-87-11" name="__codelineno-87-11" href="#__codelineno-87-11"></a><span class="w">      </span><span class="nv">idleMinutes</span><span class="p">:</span><span class="w"> </span><span class="mf">60</span><span class="p">,</span>
<a id="__codelineno-87-12" name="__codelineno-87-12" href="#__codelineno-87-12"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-87-13" name="__codelineno-87-13" href="#__codelineno-87-13"></a><span class="w">    </span><span class="nv">resetByType</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-14" name="__codelineno-87-14" href="#__codelineno-87-14"></a><span class="w">      </span><span class="nv">thread</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;daily&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">atHour</span><span class="p">:</span><span class="w"> </span><span class="mf">4</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-15" name="__codelineno-87-15" href="#__codelineno-87-15"></a><span class="w">      </span><span class="nv">direct</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;idle&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">idleMinutes</span><span class="p">:</span><span class="w"> </span><span class="mf">240</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-16" name="__codelineno-87-16" href="#__codelineno-87-16"></a><span class="w">      </span><span class="nv">group</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;idle&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">idleMinutes</span><span class="p">:</span><span class="w"> </span><span class="mf">120</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-87-17" name="__codelineno-87-17" href="#__codelineno-87-17"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-87-18" name="__codelineno-87-18" href="#__codelineno-87-18"></a><span class="w">    </span><span class="nv">resetTriggers</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;/new&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/reset&quot;</span><span class="p">],</span>
<a id="__codelineno-87-19" name="__codelineno-87-19" href="#__codelineno-87-19"></a><span class="w">    </span><span class="c1">// Default is already per-agent under ~/.openclaw/agents/&lt;agentId&gt;/sessions/sessions.json</span>
<a id="__codelineno-87-20" name="__codelineno-87-20" href="#__codelineno-87-20"></a><span class="w">    </span><span class="c1">// You can override with {agentId} templating:</span>
<a id="__codelineno-87-21" name="__codelineno-87-21" href="#__codelineno-87-21"></a><span class="w">    </span><span class="nv">store</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/agents/{agentId}/sessions/sessions.json&quot;</span><span class="p">,</span>
<a id="__codelineno-87-22" name="__codelineno-87-22" href="#__codelineno-87-22"></a><span class="w">    </span><span class="c1">// Direct chats collapse to agent:&lt;agentId&gt;:&lt;mainKey&gt; (default: &quot;main&quot;).</span>
<a id="__codelineno-87-23" name="__codelineno-87-23" href="#__codelineno-87-23"></a><span class="w">    </span><span class="nv">mainKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;main&quot;</span><span class="p">,</span>
<a id="__codelineno-87-24" name="__codelineno-87-24" href="#__codelineno-87-24"></a><span class="w">    </span><span class="nv">agentToAgent</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-25" name="__codelineno-87-25" href="#__codelineno-87-25"></a><span class="w">      </span><span class="c1">// Max ping-pong reply turns between requester/target (0–5).</span>
<a id="__codelineno-87-26" name="__codelineno-87-26" href="#__codelineno-87-26"></a><span class="w">      </span><span class="nv">maxPingPongTurns</span><span class="p">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span>
<a id="__codelineno-87-27" name="__codelineno-87-27" href="#__codelineno-87-27"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-87-28" name="__codelineno-87-28" href="#__codelineno-87-28"></a><span class="w">    </span><span class="nv">sendPolicy</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-87-29" name="__codelineno-87-29" href="#__codelineno-87-29"></a><span class="w">      </span><span class="nv">rules</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nv">action</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;deny&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">match</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">channel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;discord&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">chatType</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;group&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}],</span>
<a id="__codelineno-87-30" name="__codelineno-87-30" href="#__codelineno-87-30"></a><span class="w">      </span><span class="nv">default</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;allow&quot;</span><span class="p">,</span>
<a id="__codelineno-87-31" name="__codelineno-87-31" href="#__codelineno-87-31"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-87-32" name="__codelineno-87-32" href="#__codelineno-87-32"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-87-33" name="__codelineno-87-33" href="#__codelineno-87-33"></a><span class="p">}</span>
</code></pre></div>
<p>Campos:</p>
<ul>
<li><code>mainKey</code>: tecla direct-chat (predeterminado: <code>"main"</code>). Útil cuando se quiere “renombrar” el hilo principal de DM sin cambiar <code>agentId</code>.</li>
<li>Nota de Sandbox: <code>agents.defaults.sandbox.mode: "non-main"</code> utiliza esta clave para detectar la sesión principal. Cualquier clave de sesión que no coincida con <code>mainKey</code> (grupos/canales) es sandboxed.</li>
<li><code>dmScope</code>: cómo agrupar las sesiones DM (por defecto: <code>"main"</code>).</li>
<li><code>main</code>: todas las DMs comparten la sesión principal para continuidad.</li>
<li><code>per-peer</code>: aísla DMs por el identificador del remitente a través de los canales.</li>
<li><code>por canal-par</code>: aislar DMs por canal + emisor (recomendado para entradas multiusuario).</li>
<li><code>por cuenta-canal-par</code>: aislar DMs por cuenta + canal + emisor (recomendado para entradas multicuenta).</li>
<li>Modo DM seguro (recomendado): establezca <code>session.dmScope: "per-channel-peer"</code> cuando varias personas pueden DM el bot (entradas compartidas, listas de permisos multipersona, o `dmPolicy: "open").</li>
<li><code>identityLinks</code>: mapea ids canónicos a los pares prefijados por el proveedor para que la misma persona comparta una sesión DM a través de los canales al usar <code>per-peer</code>, <code>per-channel-peer</code>, o <code>per-account-channel-peer</code>.</li>
<li>Ejemplo: <code>alice: ["telegram:123456789", "discord:987654321012345678"]</code>.</li>
<li><code>reset</code>: política de reinicio primario. Por defecto los reinicios diarios a las 4:00 AM hora local en el host de la puerta de enlace.</li>
<li><code>mode</code>: <code>daily</code> o <code>idle</code> (por defecto: <code>daily</code> cuando <code>reset</code> está presente).</li>
<li><code>atHour</code>: hora local (0-23) para el límite diario de reinicio.</li>
<li><code>idleMinutes</code>: desliza la ventana inactiva en minutos. Cuando se configuran tanto el reinicio diario como la inactividad, gana el que expire primero.</li>
<li><code>resetByType</code>: per-session overrides for <code>direct</code>, <code>group</code>, and <code>thread</code>. Legacy <code>dm</code> key is accepted as an alias for <code>direct</code>.</li>
<li>Si solo estableces <code>session.idleMinutes</code> legado sin ningún <code>reset</code>/<code>resetByType</code>, OpenClaw permanece en modo de sólo idle-only para compatibilidad con versiones anteriores.</li>
<li><code>heartbeatIdleMinutes</code>: anulación opcional de inactividad para las comprobaciones de latido cardiaco (restablecimiento diario aún se aplica cuando está activado).</li>
<li><code>agentToAgent.maxPingPongTurns</code>: vueltas máximas de respuesta entre solicitante/objetivo (0–5, por defecto 5).</li>
<li><code>sendPolicy.default</code>: <code>allow</code> o <code>deny</code> fallback cuando no coincide ninguna regla.</li>
<li><code>sendPolicy.rules[]</code>: match by <code>channel</code>, <code>chatType</code> (<code>direct|group|room</code>), or <code>keyPrefix</code> (e.g. <code>cron:</code>). Primero negar las ganancias; de lo contrario permitirá.</li>
</ul>
<h3 id="habilidades-configuracion-de-habilidades"><code>habilidades</code> (configuración de habilidades)<a class="headerlink" href="#habilidades-configuracion-de-habilidades" title="Permanent link">&para;</a></h3>
<p>Controla la lista de permisos empaquetados, instala preferencias, carpetas de habilidades extra y anula
habilidades. Se aplica a las habilidades <strong>empaquetadas</strong> y <code>~/.openclaw/skills</code> (las habilidades del espacio de trabajo
todavía ganan en conflictos de nombres).</p>
<p>Campos:</p>
<ul>
<li><code>allowBundled</code>: lista de permitidos opcional solo para skills <strong>incluidas</strong>. Si se establece, solo esas habilidades empaquetadas son elegibles (las habilidades gestionadas/del espacio de trabajo no se ven afectadas).</li>
<li><code>load.extraDirs</code>: directorios adicionales de Skills para escanear (menor precedencia).</li>
<li><code>install.preferBrew</code>: preferir instaladores de brew cuando estén disponibles (predeterminado: true).</li>
<li><code>install.nodeManager</code>: preferencia del instalador de node (<code>npm</code> | <code>pnpm</code> | <code>yarn</code>, por defecto: npm).</li>
<li><code>entries.&lt;skillKey&gt;</code>: anulaciones de configuración por habilidad.</li>
</ul>
<p>Campos por Skill:</p>
<ul>
<li><code>enabled</code>: establezca <code>false</code> para deshabilitar una Skill incluso si está integrada/instalada.</li>
<li><code>env</code>: variables de entorno inyectadas para la ejecución del agente (solo si no están ya configuradas).</li>
<li><code>apiKey</code>: conveniencia opcional para habilidades que declaran una variable env primaria (por ejemplo, <code>nano-banana-pro</code> → <code>GEMINI_API_KEY</code>).</li>
</ul>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="p">{</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">  </span><span class="nv">habilidades</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="nv">allowBundled</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;gemini&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;peekaboo&quot;</span><span class="p">],</span>
<a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">    </span><span class="nv">carga</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">      </span><span class="nv">extraDirs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;~/Projects/agent-scripts/skills&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~/Projects/oss/some-skill-pack/skills&quot;</span><span class="p">],</span>
<a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="w">    </span><span class="nv">instalar</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-8" name="__codelineno-88-8" href="#__codelineno-88-8"></a><span class="w">      </span><span class="nv">preferBrew</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-88-9" name="__codelineno-88-9" href="#__codelineno-88-9"></a><span class="w">      </span><span class="nv">nodeManager</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;npm&quot;</span><span class="p">,</span>
<a id="__codelineno-88-10" name="__codelineno-88-10" href="#__codelineno-88-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-88-11" name="__codelineno-88-11" href="#__codelineno-88-11"></a><span class="w">    </span><span class="nv">entradas</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-12" name="__codelineno-88-12" href="#__codelineno-88-12"></a><span class="w">      </span><span class="nv">&quot;nano-banana-pro&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-13" name="__codelineno-88-13" href="#__codelineno-88-13"></a><span class="w">        </span><span class="nv">apiKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GEMINI_KEY_HERE&quot;</span><span class="p">,</span>
<a id="__codelineno-88-14" name="__codelineno-88-14" href="#__codelineno-88-14"></a><span class="w">        </span><span class="nv">env</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-15" name="__codelineno-88-15" href="#__codelineno-88-15"></a><span class="w">          </span><span class="nv">GEMINI_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GEMINI_KEY_HERE&quot;</span><span class="p">,</span>
<a id="__codelineno-88-16" name="__codelineno-88-16" href="#__codelineno-88-16"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-88-17" name="__codelineno-88-17" href="#__codelineno-88-17"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-88-18" name="__codelineno-88-18" href="#__codelineno-88-18"></a><span class="w">      </span><span class="nv">peekaboo</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-88-19" name="__codelineno-88-19" href="#__codelineno-88-19"></a><span class="w">      </span><span class="nv">sag</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-88-20" name="__codelineno-88-20" href="#__codelineno-88-20"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-88-21" name="__codelineno-88-21" href="#__codelineno-88-21"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-88-22" name="__codelineno-88-22" href="#__codelineno-88-22"></a><span class="p">}</span>
</code></pre></div>
<h3 id="plugins-extensiones"><code>plugins</code> (extensiones)<a class="headerlink" href="#plugins-extensiones" title="Permanent link">&para;</a></h3>
<p>Controla el descubrimiento del plugin, permite/deny, y la configuración por plugin. Los plugins se cargan desde <code>~/.openclaw/extensions</code>, <code>&lt;workspace&gt;/.openclaw/extensions</code>, además de cualquier entrada en <code>plugins.load.paths</code>. <strong>Los cambios en la configuración requieren un reinicio de la puerta de enlace.</strong>
Ver <a href="../../tools/plugin">/plugin</a> para un uso completo.</p>
<p>Campos:</p>
<ul>
<li><code>enabled</code>: interruptor maestro para la carga del plugin (por defecto: true).</li>
<li><code>permitir</code>: lista opcional permitida de ID de plugin; cuando se establece, sólo la carga de plugins listados.</li>
<li><code>deny</code>: lista de denegación opcional de ids del plugin (negar ganas).</li>
<li><code>load.paths</code>: archivos extra de plugins o directorios a cargar (absoluto o <code>~</code>).</li>
<li><code>entradas.&lt;pluginId&gt;</code>: por plugin anula.</li>
<li><code>enabled</code>: establece <code>false</code> a desactivar.</li>
<li><code>config</code>: objeto de configuración específico del plugin (validado por el plugin si se proporciona).</li>
</ul>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="p">{</span>
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="w">  </span><span class="nv">plugins</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w">    </span><span class="nv">activado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w">    </span><span class="nv">allow</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;voice-call&quot;</span><span class="p">],</span>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w">    </span><span class="nv">carga</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w">      </span><span class="nv">rutas</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;~/Projects/oss/voice-call-extension&quot;</span><span class="p">],</span>
<a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="nv">Entradas de</span>
<a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a><span class="nv">    </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-9" name="__codelineno-89-9" href="#__codelineno-89-9"></a><span class="w">      </span><span class="nv">&quot;voice-call&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-10" name="__codelineno-89-10" href="#__codelineno-89-10"></a><span class="w">        </span><span class="nv">habilitado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-89-11" name="__codelineno-89-11" href="#__codelineno-89-11"></a><span class="w">        </span><span class="nv">config</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-89-12" name="__codelineno-89-12" href="#__codelineno-89-12"></a><span class="w">          </span><span class="nv">provider</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;twilio&quot;</span><span class="p">,</span>
<a id="__codelineno-89-13" name="__codelineno-89-13" href="#__codelineno-89-13"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-89-14" name="__codelineno-89-14" href="#__codelineno-89-14"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-89-15" name="__codelineno-89-15" href="#__codelineno-89-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-89-16" name="__codelineno-89-16" href="#__codelineno-89-16"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-89-17" name="__codelineno-89-17" href="#__codelineno-89-17"></a><span class="p">}</span>
</code></pre></div>
<h3 id="browser-navegador-administrado-por-openclaw"><code>browser</code> (navegador administrado por openclaw)<a class="headerlink" href="#browser-navegador-administrado-por-openclaw" title="Permanent link">&para;</a></h3>
<p>OpenClaw puede iniciar una instancia de Chrome/Brave/Edge/Chromium <strong>dedicada y aislada</strong> para openclaw y exponer un pequeño servicio de control de bucles.
Los perfiles pueden apuntar a un navegador basado en Chromium <strong>remoto</strong> a través de <code>profiles.&lt;name&gt;.cdpUrl</code>. Los perfiles
Remoto son de solo conexión (iniciar/detener/restablecer están desactivados).</p>
<p><code>browser.cdpUrl</code> permanece para configuraciones legadas de un perfil único y como la base
esquema/host para perfiles que sólo establecen <code>cdpPort</code>.</p>
<p>Valores predeterminados:</p>
<ul>
<li>habilitado: <code>true</code></li>
<li>evaluateEnabled: <code>true</code> (establece <code>false</code> para desactivar <code>act:evaluate</code> y <code>wait --fn</code>)</li>
<li>servicio de control: loopback sólo (puerto derivado de <code>gateway.port</code>, predeterminado <code>18791</code>)</li>
<li>URL CDP: <code>http://127.0.0.1:18792</code> (servicio de control + 1, legado de un único perfil)</li>
<li>color del perfil: <code>#FF4500</code> (lobster-naranja)</li>
<li>Nota: el servidor de control es iniciado por el gateway en ejecución (menú OpenClaw.app o <code>openclaw gateway</code>).</li>
<li>Detectar automáticamente el orden: navegador predeterminado si se basa en Chromium; de lo contrario Chrome → Brazo → Borde → Chrome Canario.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="p">{</span>
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="w">  </span><span class="nv">browser</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">    </span><span class="nv">activado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">    </span><span class="nv">evaluateEnabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="w">    </span><span class="c1">// cdpUrl: &quot;http://127. .0. :18792&quot;, // legado un solo perfil anular</span>
<a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="w">    </span><span class="nv">defaultProfile</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;chrome&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">Perfiles</span>
<a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a><span class="nv">    </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a><span class="w">      </span><span class="nv">openclaw</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">cdpPort</span><span class="p">:</span><span class="w"> </span><span class="mf">18800</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#FF4500&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-90-9" name="__codelineno-90-9" href="#__codelineno-90-9"></a><span class="w">      </span><span class="nv">trabajo</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">cdpPort</span><span class="p">:</span><span class="w"> </span><span class="mf">18801</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#0066CC&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-90-10" name="__codelineno-90-10" href="#__codelineno-90-10"></a><span class="w">      </span><span class="nv">remote</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">cdpUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://10. .0.42:9222&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#00AA00&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-90-11" name="__codelineno-90-11" href="#__codelineno-90-11"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-90-12" name="__codelineno-90-12" href="#__codelineno-90-12"></a><span class="w">    </span><span class="nv">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#FF4500&quot;</span><span class="p">,</span>
<a id="__codelineno-90-13" name="__codelineno-90-13" href="#__codelineno-90-13"></a><span class="w">    </span><span class="c1">// Avanzado:</span>
<a id="__codelineno-90-14" name="__codelineno-90-14" href="#__codelineno-90-14"></a><span class="w">    </span><span class="c1">// sin cabeza: falso,</span>
<a id="__codelineno-90-15" name="__codelineno-90-15" href="#__codelineno-90-15"></a><span class="w">    </span><span class="c1">// noSandbox: false,</span>
<a id="__codelineno-90-16" name="__codelineno-90-16" href="#__codelineno-90-16"></a><span class="w">    </span><span class="c1">// executablePath: &quot;/Applications/Brave Browser. pp/Contents/MacOS/Brave Browser&quot;,</span>
<a id="__codelineno-90-17" name="__codelineno-90-17" href="#__codelineno-90-17"></a><span class="w">    </span><span class="c1">// Adjuntar solamente: false, // establecer verdadero cuando se túnel un CDP remoto a localhost</span>
<a id="__codelineno-90-18" name="__codelineno-90-18" href="#__codelineno-90-18"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-90-19" name="__codelineno-90-19" href="#__codelineno-90-19"></a><span class="p">}</span>
</code></pre></div>
<h3 id="ui-textpearance"><code>ui</code> Textpearance)<a class="headerlink" href="#ui-textpearance" title="Permanent link">&para;</a></h3>
<p>Color de acento opcional utilizado por las aplicaciones nativas para el cromo de la interfaz (por ejemplo, color burbuja del Modo Talk).</p>
<p>Si no se establece, los clientes vuelven a caer a una luz silenciada.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="p">{</span>
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="w">  </span><span class="nv">ui</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="w">    </span><span class="nv">seamColor</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#FF4500&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// hex (RRGGBB or #RRGGBB)</span>
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="w">    </span><span class="c1">// Optional: Control UI assistant identity override.</span>
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="w">    </span><span class="c1">// If unset, the Control UI uses the active agent identity (config or IDENTITY.md).</span>
<a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="w">    </span><span class="nv">assistant</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a><span class="w">      </span><span class="nv">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;OpenClaw&quot;</span><span class="p">,</span>
<a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="w">      </span><span class="nv">avatar</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CB&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// emoji, short text, or image URL/data URI</span>
<a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="gateway-modo-servidor-gateway-bind"><code>gateway</code> (modo servidor Gateway + bind)<a class="headerlink" href="#gateway-modo-servidor-gateway-bind" title="Permanent link">&para;</a></h3>
<p>Usa <code>gateway.mode</code> para declarar explícitamente si esta máquina debe ejecutar la puerta de enlace.</p>
<p>Valores predeterminados:</p>
<ul>
<li>modo: <strong>unset</strong> (tratado como “no auto-iniciar”)</li>
<li>bind: <code>loopback</code></li>
<li>puerto: <code>18789</code> (puerto único para WS + HTTP)</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="p">{</span>
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;local&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// o &quot;remote&quot;</span>
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">    </span><span class="nv">port</span><span class="p">:</span><span class="w"> </span><span class="mf">18789</span><span class="p">,</span><span class="w"> </span><span class="c1">// WS + HTTP multiplex</span>
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">    </span><span class="nv">bind</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;loopback&quot;</span><span class="p">,</span>
<a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="c1">// controlUi: { enabled: true, basePath: &quot;/openclaw&quot; }</span>
<a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="c1">// auth: { mode: &quot;token&quot;, token: &quot;your-token&quot; } // token compuerta WS + Control UI access</span>
<a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="w">    </span><span class="c1">// tailscale: { mode: &quot;off&quot; | &quot;serve&quot; | &quot;funnel&quot; }</span>
<a id="__codelineno-92-9" name="__codelineno-92-9" href="#__codelineno-92-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-92-10" name="__codelineno-92-10" href="#__codelineno-92-10"></a><span class="p">}</span>
</code></pre></div>
<p>Controlar ruta base de la interfaz de usuario:</p>
<ul>
<li><code>gateway.controlUi.basePath</code> establece el prefijo URL donde se sirve la interfaz de control.</li>
<li>Ejemplos: <code>"/ui"</code>, <code>"/openclaw"</code>, <code>"/apps/openclaw"</code>.</li>
<li>Por defecto: root (<code>/</code>) (sin cambiar).</li>
<li><code>gateway.controlUi.root</code> establece la raíz del sistema de archivos para los activos de la interfaz de control (por defecto: <code>dist/control-ui</code>).</li>
<li><code>gateway.controlUi.allowInsecureAuth</code> permite la autenticación de sólo token-only para la interfaz de control cuando se omite la identidad del dispositivo
  (normalmente sobre HTTP). Predeterminado: <code>false</code>. HTTPS preferidos
  (Servicio de escala) o <code>127.0.0.1</code>.</li>
<li><code>gateway.controlUi.dangerouslyDisableDeviceAuth</code> deshabilita las verificaciones de identidad del dispositivo para la interfaz de control
  (sólo token/contraseña). Predeterminado: <code>false</code>. Solo rompe vidrio.</li>
</ul>
<p>Documentación relacionada:</p>
<ul>
<li><a href="../../web/control-ui">UI de control</a></li>
<li><a href="../../tools/web">Vista general de la Web</a></li>
<li><a href="../../gateway/tailscale">Tailscale</a></li>
<li><a href="../../gateway/remote">Acceso remoto</a></li>
</ul>
<p>Proxies de confianza:</p>
<ul>
<li><code>gateway.trustedProxies</code>: lista de IP proxy inversa que terminan TLS delante de la puerta de enlace.</li>
<li>Cuando una conexión viene de una de estas IPs, OpenClaw usa <code>x-forwarded-for</code> (o <code>x-real-ip</code>) para determinar la IP del cliente para comprobaciones de emparejamiento locales y comprobaciones HTTP auth/local.</li>
<li>Sólo listar los proxies que controlas completamente, y asegurarse de que <strong>sobreescriban</strong> entrante <code>x-forwarded-for</code>.</li>
</ul>
<p>Notas:</p>
<ul>
<li><code>openclaw gateway</code> se niega a iniciar a menos que <code>gateway.mode</code> esté establecido en <code>local</code> (o que pases la bandera de anulación).</li>
<li><code>gateway.port</code> controla el puerto multiplexado único usado para WebSocket + HTTP (interfaz de control, ganchos, A2UI).</li>
<li>Finalizaciones de OpenAI Chat: <strong>desactivado por defecto</strong>; habilitar con <code>gateway.http.endpoints.chatCompletions.enabled: true</code>.</li>
<li>Precedencia: <code>--port</code> &gt; <code>OPENCLAW_GATEWAY_PORT</code> &gt; <code>gateway.port</code> &gt; por defecto <code>18789</code>.</li>
<li>La autenticación de la pasarela es requerida por defecto (identificación del token/contraseña o escala de engranaje Serve). Los enlaces no-loopback requieren un token o contraseña compartidos.</li>
<li>El asistente de incorporación genera un token de puerta de enlace por defecto (incluso en bucle).</li>
<li><code>gateway.remote.token</code> es <strong>sólo</strong> para llamadas remotas a CLI; no habilita la autenticación de puerta de enlace local. <code>gateway.token</code> es ignorado.</li>
</ul>
<p>Auth y escala posterior:</p>
<ul>
<li><code>gateway.auth.mode</code> establece los requisitos de handshake (<code>token</code> o <code>password</code>). Cuando no se establece, la autenticación de token es asumida.</li>
<li><code>gateway.auth.token</code> almacena el token compartido para autenticación de token (usado por el CLI en la misma máquina).</li>
<li>Cuando se establece <code>gateway.auth.mode</code>, sólo se acepta ese método (además de cabeceras opcionales escala de carácter).</li>
<li><code>gateway.auth.password</code> puede establecerse aquí, o a través de <code>OPENCLAW_GATEWAY_PASSWORD</code> (recomendado).</li>
<li><code>gateway.auth.allowus-scale</code> permite que las cabeceras de identidad de Serve
  (<code>tailscale-user-login</code>) satisfagan la autenticación cuando la solicitud llega en bucle
  con <code>x-forwarded-for</code>, <code>x-forwarded-proto</code>, y <code>x-forwarded-host</code>. OpenClaw
  verifica la identidad resolviendo la dirección <code>x-forwarded-for</code> vía
  <code>tailscale whois</code> antes de aceptarla. Cuando es <code>true</code>, las solicitudes de Serve no necesitan
  un token/contraseña; establece <code>false</code> para requerir credenciales explícitas. Por defecto a
  <code>true</code> cuando <code>tailscale.mode = "serve"</code> y el modo de autenticación no es <code>password</code>.</li>
<li><code>gateway.tailscale.mode: "serve"</code> utiliza la escala de menú Serve (sólo tailnet, enlace de loopback).</li>
<li><code>gateway.tailscale.mode: "funnel"</code> expone el panel públicamente; requiere autenticación.</li>
<li><code>gateway.tailscale.resetOnExit</code> reinicia la configuración Serve/Funnel al apagar.</li>
</ul>
<p>Cliente remoto por defecto (CLI):</p>
<ul>
<li><code>gateway.remote.url</code> establece la URL predeterminada de Gateway WebSocket para llamadas CLI cuando <code>gateway.mode = "remote"</code>.</li>
<li><code>gateway.remote.transport</code> selecciona el transporte remoto macOS (por defecto <code>ssh</code>, <code>direct</code> para ws/wss). Cuando <code>direct</code>, <code>gateway.remote.url</code> debe ser <code>ws://</code> o <code>wss://</code>. <code>ws://host</code> por defecto al puerto <code>18789</code>.</li>
<li><code>gateway.remote.token</code> suministra el token para llamadas remotas (dejar unset para no autentica).</li>
<li><code>gateway.remote.password</code> proporciona la contraseña para llamadas remotas (dejar sin establecer para no autenticación).</li>
</ul>
<p>comportamiento de la aplicación macOS:</p>
<ul>
<li>OpenClaw.app observa <code>~/.openclaw/openclaw.json</code> y cambia modos en vivo cuando <code>gateway.mode</code> o <code>gateway.remote.url</code> cambia.</li>
<li>Si <code>gateway.mode</code> no está establecido pero <code>gateway.remote.url</code> está definido, la aplicación macOS lo trata como modo remoto.</li>
<li>Cuando cambias el modo de conexión en la aplicación macOS, escribe <code>gateway.mode</code> (y <code>gateway.remote.url</code> + <code>gateway.remote.transport</code> en modo remoto) de vuelta al archivo de configuración.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="p">{</span>
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;remote&quot;</span><span class="p">,</span>
<a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a><span class="w">    </span><span class="nv">remote</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-93-5" name="__codelineno-93-5" href="#__codelineno-93-5"></a><span class="w">      </span><span class="nv">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ws://gateway.tailnet:18789&quot;</span><span class="p">,</span>
<a id="__codelineno-93-6" name="__codelineno-93-6" href="#__codelineno-93-6"></a><span class="w">      </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-token&quot;</span><span class="p">,</span>
<a id="__codelineno-93-7" name="__codelineno-93-7" href="#__codelineno-93-7"></a><span class="w">      </span><span class="nv">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-password&quot;</span><span class="p">,</span>
<a id="__codelineno-93-8" name="__codelineno-93-8" href="#__codelineno-93-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-93-9" name="__codelineno-93-9" href="#__codelineno-93-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-93-10" name="__codelineno-93-10" href="#__codelineno-93-10"></a><span class="p">}</span>
</code></pre></div>
<p>Ejemplo de transporte directo (aplicación macOS):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="p">{</span>
<a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">    </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;remote&quot;</span><span class="p">,</span>
<a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="w">    </span><span class="nv">remote</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="w">      </span><span class="nv">transport</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;direct&quot;</span><span class="p">,</span>
<a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a><span class="w">      </span><span class="nv">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;wss://gateway.example.ts.net&quot;</span><span class="p">,</span>
<a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="w">      </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-token&quot;</span><span class="p">,</span>
<a id="__codelineno-94-8" name="__codelineno-94-8" href="#__codelineno-94-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-94-9" name="__codelineno-94-9" href="#__codelineno-94-9"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-94-10" name="__codelineno-94-10" href="#__codelineno-94-10"></a><span class="p">}</span>
</code></pre></div>
<h3 id="gatewayreload-configurar-recarga-caliente"><code>gateway.reload</code> (Configurar recarga caliente)<a class="headerlink" href="#gatewayreload-configurar-recarga-caliente" title="Permanent link">&para;</a></h3>
<p>El Gateway reproduce <code>~/.openclaw/openclaw.json</code> (o <code>OPENCLAW_CONFIG_PATH</code>) y aplica los cambios automáticamente.</p>
<p>Modos:</p>
<ul>
<li><code>hybrid</code> (por defecto): caliente aplicar cambios seguros; reiniciar el Gateway para cambios críticos.</li>
<li><code>hot</code>: sólo aplicar cambios hot-safe; log cuando se requiere un reinicio.</li>
<li><code>restart</code>: reinicie el Gateway en cualquier cambio de configuración.</li>
<li><code>apagado</code>: deshabilita recarga caliente.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="p">{</span>
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">  </span><span class="nv">gateway</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="nv">reload</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">      </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hybrid&quot;</span><span class="p">,</span>
<a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="w">      </span><span class="nv">debounceMs</span><span class="p">:</span><span class="w"> </span><span class="mf">300</span><span class="p">,</span>
<a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a><span class="p">}</span>
</code></pre></div>
<h4 id="matrix-de-recarga-caliente-archivos-impacto">Matrix de recarga caliente (archivos + impacto)<a class="headerlink" href="#matrix-de-recarga-caliente-archivos-impacto" title="Permanent link">&para;</a></h4>
<p>Archivos vistos:</p>
<ul>
<li><code>~/.openclaw/openclaw.json</code> (o <code>OPENCLAW_CONFIG_PATH</code>)</li>
</ul>
<p>Acceso directo (sin reinicio completo de la pasarela de enlaces):</p>
<ul>
<li><code>hooks</code> (webhook auth/path/mappings) + <code>hooks.gmail</code> (Gmail watcher reiniciado)</li>
<li><code>navegador</code> (reinicio del servidor de control del navegador)</li>
<li><code>cron</code> (reinicio del servicio cron + actualización simultánea)</li>
<li><code>agents.defaults.heartbeat</code> (runner heartbeat reiniciar)</li>
<li><code>web</code> (canal web de WhatsApp reiniciar)</li>
<li><code>telegram</code>, <code>discord</code>, <code>signal</code>, <code>imessage</code> (canal se reinicia)</li>
<li><code>agent</code>, <code>models</code>, <code>routing</code>, <code>messages</code>, <code>session</code>, <code>whatsapp</code>, <code>logging</code>, <code>skills</code>, <code>ui</code>, <code>talk</code>, <code>identity</code>, <code>wizard</code> (lecturas dinámicas)</li>
</ul>
<p>Requiere reiniciar la puerta de enlace completa:</p>
<ul>
<li><code>gateway</code> (port/bind/auth/control UI/tailscale)</li>
<li><code>puente</code> (legado)</li>
<li><code>descubrimiento</code></li>
<li><code>canvasHost</code></li>
<li><code>plugins</code></li>
<li>Cualquier ruta de configuración desconocida/no soportada (por defecto se reiniciará para el futuro)</li>
</ul>
<h3 id="aislamiento-multiple">Aislamiento múltiple<a class="headerlink" href="#aislamiento-multiple" title="Permanent link">&para;</a></h3>
<p>Para ejecutar múltiples pasarelas en un host (para redundancia o un bot de rescate), aislar estado por instancia + configuración y utilizar puertos únicos:</p>
<ul>
<li><code>OPENCLAW_CONFIG_PATH</code> (configuración por instancia)</li>
<li><code>OPENCLAW_STATE_DIR</code> (sesiones/créditos)</li>
<li><code>agents.defaults.workspace</code> (memorias)</li>
<li><code>gateway.port</code> (único por instancia)</li>
</ul>
<p>Banderas de conveniencia (CLI):</p>
<ul>
<li><code>openclaw --dev …</code> → usa <code>~/.openclaw-dev</code> + desplaza puertos de la base <code>19001</code></li>
<li><code>openclaw --profile &lt;name&gt; …</code> → usa <code>~/.openclaw-&lt;name&gt;</code> (puerto a través de config/env/flags)</li>
</ul>
<p>Ver [Enciclopedia de pasarela de pasarela (/gateway) para el mapeo de puertos derivados (pasarela/navegador/lienzo).
Ver <a href="../../gateway/multiple-gateways">Múltiples pasarelas</a> para detalles de aislamiento del puerto del navegador/CDP.</p>
<p>Ejemplo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="nv">OPENCLAW_CONFIG_PATH</span><span class="o">=</span>~/.openclaw/a.json<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="nv">OPENCLAW_STATE_DIR</span><span class="o">=</span>~/.openclaw-a<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a>puerta<span class="w"> </span>de<span class="w"> </span>enlace<span class="w"> </span>de<span class="w"> </span>openclaw<span class="w"> </span>--port<span class="w"> </span><span class="m">19001</span>
</code></pre></div>
<h3 id="hooks-webhooks-de-gateway"><code>hooks</code> (webhooks de Gateway)<a class="headerlink" href="#hooks-webhooks-de-gateway" title="Permanent link">&para;</a></h3>
<p>Habilitar un simple punto final de webhook HTTP en el servidor HTTP de Gateway.</p>
<p>Valores predeterminados:</p>
<ul>
<li>habilitado: <code>false</code></li>
<li>ruta: <code>/hooks</code></li>
<li>maxBodyBytes: <code>262144</code> (256 KB)</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="p">{</span>
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="w">  </span><span class="nv">hooks</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">    </span><span class="nv">actived</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">    </span><span class="nv">token</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;shared-secret&quot;</span><span class="p">,</span>
<a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="w">    </span><span class="nv">ruta</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/hooks&quot;</span><span class="p">,</span>
<a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="w">    </span><span class="nv">presets</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;gmail&quot;</span><span class="p">],</span>
<a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a><span class="w">    </span><span class="nv">transformsDir</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/. penclaw/ganchos&quot;</span><span class="p">,</span>
<a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a><span class="w">    </span><span class="nv">mapeos</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-97-9" name="__codelineno-97-9" href="#__codelineno-97-9"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-97-10" name="__codelineno-97-10" href="#__codelineno-97-10"></a><span class="w">        </span><span class="nv">match</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gmail&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-97-11" name="__codelineno-97-11" href="#__codelineno-97-11"></a><span class="w">        </span><span class="nv">acción</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;agente&quot;</span><span class="p">,</span>
<a id="__codelineno-97-12" name="__codelineno-97-12" href="#__codelineno-97-12"></a><span class="w">        </span><span class="nv">wakeMode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ahora&quot;</span><span class="p">,</span>
<a id="__codelineno-97-13" name="__codelineno-97-13" href="#__codelineno-97-13"></a><span class="w">        </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Gmail&quot;</span><span class="p">,</span>
<a id="__codelineno-97-14" name="__codelineno-97-14" href="#__codelineno-97-14"></a><span class="w">        </span><span class="nv">sessionKey</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hook:gmail:{{messages[0].id}}&quot;</span><span class="p">,</span>
<a id="__codelineno-97-15" name="__codelineno-97-15" href="#__codelineno-97-15"></a><span class="w">        </span><span class="nv">messageTemplate</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;De: {{messages[0].from}}</span><span class="se">\n</span><span class="s">Asunto: {{messages[0].subject}}</span><span class="se">\n</span><span class="s">{{messages[0].snippet}}&quot;</span><span class="p">,</span>
<a id="__codelineno-97-16" name="__codelineno-97-16" href="#__codelineno-97-16"></a><span class="w">        </span><span class="nv">deliver</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-97-17" name="__codelineno-97-17" href="#__codelineno-97-17"></a><span class="w">        </span><span class="nv">channel</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;last&quot;</span><span class="p">,</span>
<a id="__codelineno-97-18" name="__codelineno-97-18" href="#__codelineno-97-18"></a><span class="w">        </span><span class="nv">modelo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openai/gpt-5. -mini&quot;</span><span class="p">,</span>
<a id="__codelineno-97-19" name="__codelineno-97-19" href="#__codelineno-97-19"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-97-20" name="__codelineno-97-20" href="#__codelineno-97-20"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-97-21" name="__codelineno-97-21" href="#__codelineno-97-21"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-97-22" name="__codelineno-97-22" href="#__codelineno-97-22"></a><span class="p">}</span>
</code></pre></div>
<p>Las solicitudes deben incluir el token gancho:</p>
<ul>
<li><code>Autorización: portador &lt;token&gt;</code> <strong>o</strong></li>
<li><code>x-openclaw-token: &lt;token&gt;</code></li>
</ul>
<p>Puntos finales:</p>
<ul>
<li><code>POST /hooks/wake</code> → <code>{ texto, mode?: "ahora"|"next-heartbeat" }</code></li>
<li><code>POST /hooks/agent</code> → <code>{ message, name?, sessionKey?, wakeMode?, deliver?, channel?, to?, model?, thinking?, timeoutSegundds? }</code></li>
<li><code>POST /hooks/&lt;name&gt;</code> → resuelto a través de <code>hooks.mappings</code></li>
</ul>
<p><code>/hooks/agent</code> siempre publica un resumen en la sesión principal (y opcionalmente puede activar un latido inmediato a través de `wakeMode: "ahora").</p>
<p>Notas de mapeo:</p>
<ul>
<li><code>match.path</code> coincide con la subruta después de <code>/hooks</code> (por ejemplo, <code>/hooks/gmail</code> → <code>gmail</code>).</li>
<li><code>match.source</code> coincide con un campo de carga (por ejemplo, <code>{ source: "gmail" }</code>) para que puedas usar una ruta genérica <code>/hooks/ingest</code>.</li>
<li>Plantillas como <code>{{messages[0].subject}}</code> leídas desde la carga útil.</li>
<li><code>transform</code> puede apuntar a un módulo JS/TS que devuelve una acción hook.</li>
<li><code>deliver: true</code> envía la respuesta final a un canal; <code>channel</code> por defecto a <code>last</code> (se vuelve a WhatsApp).</li>
<li>Si no hay una ruta de entrega previa, establezca explícitamente <code>channel</code> + <code>to</code> (requerido para Telegram/Discord/Google Chat/Slack/Signal/iMessage/MS Teams).</li>
<li><code>model</code> anula el LLM para este gancho de ejecución (<code>provider/model</code> o alias; debe permitirse si <code>agents.defaults.models</code> está establecido).</li>
</ul>
<p>Configuración del ayudante de Gmail (usado por <code>openclaw webhooks gmail setup</code> / <code>run</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="p">{</span>
<a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="w">  </span><span class="nv">hooks</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">    </span><span class="nv">gmail</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">      </span><span class="nv">accountt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openclaw@gmail. om&quot;</span><span class="p">,</span>
<a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">      </span><span class="nv">tema</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;projects/&lt;project-id&gt;/topics/gog-gmail-watch&quot;</span><span class="p">,</span>
<a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">      </span><span class="nv">suscripción</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;gog-gmail-watch-push&quot;</span><span class="p">,</span>
<a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="w">      </span><span class="nv">pushToken</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;shared-push-token&quot;</span><span class="p">,</span>
<a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="w">      </span><span class="nv">hookUrl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://127. .0.1:18789/hooks/gmail&quot;</span><span class="p">,</span>
<a id="__codelineno-98-9" name="__codelineno-98-9" href="#__codelineno-98-9"></a><span class="w">      </span><span class="nv">includeBody</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-98-10" name="__codelineno-98-10" href="#__codelineno-98-10"></a><span class="w">      </span><span class="nv">maxBytes</span><span class="p">:</span><span class="w"> </span><span class="mf">20000</span><span class="p">,</span>
<a id="__codelineno-98-11" name="__codelineno-98-11" href="#__codelineno-98-11"></a><span class="w">      </span><span class="nv">renewEveryMinutes</span><span class="p">:</span><span class="w"> </span><span class="mf">720</span><span class="p">,</span>
<a id="__codelineno-98-12" name="__codelineno-98-12" href="#__codelineno-98-12"></a><span class="w">      </span><span class="nv">serve</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">bind</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;127. .0. &quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">port</span><span class="p">:</span><span class="w"> </span><span class="mf">8788</span><span class="p">,</span><span class="w"> </span><span class="nv">ruta</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-98-13" name="__codelineno-98-13" href="#__codelineno-98-13"></a><span class="w">      </span><span class="nv">tailscale</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;funnel&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/gmail-pubsub&quot;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-98-14" name="__codelineno-98-14" href="#__codelineno-98-14"></a>
<a id="__codelineno-98-15" name="__codelineno-98-15" href="#__codelineno-98-15"></a><span class="w">      </span><span class="c1">// Opcional: use un modelo más barato para el procesamiento de Gmail hook</span>
<a id="__codelineno-98-16" name="__codelineno-98-16" href="#__codelineno-98-16"></a><span class="w">      </span><span class="c1">// Volver a los agentes. efaults.model. allbacks, luego primario, en auth/rate-limit/timeout</span>
<a id="__codelineno-98-17" name="__codelineno-98-17" href="#__codelineno-98-17"></a><span class="w">      </span><span class="nv">modelo</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;openrouter/meta-llama/llama-3. -70b-instruct:free&quot;</span><span class="p">,</span>
<a id="__codelineno-98-18" name="__codelineno-98-18" href="#__codelineno-98-18"></a><span class="w">      </span><span class="c1">// Opcional: nivel de pensamiento predeterminado para Gmail hooks</span>
<a id="__codelineno-98-19" name="__codelineno-98-19" href="#__codelineno-98-19"></a><span class="w">      </span><span class="nv">thinking</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;off&quot;</span><span class="p">,</span>
<a id="__codelineno-98-20" name="__codelineno-98-20" href="#__codelineno-98-20"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-98-21" name="__codelineno-98-21" href="#__codelineno-98-21"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-98-22" name="__codelineno-98-22" href="#__codelineno-98-22"></a><span class="p">}</span>
</code></pre></div>
<p>Anulación de modelo para Gmail hooks:</p>
<ul>
<li><code>hooks.gmail.model</code> especifica un modelo a usar para el procesamiento de Gmail hook (por defecto para la sesión principal).</li>
<li>Acepta referencias de <code>provider/model</code> o alias de <code>agents.defaults.models</code>.</li>
<li>Vuelve a <code>agents.defaults.model.fallbacks</code>, luego <code>agents.defaults.model.primary</code>, en auth/rate-limit/timeouts.</li>
<li>Si <code>agents.defaults.models</code> está definido, incluya el modelo gancho en la lista permitida.</li>
<li>Al iniciar, advierte si el modelo configurado no está en el catálogo de modelos o lista permitida.</li>
<li><code>hooks.gmail.thinking</code> establece el nivel de pensamiento predeterminado para los ganchos de Gmail y es anulado por <code>pensando</code>.</li>
</ul>
<p>Inicio automático de Gateway:</p>
<ul>
<li>Si <code>hooks.enabled=true</code> y <code>hooks.gmail.account</code> está definido, el Gateway inicia
  <code>gog gmail watch serve</code> en el arranque y auto-renueva el reloj.</li>
<li>Establece <code>OPENCLAW_SKIP_GMAIL_WATCHER=1</code> para desactivar el auto-start (para ejecuciones manuales).</li>
<li>Evita ejecutar un <code>gog gmail watch serve</code> separado junto a la Gateway; fallará
  con <code>listen tcp 127.0.0.1:8788: bind: dirección ya en uso</code>.</li>
</ul>
<p>Nota: cuando <code>tailscale.mode</code> está encendido, OpenClaw predetermina <code>serve.path</code> a <code>/</code> para que
aescalar puede proxy <code>/gmail-pubsub</code> correctamente (quita el prefijo set-path).
Si necesitas el backend para recibir la ruta prefijada, establece
<code>hooks.gmail.tailscale.target</code> a una URL completa (y alinear <code>serve.path</code>).</p>
<h3 id="canvashost-servidor-de-archivos-lantailnet-canvas-recarga-en-vivo"><code>canvasHost</code> (Servidor de archivos LAN/tailnet Canvas + Recarga en vivo)<a class="headerlink" href="#canvashost-servidor-de-archivos-lantailnet-canvas-recarga-en-vivo" title="Permanent link">&para;</a></h3>
<p>El Gateway sirve un directorio de HTML/CSS/JS sobre HTTP, por lo que los nodos iOS/Android pueden simplemente <code>canvas.navigate</code> a él.</p>
<p>Raíz predeterminada: <code>~/. penclaw/workspace/canvas</code><br />
Puerto por defecto: <code>18793</code> (elegido para evitar el puerto CDP del navegador openclaw <code>18792</code>)<br />
El servidor escucha en el <strong>host de enlace de puerta de enlaza</strong> (LAN o vectorial) para que los nodos puedan alcanzarlo.</p>
<p>El servidor:</p>
<ul>
<li>sirve archivos bajo <code>canvasHost.root</code></li>
<li>inyecta un pequeño cliente live-reload en HTML servido</li>
<li>revisa el directorio y transmite recargas sobre un endpoint WebSocket en <code>/__openclaw__/ws</code></li>
<li>auto-crea un inicio <code>index.html</code> cuando el directorio está vacío (por lo que ves algo inmediatamente)</li>
<li>también sirve A2UI en <code>/__openclaw__/a2ui/</code> y se anuncia en los nodos como <code>canvasHostUrl</code>
  (siempre usado por los nodos para Canvas/A2UI)</li>
</ul>
<p>Deshabilita la recarga en vivo (y la visualización de archivos) si el directorio es grande o pulsa <code>EMFILE</code>:</p>
<ul>
<li>config: <code>canvasHost: { liveReload: false }</code></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="p">{</span>
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="w">  </span><span class="nv">canvasHost</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="w">    </span><span class="nv">root</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;~/.openclaw/workspace/canvas&quot;</span><span class="p">,</span>
<a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">    </span><span class="nv">port</span><span class="p">:</span><span class="w"> </span><span class="mf">18793</span><span class="p">,</span>
<a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="w">    </span><span class="nv">liveReload</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="p">}</span>
</code></pre></div>
<p>Los cambios a <code>canvasHost.*</code> requieren un reinicio de la puerta de enlace (la recarga de configuración se reiniciará).</p>
<p>Deshabilitar con:</p>
<ul>
<li>config: <code>canvasHost: { enabled: false }</code></li>
<li>env: <code>OPENCLAW_SKIP_CANVAS_HOST=1</code></li>
</ul>
<h3 id="puente-puente-tcp-antiguo-eliminado"><code>puente</code> (puente TCP antiguo, eliminado)<a class="headerlink" href="#puente-puente-tcp-antiguo-eliminado" title="Permanent link">&para;</a></h3>
<p>Las compilaciones actuales ya no incluyen el escuchador de puente TCP; las claves de configuración <code>bridge.*</code> son ignoradas.
Los nodos se conectan a través del WebSocket Gateway. Esta sección se mantiene para referencia histórica.</p>
<p>Comportamiento antiguo:</p>
<ul>
<li>El Gateway podría exponer un simple puente TCP para nodos (iOS/Android), típicamente en el puerto <code>18790</code>.</li>
</ul>
<p>Valores predeterminados:</p>
<ul>
<li>habilitado: <code>true</code></li>
<li>puerto: <code>18790</code></li>
<li>enlazar: <code>lan</code> (enlaza a <code>0.0.0.0</code>)</li>
</ul>
<p>Bind modes:</p>
<ul>
<li><code>lan</code>: <code>0.0.0.0</code> (accesible en cualquier interfaz, incluyendo LAN/Wi-Fi y Escala)</li>
<li><code>tailnet</code>: enlaza sólo con la IP de la máquina a escala de la máquina (recomendado para Viena, Londres)</li>
<li><code>loopback</code>: <code>127.0.0.1</code> (sólo local)</li>
<li><code>auto</code>: prefiere IP de tailnet si está presente, sino <code>lan</code></li>
</ul>
<p>TLS:</p>
<ul>
<li><code>bridge.tls.enabled</code>: habilitar TLS para conexiones de puente (TLS-only cuando está activado).</li>
<li><code>bridge.tls.autoGenerate</code>: genera un certificado autofirmado cuando no hay cert/clave presente (por defecto: true).</li>
<li><code>bridge.tls.certPath</code> / <code>bridge.tls.keyPath</code>: rutas PEM para el certificado de puente + clave privada.</li>
<li><code>bridge.tls.caPath</code>: paquete opcional PEM CA (raíces personalizadas o mTLS futuro).</li>
</ul>
<p>Cuando TLS está activado, la puerta de enlace anuncia <code>bridgeTls=1</code> y <code>bridgeTlsSha256</code> en registros de descubrimiento TXT
para que los nodos puedan fijar el certificado. Las conexiones manuales usan confianza-on-first-use si aún no hay huella dactilar
.
Los certificados autogenerados requieren 'openssl' en PATH; si la generación falla, el puente no comenzará.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="p">{</span>
<a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="w">  </span><span class="nv">bridge</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="w">    </span><span class="nv">activado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="nv">Puerto</span>
<a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a><span class="nv">    </span><span class="p">:</span><span class="w"> </span><span class="mf">18790</span><span class="p">,</span>
<a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a><span class="w">    </span><span class="nv">bind</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;tailnet&quot;</span><span class="p">,</span>
<a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a><span class="w">    </span><span class="nv">tls</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a><span class="w">      </span><span class="nv">habilitado</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a><span class="w">      </span><span class="c1">// Usa ~/. penclaw/puente/tls/puente-{cert,key}.</span>
<a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a><span class="w">      </span><span class="c1">// certPath: &quot;~/.openclaw/bridge/tls/bridge-cert.pem&quot;,</span>
<a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a><span class="w">      </span><span class="c1">// keyPath: &quot;~/. penclaw/puente/tls/puente-key.pem&quot;</span>
<a id="__codelineno-100-11" name="__codelineno-100-11" href="#__codelineno-100-11"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-100-12" name="__codelineno-100-12" href="#__codelineno-100-12"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-100-13" name="__codelineno-100-13" href="#__codelineno-100-13"></a><span class="p">}</span>
</code></pre></div>
<h3 id="discoverymdns-modo-bonjour-mdns-broadcast-mode"><code>discovery.mdns</code> (modo Bonjour / mDNS broadcast mode)<a class="headerlink" href="#discoverymdns-modo-bonjour-mdns-broadcast-mode" title="Permanent link">&para;</a></h3>
<p>Controla las transmisiones de descubrimiento de mDNS LAN (<code>_openclaw-gw._tcp</code>).</p>
<ul>
<li><code>minimal</code> (por defecto): omite <code>cliPath</code> + <code>sshPort</code> de registros TXT</li>
<li><code>full</code>: incluye <code>cliPath</code> + <code>sshPort</code> en registros TXT</li>
<li><code>apagado</code>: deshabilita completamente las transmisiones mDNS</li>
<li>Hostname: por defecto es <code>openclaw</code> (anuncia <code>openclaw.local</code>). Sobrescribir con <code>OPENCLAW_MDNS_HOSTNAME</code>.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="p">{</span>
<a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">  </span><span class="nv">discovery</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mdns</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;minimal&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="p">}</span>
</code></pre></div>
<h3 id="discoverywidearea-ancho-de-area-bonjour-unicast-dnsvideo-sd"><code>discovery.wideArea</code> (Ancho de área Bonjour / unicast DNS)[video] SD)<a class="headerlink" href="#discoverywidearea-ancho-de-area-bonjour-unicast-dnsvideo-sd" title="Permanent link">&para;</a></h3>
<p>Cuando está activado, el Gateway escribe una zona unicast DNS-SD para <code>_openclaw-gw._tcp</code> bajo <code>~/.openclaw/dns/</code> usando el dominio de descubrimiento configurado (ejemplo: <code>openclaw.internal.</code>).</p>
<p>Para hacer que iOS/Android descubra a través de las redes (Viena, Londres), emparejar esto con:</p>
<ul>
<li>un servidor DNS en la pasarela que sirve el dominio elegido (se recomienda CoreDNS)</li>
<li>escala de detalle <strong>DNS dividido</strong> para que los clientes resuelvan ese dominio a través del servidor DNS de puerta de enlace</li>
</ul>
<p>Ayuda de configuración de una sola vez (host de gateway):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a>openclaw<span class="w"> </span>dns<span class="w"> </span>setup<span class="w"> </span>--apply
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="p">{</span>
<a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="w">  </span><span class="nv">discovery</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">wideArea</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="p">}</span>
</code></pre></div>
<h2 id="variables-de-plantilla-de-modelo-multimedia">Variables de plantilla de modelo multimedia<a class="headerlink" href="#variables-de-plantilla-de-modelo-multimedia" title="Permanent link">&para;</a></h2>
<p>Los marcadores de posición de plantillas se expanden en <code>tools.media.*.models[].args</code> y <code>tools.media.models[].args</code> (y cualquier campo de argumentos futuros de plantilla).</p>
<p>| Variable | Descripción |
| ------------------ | --------------------------------------------------------------- | -------- | ------- | ------- | ---------- | ------ | -------- | ------- | ------- | ------- | --- |
| <code>{{Body}}</code> | cuerpo de mensaje entrante |
| <code>{{RawBody}}</code> | Mensaje entrante sin envoltorio (no envoltorio history/sender; best for command parsing) |
| <code>{{BodyStripped}}</code> | Cuerpo con menciones de grupo eliminadas (mejor por defecto para los agentes) |
| <code>{{From}}</code> | Identificador del remitente (E. 64 para WhatsApp; can differ per channel) |
| <code>{{To}}</code> | Destino identificador |
| <code>{{MessageSid}}</code> | Channel message id (cuando está disponible) |
| <code>{{SessionId}}</code> | Current session UUID |
| <code>{{IsNewSession}}</code> | <code>"true"</code> cuando se creó una nueva sesión |
| <code>{{MediaUrl}}</code> | Inbound media pseudo-URL (si está presente) |
| <code>{{MediaPath}}</code> | <code>{{MediaPath}}</code> | Local media path (si está descargado) |
| <code>{{MediaType}}</code> | Media type (image/audio/document/…)                                             |
| <code>{{Transcript}}</code>   | Transcripción de audio (cuando está habilitada)                                 |
| <code>{{Prompt}}</code>       | Prompt de medios resuelto para entradas de CLI                                  |
| <code>{{MaxChars}}</code>     | Máximo de caracteres de salida resuelto para entradas de CLI                    |
| <code>{{ChatType}}</code>     | <code>"direct"</code> o <code>"group"</code>                                                       |
| <code>{{GroupSubject}}</code> | Asunto del grupo (mejor esfuerzo)                                                |
| <code>{{GroupMembers}}</code> | Vista previa de los miembros del grupo (mejor esfuerzo)                         |
| <code>{{SenderName}}</code>   | Nombre para mostrar del remitente (mejor esfuerzo)                              |
| <code>{{SenderE164}}</code>   | Número de teléfono del remitente (mejor esfuerzo)                               |
| <code>{{Provider}}</code>     | Pista del proveedor (whatsapp                                                         | telegram | discord | googlechat | slack | signal | imessage | msteams | webchat | …)  |</p>
<h2 id="cron-planificador-de-gateway">Cron (Planificador de Gateway)<a class="headerlink" href="#cron-planificador-de-gateway" title="Permanent link">&para;</a></h2>
<p>Cron es un planificador propiedad de Gateway para despertar y tareas programadas. Ver <a href="../../automation/cron-jobs">Trabajos Cronales</a> para ver el resumen de características y ejemplos de CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="p">{</span>
<a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="w">  </span><span class="nv">cron</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">    </span><span class="nv">enabled</span><span class="p">:</span><span class="w"> </span><span class="k">true</span><span class="p">,</span>
<a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">    </span><span class="nv">maxConcurrentRuns</span><span class="p">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span>
<a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="p">}</span>
</code></pre></div>
<hr />
<p><em>Siguiente: <a href="../../concepts/agent">Runtime del Agente</a></em> 🦞</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Community translations maintained by <a href="http://blog.law-kelly.com/2026/02/open-source-means-open-language.html">John Kelly</a>. Improve translations on <a href="https://crowdin.com/project/66aa453b091ff31e16a4cecfeef31b17">Crowdin</a>.

    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/openclaw/openclaw" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://crowdin.com/project/66aa453b091ff31e16a4cecfeef31b17" target="_blank" rel="noopener" title="crowdin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>